(this["webpackJsonpweiss-english--client"]=this["webpackJsonpweiss-english--client"]||[]).push([[0],{527:function(e,t,n){"use strict";var a=n(36);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(0)),o=(0,a(n(47)).default)(r.default.createElement("path",{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zM9 6c0-1.66 1.34-3 3-3s3 1.34 3 3v2H9V6zm9 14H6V10h12v10zm-6-3c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2z"}),"LockOutlined");t.default=o},528:function(e,t,n){"use strict";var a=n(6),r=n(1),o=n(0),i=(n(8),n(3)),c=n(10),s=[0,1,2,3,4,5,6,7,8,9,10],l=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12];function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=parseFloat(e);return"".concat(n/t).concat(String(e).replace(String(n),"")||"px")}var d=o.forwardRef((function(e,t){var n=e.alignContent,c=void 0===n?"stretch":n,s=e.alignItems,l=void 0===s?"stretch":s,u=e.classes,d=e.className,m=e.component,g=void 0===m?"div":m,f=e.container,p=void 0!==f&&f,b=e.direction,v=void 0===b?"row":b,x=e.item,h=void 0!==x&&x,w=e.justify,y=void 0===w?"flex-start":w,j=e.lg,O=void 0!==j&&j,S=e.md,E=void 0!==S&&S,k=e.sm,C=void 0!==k&&k,z=e.spacing,W=void 0===z?0:z,F=e.wrap,N=void 0===F?"wrap":F,M=e.xl,D=void 0!==M&&M,I=e.xs,B=void 0!==I&&I,R=e.zeroMinWidth,T=void 0!==R&&R,V=Object(a.a)(e,["alignContent","alignItems","classes","className","component","container","direction","item","justify","lg","md","sm","spacing","wrap","xl","xs","zeroMinWidth"]),A=Object(i.default)(u.root,d,p&&[u.container,0!==W&&u["spacing-xs-".concat(String(W))]],h&&u.item,T&&u.zeroMinWidth,"row"!==v&&u["direction-xs-".concat(String(v))],"wrap"!==N&&u["wrap-xs-".concat(String(N))],"stretch"!==l&&u["align-items-xs-".concat(String(l))],"stretch"!==c&&u["align-content-xs-".concat(String(c))],"flex-start"!==y&&u["justify-xs-".concat(String(y))],!1!==B&&u["grid-xs-".concat(String(B))],!1!==C&&u["grid-sm-".concat(String(C))],!1!==E&&u["grid-md-".concat(String(E))],!1!==O&&u["grid-lg-".concat(String(O))],!1!==D&&u["grid-xl-".concat(String(D))]);return o.createElement(g,Object(r.a)({className:A,ref:t},V))})),m=Object(c.a)((function(e){return Object(r.a)(Object(r.a)({root:{},container:{boxSizing:"border-box",display:"flex",flexWrap:"wrap",width:"100%"},item:{boxSizing:"border-box",margin:"0"},zeroMinWidth:{minWidth:0},"direction-xs-column":{flexDirection:"column"},"direction-xs-column-reverse":{flexDirection:"column-reverse"},"direction-xs-row-reverse":{flexDirection:"row-reverse"},"wrap-xs-nowrap":{flexWrap:"nowrap"},"wrap-xs-wrap-reverse":{flexWrap:"wrap-reverse"},"align-items-xs-center":{alignItems:"center"},"align-items-xs-flex-start":{alignItems:"flex-start"},"align-items-xs-flex-end":{alignItems:"flex-end"},"align-items-xs-baseline":{alignItems:"baseline"},"align-content-xs-center":{alignContent:"center"},"align-content-xs-flex-start":{alignContent:"flex-start"},"align-content-xs-flex-end":{alignContent:"flex-end"},"align-content-xs-space-between":{alignContent:"space-between"},"align-content-xs-space-around":{alignContent:"space-around"},"justify-xs-center":{justifyContent:"center"},"justify-xs-flex-end":{justifyContent:"flex-end"},"justify-xs-space-between":{justifyContent:"space-between"},"justify-xs-space-around":{justifyContent:"space-around"},"justify-xs-space-evenly":{justifyContent:"space-evenly"}},function(e,t){var n={};return s.forEach((function(a){var r=e.spacing(a);0!==r&&(n["spacing-".concat(t,"-").concat(a)]={margin:"-".concat(u(r,2)),width:"calc(100% + ".concat(u(r),")"),"& > $item":{padding:u(r,2)}})})),n}(e,"xs")),e.breakpoints.keys.reduce((function(t,n){return function(e,t,n){var a={};l.forEach((function(e){var t="grid-".concat(n,"-").concat(e);if(!0!==e)if("auto"!==e){var r="".concat(Math.round(e/12*1e8)/1e6,"%");a[t]={flexBasis:r,flexGrow:0,maxWidth:r}}else a[t]={flexBasis:"auto",flexGrow:0,maxWidth:"none"};else a[t]={flexBasis:0,flexGrow:1,maxWidth:"100%"}})),"xs"===n?Object(r.a)(e,a):e[t.breakpoints.up(n)]=a}(t,e,n),t}),{}))}),{name:"MuiGrid"})(d);t.a=m},554:function(e,t,n){"use strict";n.r(t);var a=n(24),r=n.n(a),o=n(42),i=n(4),c=n(0),s=n.n(c),l=n(1),u=n(6),d=(n(8),n(3)),m=n(10),g=n(121),f=Object(g.a)(c.createElement("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");var p=c.forwardRef((function(e,t){var n=e.alt,a=e.children,r=e.classes,o=e.className,i=e.component,s=void 0===i?"div":i,m=e.imgProps,g=e.sizes,p=e.src,b=e.srcSet,v=e.variant,x=void 0===v?"circle":v,h=Object(u.a)(e,["alt","children","classes","className","component","imgProps","sizes","src","srcSet","variant"]),w=null,y=function(e){var t=e.src,n=e.srcSet,a=c.useState(!1),r=a[0],o=a[1];return c.useEffect((function(){if(t||n){o(!1);var e=!0,a=new Image;return a.src=t,a.srcSet=n,a.onload=function(){e&&o("loaded")},a.onerror=function(){e&&o("error")},function(){e=!1}}}),[t,n]),r}({src:p,srcSet:b}),j=p||b,O=j&&"error"!==y;return w=O?c.createElement("img",Object(l.a)({alt:n,src:p,srcSet:b,sizes:g,className:r.img},m)):null!=a?a:j&&n?n[0]:c.createElement(f,{className:r.fallback}),c.createElement(s,Object(l.a)({className:Object(d.default)(r.root,r.system,r[x],o,!O&&r.colorDefault),ref:t},h),w)})),b=Object(m.a)((function(e){return{root:{position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none"},colorDefault:{color:e.palette.background.default,backgroundColor:"light"===e.palette.type?e.palette.grey[400]:e.palette.grey[600]},circle:{},rounded:{borderRadius:e.shape.borderRadius},square:{borderRadius:0},img:{width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4},fallback:{width:"75%",height:"75%"}}}),{name:"MuiAvatar"})(p),v=n(430),x={WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box"},h=function(e){return Object(l.a)(Object(l.a)({color:e.palette.text.primary},e.typography.body2),{},{backgroundColor:e.palette.background.default,"@media print":{backgroundColor:e.palette.common.white}})};var w=Object(m.a)((function(e){return{"@global":{html:x,"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:e.typography.fontWeightBold},body:Object(l.a)(Object(l.a)({margin:0},h(e)),{},{"&::backdrop":{backgroundColor:e.palette.background.default}})}}}),{name:"MuiCssBaseline"})((function(e){var t=e.children,n=void 0===t?null:t;return e.classes,c.createElement(c.Fragment,null,n)})),y=n(504),j=n(15),O=n(141),S=n(21),E=n(169),k=c.forwardRef((function(e,t){var n=e.classes,a=e.className,r=e.color,o=void 0===r?"primary":r,i=e.component,s=void 0===i?"a":i,m=e.onBlur,g=e.onFocus,f=e.TypographyClasses,p=e.underline,b=void 0===p?"hover":p,v=e.variant,x=void 0===v?"inherit":v,h=Object(u.a)(e,["classes","className","color","component","onBlur","onFocus","TypographyClasses","underline","variant"]),w=Object(O.a)(),y=w.isFocusVisible,k=w.onBlurVisible,C=w.ref,z=c.useState(!1),W=z[0],F=z[1],N=Object(S.a)(t,C);return c.createElement(E.a,Object(l.a)({className:Object(d.default)(n.root,n["underline".concat(Object(j.a)(b))],a,W&&n.focusVisible,"button"===s&&n.button),classes:f,color:o,component:s,onBlur:function(e){W&&(k(),F(!1)),m&&m(e)},onFocus:function(e){y(e)&&F(!0),g&&g(e)},ref:N,variant:x},h))})),C=Object(m.a)({root:{},underlineNone:{textDecoration:"none"},underlineHover:{textDecoration:"none","&:hover":{textDecoration:"underline"}},underlineAlways:{textDecoration:"underline"},button:{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle","-moz-appearance":"none","-webkit-appearance":"none","&::-moz-focus-inner":{borderStyle:"none"},"&$focusVisible":{outline:"auto"}},focusVisible:{}},{name:"MuiLink"})(k),z=n(528),W=n(208),F=n(43),N=n(125),M=n(209),D=n(126),I=n(127),B=n(129),R=n(128),T=n(210),V=n(130),A=n(140),P=n(131),H=n(497),L=n(99),_=function(e){var t=Object(H.a)(e);return function(e,n){return t(e,Object(l.a)({defaultTheme:L.a},n))}},q=Object(W.a)(Object(F.a)(N.h,M.a,D.d,I.a,B.b,R.c,T.a,V.b,A.b,P.a)),G=_("div")(q,{name:"MuiBox"}),J=n(527),$=n.n(J),U=n(477),Y=n(489),K=n(40),Q=n(132),X=n(30),Z=n(16),ee=n(81);function te(){return s.a.createElement(E.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",s.a.createElement(C,{color:"inherit",href:"https://weiss-english.now.sh/"},"Weiss")," ",(new Date).getFullYear(),".")}n.d(t,"default",(function(){return ie}));const ne=Object(U.a)(e=>({paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}));let ae,re,oe;function ie(e){const t=e.route.history,n=ne(),a=Object(c.useContext)(X.a),l=Object(i.a)(a,2),u=l[0],d=(l[1],u.Logger),m=u.request,g=u.navigateTo,f=Object(Z.f)(ee.a),p=Object(c.useCallback)(function(){var e=Object(o.a)(r.a.mark((function e(n){var a,o,i,c,s,l,u,d,p,b,v;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,a=new FormData(n.target),o=a.get("email"),i=a.get("password"),a.get("remember"),Q.a,e.next=9,m("POST",Q.a.users.POST.login.path,{email:o,password:i});case 9:if(c=e.sent,s=c.error,l=c.wrongCredentials,u=c.loggedIn,d=c.user,!s){e.next=13;break}throw new Error(s);case 13:if(!l){e.next=15;break}throw new Error("Login failed. Reason: wrong credentials provided.");case 15:if(u){e.next=17;break}throw new Error("Login failed for an unknown reason.");case 17:p=d.first_name,b=d.last_name,v=d.role,f({email:o,password:i,role:v,first_name:p,last_name:b}),ae("logged in ".concat(v||""," user ").concat(o," ")),oe=window.requestAnimationFrame(()=>{g("/client-type-select",t)}),e.next=27;break;case 24:e.prev=24,e.t0=e.catch(1),re(e.t0);case 27:case"end":return e.stop()}}),e,null,[[1,24]])})));return function(t){return e.apply(this,arguments)}}(),[]);return Object(c.useEffect)(()=>{const e=new d({label:"login"});return ae=e.logg,re=e.loggError,()=>{cancelAnimationFrame(oe)}},[d]),s.a.createElement(K.a,{animate:!1,className:"login-page"},s.a.createElement(Y.a,{component:"main",maxWidth:"xs"},s.a.createElement(w,null),s.a.createElement("div",{className:n.paper},s.a.createElement(b,{className:n.avatar},s.a.createElement($.a,null)),s.a.createElement(E.a,{component:"h1",variant:"h5"},"Log in"),s.a.createElement("form",{className:n.form,onSubmit:p},s.a.createElement(y.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0}),s.a.createElement(y.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password"}),s.a.createElement(v.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:n.submit},"Sign In"),s.a.createElement(z.a,{container:!0},s.a.createElement(z.a,{item:!0,xs:!0},s.a.createElement(C,{href:"/",variant:"body2"},"Forgot password?")),s.a.createElement(z.a,{item:!0},s.a.createElement(C,{href:"/signup",variant:"body2"},"Don't have an account? Sign Up"))))),s.a.createElement(G,{mt:8},s.a.createElement(te,null))))}}}]);
//# sourceMappingURL=Login.87f9792b.chunk.js.map