{"version":3,"sources":["constants/durations.js","AJAX/ajax-endpoints.js","lib/issy/index.js","constants/theme.js","constants/mediaQueries.js","constants/backgroundClasses.js","lib/SpeechRecognizer/index.js","components/GlowingLoader/GlowingLoader.module.scss","components/DraggableBall/DraggableBall.module.scss","components/FreeSpeechBubble/FreeSpeechBubble.jsx","pages/SageAdvice/SageAdvice.jsx","items/animals.js","items/animals-items.js","contexts/AppContext.jsx","components/layout/View.jsx","esl/verbs.js","components/layout/AppBar.jsx","components/layout/EntireView.jsx","pages/ErrorPage/ErrorPage.jsx","hooks/usePromiseKeeper.jsx","gql/queries/GetSlides.js","gql/queries/GetRooms.js","store/rooms.atom.js","store/room.atom.js","store/CONNECTION_STATES.js","store/socket.atom.js","store/client.atom.js","store/lesson.atom.js","store/refs.atom.js","store/socketConnection.atom.js","components/VideoPlayer/VideoPlayer.jsx","components/Card/cardStyle.js","components/Card/Card.js","pages/LogoScreen/LogoScreen.jsx","components/RealtimeManager/clientActionTypes.js","components/RealtimeManager/clientTypes.js","components/RealtimeManager/FeedbackContent.js","components/RealtimeManager/RealtimeManager.jsx","constants/localStorageKey.js","components/PieChart/PieChart.jsx","store/soundState.atom.js","store/isSoundOn.selector.js","components/Heading/Heading.styles.js","components/Heading/Heading.js","constants/sounds.js","pages/ClientTypeSelect/Realtime.entrance.jsx","components/WeissSpinner/WeissSpinner.jsx","store/slide.selector.js","constants/clientsTypes.js","components/SpeedDial/SpeedDial.js","components/SlidePageTemplates/Page.styles.js","components/CenteredContainer/CenteredContainer.styles.js","components/Text/Text.styles.js","components/Text/Text.js","components/SlidePageTemplates/Slide.styles.js","components/SlidePageTemplates/CenteredHeadings.js","components/Subtitle/Subtitle.styles.js","components/Subtitle/Subtitle.js","components/SlidePageTemplates/BottomThirdCaption.js","components/SlidePageTemplates/Text1.js","components/List/List.js","components/SlidePageTemplates/ListMain/ListMain.js","components/SlidePageTemplates/Page.js","components/SlidePageTemplates/Slide.js","store/AppContext.js","store/currentSlideIndex.atom.js","components/Slider/Slider.js","components/Classroom/Classroom.js","components/Card/Card.jsx","components/Carousel/Carousel.js","components/DraggableBall/DraggableBall.jsx","components/GlowingLoader/GlowingLoader.jsx","pages/ClassroomSelect/ClassroomSelect.page.jsx","AppRoutes.js","constants/bgVideos.js","App.jsx","PWA/registerServiceWorker.js","index.js","lib/logg.js","hooks/useLogg.jsx","constants/poses.js","constants/screenSizes.js","contexts/DeviceContext.jsx","store/user.atom.js","lib/SynthVoice/index.js"],"names":["DURATIONS","enter","exit","freeze","betweenLevels","hide_appbar","elementTranform","standard__quick","USER_SERVER_URL","ENDPOINTS","animals","GET","search","path","POST","getAll","updateRow","DELETE","animal","PUT","users","updateOne","signup","login","user","lyrics","find","updateAll","song","images","category","foods","add","addByName","one","ninjaCode","ninjaCodeUser","ninjaCodeDomestic","DOMESTIC_SERVER_URL","userImages","uploadOne","logger","Logger","label","logg","loggError","sanitizeVarName","name","Error","onlyCharsAndDigits","replace","slice","issy","Validator","constructor","arg","negate","_is","aType","this","result","isNaN","String","Object","prototype","toString","call","anArray","getTime","_date","Date","our","is","isNot","getRandomUpTo","max","numGenerations","min","rand","i","Math","random","floor","pickRandomFrom","arr","numItems","excludedIndexes","ln","length","randomIndex","randomIndexes","randomItems","numIterations","includes","push","PromiseKeeper","COMPLETE_TYPES","intervalIndex","_clear","timeoutOrInterval","timerID","timerItem","isTimeout","str","toLowerCase","window","clearTimeout","clearInterval","err","promiseIndex","promises","numPromises","latestPromise","logLabel","_addOrUpdateUltimatePromise","ultimatePromise","anObject","sanitizedLabel","promiseEntry","numTimesSet","id","isInterval","andThen","callback","originalPromise","then","resolvedValue","stall","ms","config","ultimatePromiseConfig","aString","stallPromise","timeoutId","assign","withRC","Promise","resolve","setTimeout","every","everyPromise","intervalId","reject","setInterval","clear","removeFromCache","timerType","timerElement","cleared","_sanitizedLabel","entries","_timerElement","clearAll","timeoutsDidClear","intervalsDidClear","promisesDidReject","rejectAll","logMsg","noRejection","resolveOnError","rejectOnResolve","_ultimateResolve","_ultimateReject","ultimateResolve","ultimateReject","bind","resolved","rejectedOnResolve","catch","reason","reasonString","JSON","stringify","rejected","resolvedOnError","rejectionIgnored","message","finally","completed","value","promiseLabel","promiseToReject","resolveValue","promiseToResolve","_completeLatest","completeType","logPromise","msg","resolveLatest","rejectLatest","completeAll","resolveOrReject","valOrReason","completefunc","_promises","_promise","resolveAll","any","softPromises","map","promise","a","race","morePromisesLeft","numPromisesRejected","reduce","numRejected","promiseHolder","allCompleted","ultimateFinishers","undefined","finalUltimatePromise","all","atLeastOneResolved","results","softPromise","j","keptPromises","promiseKeeper","shuffleOnce","arrClone","needleIndex","index","temp","shuffle","numShuffles","shuffled","getFormattedTime","date","dateObj","aDate","aNumber","parse","hours","getHours","minutes","getMinutes","copyToClipboard","text","printMsg","navigator","clipboard","writeText","scrollTo","domRef","scrollIntoView","current","block","behavior","pollyfills","requestAnimationFrame","requestFunction","vendorCancel","cancelAnimationFrame","vendors","x","lastTime","element","currTime","timeToCall","shimme","functionName","loadImage","url","domElement","imgNode","document","body","image","Image","style","opacity","onload","ev","decode","unsupported","parentNode","removeChild","src","appendChild","navigateTo","history","emptyFunc","completePath","removeDoubleSlashes","pathname","addToHomescreen","deferredPrompt","addEventListener","e","preventDefault","addToHomescreenBtn","querySelector","classList","stopPropagation","prompt","userChoice","choiceResult","console","remove","outcome","keyEventHandlers","defaultKeyCallback","key","on","log","handlePress","keyCode","charCode","aFunction","handlers","_key","removePressHandlers","eventType","capitalizeFirstLetter","firstLetter","toUpperCase","rest","lowerCaseRest","capitalizeTitle","split","word","join","localStorage","get","getItem","getObj","getArray","set","val","setItem","setObj","setArray","getUniqueString","numChars","IssyLoop","Looper","array","do","_arr","forEach","item","convertToArray","collection","asArray","forAll","items","goOver","DomClimberError","missingParam","DOMClimber","domElem","upTo","attr","className","maxIterations","_maxIterations","isFound","ancestor","offsetElem","hasDifferentVal","attrName","attrValue","getAttribute","contains","climbFrom","getCurrentFromRef","elemOrRef","alignElements","movingElem","targetElem","top","_movingElem","_targetElem","movingElemStyle","targetBox","getBoundingClientRect","request","method","uri","payload","headers","Accept","uriWithQueryParams","queryParams","concat","indexOf","fetch","res","status","ok","json","problem","error","parsedResponse","code","notFound","ajaxResult","response","throwOnError","getRandomColor","alpha","rgb","setDomProperty","documentElement","propertyName","cssVar","_propertyName","setProperty","success","theme","createMuiTheme","palette","primary","main","secondary","canvasColor","spacing","typography","fontFamily","htmlFontSize","layout","appbarHeightXs","appbarHeightSm","appbarHeightMd","appbarHeightLg","drawerWidth","promptHeight","widthSizes","xs","sm","md","lg","xl","createMediaQueryString","minWidth","maxWidth","orientation","minRule","maxRule","sizeRules","mediaQueries","phone","portrait","landscape","tablet","largeScreen","xlScreen","backgroundClasses","defaultConfig","continuous","lang","interimResults","maxAlternatives","timeout","grammarGenericType","onResult","allMatched","wordResults","transcript","confidence","onStart","recognition","speechRecognizer","onEnd","onSpeechStart","onSpeechEnd","stop","onSoundStart","onSoundEnd","onAudioStart","onAudioEnd","onNoMatch","onError","SpeechRecognizer","words","createGrammarString","type","getRecognitionFor","deprecatedlang","SpeechRecognition","webkitSpeechRecognition","speechRecognitionList","SpeechGrammarList","webkitSpeechGrammarList","addFromString","grammars","listen","listening","start","listenFor","once","onMatch","onerror","onresult","speechRecognitionAlternative","trim","onspeechend","stopListening","handler","onnomatch","setLanguage","langString","setInterimResults","acceptInterimResults","setMaxAlternatives","combinedConfig","_lang","langRef","refs","selectedLang","_type","confidence_shortened","toFixed","numMatches","pos","matched","finalResult","onstart","onend","onspeechstart","onsoundstart","onsoundend","onaudioend","onaudiostart","module","exports","FreeSpeechBubble","React","forwardRef","props","ref","Text","show","anchor","onClick","useContext","AppContext","appUtils","appbarHeight","DeviceContext","useRef","useEffect","bubbleHeight","clientHeight","clsx","animationFrame","now","prevTime","elapsedTime","Sage","cacheRequests","description","loader","onLoad","hasCache","pressablePoses","visible","scale","transition","duration","hidden","left","pressable","press","damping","Pressable","posed","div","colorIndex","ColorSet","_config","sageColors","darken","base","darker","lighter","transparent","fixed","createCSSRuleString","selector","propertyValue","important","SageAdvice","responsiveData","poseGroup","sageRef","mouthRef","speechBubbleRef","useState","showSpeechBubble","setShowSpeechBubble","showBubble","setShowBubble","showMagicField","setShowMagicField","showSage","setShowSage","rerender","isStyleSheetAttached","setIsStyleSheetAttached","whiteoutMode","setWhiteOutMode","speechBubbleAnchor","setSpeechBubbleAnchor","$isSagePressed","$isActive","$responsiveData","addDynamicStyleSheet","useCallback","styleSheet","styleElem","createElement","createTextNode","head","sheet","attachStyleSheet","cssRules","colorSet","colorRules","shadeGroups","shadeType","numShades","selectorPre","shadeRule","insertRule","changeColors","newColors","NUM_COLORS_USED","newColor","varIndex","color","animationIsStopped","setAnimationIsStopped","alignSpeechBubble","loop","fpsInterval","primaryDarker1","Color","string","primaryDarker2","primaryDarker3","primaryDarker4","primaryDarker5","primaryLighter1","lighten","primaryLighter2","primaryLighter3","primaryLighter4","primaryLighter5","onPressStart","onPressEnd","colorSets","part","shades","shadeLabel","baseColor","multiplier","_multi","Number","darkerShade","lighterShade","k","transparentShade","fade","bodyStyles","colorLabel","pre","shadeName","colorValue","variableName","changeSageColor","pose","initialPose","innerRef","Button","variant","size","location","reload","ButtonGroup","fullWidth","aria-label","disabled","prev","cat","imgURL","small","regular","pet","tiger","lion","dog","fox","wolf","monkey","gorilla","elephant","giraffe","kangaroo","zebra","bear","cow","bull","sheep","goat","pig","camel","deer","horse","donkey","chicken","chick","bird","pigeon","parrot","vulture","eagle","duck","goose","swan","stork","flamingo","penguin","fish","dolphin","whale","alligator","lizard","chameleon","crab","snake","hedgehog","turtle","rabbit","squirrel","mouse","bat","owl","bee","fly","ant","beetle","ladybug","grasshopper","spider","createItem","originalForm","animalName","maxItems","ANIMALS","hasOwnProperty","createItems","addItem","warn","synthVoice","SynthVoice","accent","gender","custom","rate","pitch","DEBUGGING","process","autoResolveWhenDebugging","fallback","UTILS","POSES","MEDIA_QUERIES","THEME","BACKGROUND_CLASSES","PoseGroup","SplitText","tween","interpolate","EMPTY_FUNC","DEFAULTS","getOptionsLabel","option","title","v1","onSearchOptionChange","groupBy","groupName","createContext","setUser","setSearchables","getUserFromLocalStorage","first_name","last_name","email","Searchables","selected","options","onChange","AppContextProvider","realtime","localStorageKey","isFirstVisit","searchables","appState","setAppState","remember","role","userSansPassword","Provider","children","numRenders","View","viewId","responsive","animate","animateChildren","flex","fullsize","positionRelative","margin","containerClasses","containerPoses","view_main","view","PosedContainer","PosedContainerWithProps","animateOnMount","VERB_GROUP_NAMES","VERBS","ED","formula","suffix","verbs","vSnob","vIng","v2","v3","ED_CVC_DOUBLE","ED_CVC_DONT_DOUBLE","D","Y_IED","Y__ED","Y_ALL_SAME","MOST_COMMON","OLD","OOD","HALF","HALF_PLUS_T","D_TO_T","AID","OUND","U","AT","T","COMEBACK","ELD","OUGHT","EN","UN","OWN","ITTEN","N","ORN","LIE","VERB_LIST","mainLinks","Icon","Home","Chat","adminOnly","secondaryLinks","FilterDrama","Refresh","useStyles","makeStyles","root","flexGrow","display","breakpoints","up","position","borderRadius","shape","backgroundColor","marginLeft","width","autoComplete","transitions","create","searchIcon","height","pointerEvents","alignItems","justifyContent","inputRoot","inputInput","padding","drawer","flexShrink","drawerPaper","appBar","device","background","paper","appBarText","whiteSpace","textOverflow","iconButton","marginRight","toolbar","mixins","icon","fill","settings_bar","loginBtn","fontSize","avatar","withRouter","match","mobileOpen","setMobileOpen","useTheme","searchOptions","setSearchOptions","setGetOptionLabel","sharedRefs","anchorEl","setAnchorEl","open","Boolean","mediaContext","classes","useRecoilState","userState","handleDrawerToggle","prevState","closeLink","Close","handleLinkClick","handleUserMenuClose","linkList","linkGroup","link","getOptionLabel","flat","renderMenuList","menuItems","ListItem","button","ListItemIcon","ListItemText","renderSecondaryListItemText","renderPrimaryListItemText","Divider","List","AppBar","elevation","Toolbar","IconButton","menuButton","Typography","noWrap","Autocomplete","placeholder","autoHighlight","autoSelect","clearOnEscape","disableClearable","disableCloseOnSelect","loading","loadingText","noOptionsText","renderInput","params","Fragment","TextField","searchable","selectedSearchable","aria-controls","aria-haspopup","event","currentTarget","anchorOrigin","vertical","horizontal","keepMounted","transformOrigin","onClose","MenuItem","menuitem","target","Hidden","xlUp","implementation","Drawer","container","direction","EntireView","isMobile","screenSize","isAppbarVisible","onContextMenu","readableElem","textContent","say","ErrorBoundary","Component","super","state","hasError","componentDidCatch","info","render","debug","usePromiseKeeper","gql","recoilState","atom","default","roomKey","slides","img","video","gif","students","teachers","platforms","currentSlideIndex","CONNECTION_STATES","IS_NOT_READY","IDLE","CONNECTING","ENTERING_ROOM","ALREADY_INSIDE_ROOM","ENTERED_ROOM","CONNECTION_FAILED","DISCONNECTED","dangerouslyAllowMutability","VideoPlayer","useLogg","videoPlayer","isPlaying","setIsPlaying","setVideo","playing","controls","light","volume","muted","faded","setFaded","fadeFromEnd","fadeInWhenReady","noInteraction","sfx","fullHeight","scaleToFitViewport","onPlay","onReady","reactPlayerComponent","_player","startSecond","_startSecond","seekTo","wrapper","onSeek","handleSeek","onEnded","onProgress","playedSeconds","played","loadedSeconds","loaded","stopSecond","timestamp","cardStyle","card","border","marginBottom","marginTop","boxShadow","flexDirection","wordWrap","cardPlain","cardCarousel","overflow","styles","LogoScreen","route","showVideo","to","studentActions","raiseHand","bodyText","care","like","help","teacherActions","beQuiet","niceWork","platformActions","share","FeedbackContent","isSocketInitialized","CLIENT_STORAGE_KEY","USER_STORAGE_KEY","Realtime","CLIENT_ONLY","viewRef","setRooms","useSetRecoilState","roomsState","roomState","room","setRoom","socketState","setSocket","setLesson","lessonState","clientState","client","setClient","keepServersAwake","useRecoilValue","serversUris","values","serverUri","toastNotification","actionName","teacher","actions","_bodyText","toast","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","localStorageUser","localStorageClient","promiseTokeepServerAwake","initSocket","password","socket","io","classroom","lesson","classrooms","_client","stateName","content","emit","clientType","rooms","_socket","newestOnTop","rtl","pauseOnFocusLoss","defaultData","CustomPieChart","data","animationDuration","animationEasing","cx","cy","labelStyle","labelPosition","lengthAngle","lineWidth","onMouseOut","onMouseOver","paddingAngle","radius","rounded","startAngle","startReveal","viewBoxSize","active","showHoverAnimation","animateSelected","pauseAnimation","selectedSegment","setSelectedSegment","selectedIndex","setSelectedIndex","hoveredIndex","setHoveredIndex","lastHoveredIndex","setLastHoveredIndex","labelProps","dataIndex","chartData","sectionIndex","_selectedSeg","_data","reveal","isSoundOn","soundState","Heading1","styled","h1","Heading2","h2","CHAR_POSES","charInWordIndex","numCharsInWord","y","wordIndex","numWords","charIndex","delay","speechRate","delayPerWord","appearDuration","mass","drag","velocity","sin","dragEnd","stiffness","HEADER_VARIANTS","SHADOW_VARIANTS","TEXT_LOOKS","Header","h","centered","shadow","textLook","onTitleClick","StyledHeading","StyledHeading1","StyledHeading2","Container","charPoses","wordPoses","word__draggable","mainClickSound","Howl","attentionSound","ScaleIn","rotateZ","socketIOlogg","clientID","PIE_ENTER_DURATION","pieChartPoses","PosedPieContainer","titlePoses","feedbackPoses","rotateY","PosedFeedback","initialPieData","RTEntrance","UNAUTHORIZED","isSoundOnState","feedback","setFeedback","socketConnectionState","connectionStatus","setConnectionStatus","isPieActive","setIsPieActive","showPieChart","setShowPieChart","pieReveal","pieData","piePaddingAngle","showGlass","setShowGlass","animatedSegmentIndex","setAnimatedSegmentIndex","hideElements","setHideElements","navigateToClassroomSelect","stylePreset","newFeedback","Heading","PieChart","play","spinner","backgroundImage","backgroundOrigin","clientsTypes","clientActions","setClientActions","isSpeedDialOpen","setIsSpeedDialOpen","selectedAction","setSelectedAction","SpeedDial","ariaLabel","SpeedDialIcon","onOpen","bottom","right","action","actionIndex","isSelected","SpeedDialAction","tooltipTitle","tooltipOpen","clientId","toAllStudents","teacherClientId","eventName","handleActionClick","Backdrop","zIndex","pClassName","readable","CenteredHeadings","heading","subheading","p","bgImage","pages","Subtitle","paragraphs","paragraph","BottomThirdCaption","Slide","marquee","subMarquee","ListContainer","listItems","listItem","ListMain","bullets","templateName","PAGE_TEMPLATES","Text1","Page","LessonPage","pageProps","page","initSynthVoice","Slider","currentSlideIndexState","nextSlideHandler","previousSlideHandler","slideIndex","navBtnsNodeList","querySelectorAll","Array","from","click","goToSlide","slidingAnimation","nextSlide","previousSlide","initialSlide","onBeforeChange","onAfterChange","settings","slidingDuration","slidingDelay","shouldAutoplay","shouldSlideOnArrowKeypress","shouldDisplayButtons","slide","backgroundAttachment","Classroom","currentSlideState","useHistory","uprl","clients","rounds","onCorrect","CardActionArea","CardMedia","component","alt","CardContent","gutterBottom","CardActions","SimpleCard","perspective","paddingTop","imageContainer","paddingBottom","objectFit","arrow","transform","arrowLeft","arrowRight","fontWeight","common","white","lineHeight","subtitle","indicatorContainer","textAlign","ParallaxCarousel","onItemSelect","arrowStyles","useArrowDarkButtonStyles","createStyle","fineIndex","diff","abs","renderChildren","injectStyle","renderElements","onChangeIndex","Draggable","pressEnd","DraggableBall","PosedOpacity","GlowingLoader","fullpage","ringBackground","ring","large","heroContent","heroButtons","cardGrid","cardMedia","cardContent","ClassroomSelect","refsState","showCarousel","setShowCarousel","isLarge","setIsLarge","roomsInfo","subject","onRoomSelect","SwiperCore","use","Navigation","Pagination","Scrollbar","A11y","lazy","LazyLogin","LazySignup","AppRoutes","bgVideos","originalTitle","ApolloClient","cache","InMemoryCache","dataIdFromObject","obj","App","ThemeProvider","RealtimeManager","isLocalhost","hostname","registerValidSW","swUrl","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","ReactDOM","getElementById","URL","origin","ready","unregister","checkValidServiceWorker","registerServiceWorker","isString","red","purple","blue","orange","silver","error2","warning","special","LoggFactory","preface","logInProduction","context","spacedoutLabel","__proto__","loggWarning","COLORS","BASE_POSES","afterChildren","word__draggable__remain","char__draggable","char__draggable__appear","char__wobbling","char","char__stagger","char_fadeIn__old","char_fadeIn","char_fadeIn_sentence","skew","list","nothing","staggerChildren","round","numAnswers","overallStep","staggerDirection","step","list__grid","beforeChildren","delayChildren","flip","quizIsDone","innerWidth","innerHeight","card__grid","card__pressable___sans_shadow","card__pressable","fadeIn","config1","isEntering","bargingIn","whiteOut","zoom","screenSizes","SM","MD","LG","Infinity","XL","initialScreenData","setAppbarSize","indeedMobile","userAgent","vendor","opera","test","substr","isPhoneOrTablet","vw_max__portrait","vw_max__portraitPx","vh_max__portrait","vh_max__portraitPx","vh_max__portrait___minus_appbar","vh_max__portrait___minus_appbarPx","vw_max__landscape","vw_max__landscapePx","vh_max__landscape","vh_max__landscapePx","vh_max__landscape___minus_appbar","vh_max__landscape___minus_appbarPx","getDecimalString","num","withPx","addPxSuffix","DeviceContextProvider","setResponsiveData","setDimensionVars","setMaxValues","screen","screenType","SCREEN_SIZES","_screenType","screenOrientations","dimensions","appmenuWidth","appbarHeightValue","appbarWidthValue","docElemStyle","vh","vhPx","vw","vwPx","sizeUnits","greaterLength","lesserLength","removeEventListener","Param","defaultValue","BooleanParam","RangeParam","EnumParam","acceptedValues","EventParam","eventHandler","PARAMS","voice","extra","onPause","onResume","onMark","onBoundary","onFinalWordStart","utterance","resolveSpeak","rejectSpeak","getLang","langAndAccent","underscoreSplit","getAccent","speechSynthesisInstance","autoResolveTimer","setAutoResolveTimer","timer","cancelAutoResolveTimer","turnOff","turnOn","shutUp","speechSynthesis","cancel","shutUpAndTurnOff","getConfig","desiredParams","report","paramName","populateVoice","self","getVoices","allVoices","appropriateVoices","filterVoices","preferredVoiceNames","preferredVoices","filter","voicesSync","voices","requiredParams","filteredVoices","voiceName","noConflicts","requiredParam","requiredValue","normalize","propertyType","param","isNormal","newConfig","usePersistently","newVoice","speaking","pending","paused","normalizedConfig","paramType","oldConfig","mergedConfig","_speak","speechResult","wakeUp","ReferenceError","TypeError","allParams","onvoiceschanged","isChromium","chrome","winNav","vendorName","isOpera","opr","isIEedge","isChrome","instance","SpeechSynthesisUtterance","errored","ended","speak","onmark","onpause","onresume","onboundary"],"mappings":"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","file":"static/js/main.4d2f88d1.chunk.js","sourcesContent":["const DURATIONS = {\r\n\tenter: 400,\r\n\texit: 300,\r\n\tfreeze: 500,\r\n\tbetweenLevels: 1000,\r\n\thide_appbar: 1000 * 2,\r\n\telementTranform: 0.2,\r\n\tstandard__quick: 250,\r\n};\r\n\r\nexport default DURATIONS;\r\n","// const USER_SERVER_URL = \"/api/\";\r\n\r\nconst USER_SERVER_URL = \"https://weiss-english-server.herokuapp.com/api/\";\r\n// const USER_SERVER_URL = \"https://weiss-server.web.app/api/\";\r\n// const USER_SERVER_URL = \"http://localhost:5001/api/\";\r\n\r\nconst DOMESTIC_SERVER_URL = \"https://weiss-class.herokuapp.com/api/\";\r\n// const DOMESTIC_SERVER_URL = \"https://weiss-class.web/api/\"; // Firebase hosting\r\n// const DOMESTIC_SERVER_URL = \"https://localhost:3000/api/\";\r\n//\r\n//\r\nexport { USER_SERVER_URL };\r\n\r\nconst ENDPOINTS = {\r\n\tanimals: {\r\n\t\tGET: {\r\n\t\t\tsearch: {\r\n\t\t\t\tpath: USER_SERVER_URL + \"animals/search\",\r\n\t\t\t},\r\n\t\t},\r\n\t\tPOST: {\r\n\t\t\tgetAll: {\r\n\t\t\t\tpath: USER_SERVER_URL + \"animals/getAll\",\r\n\t\t\t},\r\n\t\t\tupdateRow: {\r\n\t\t\t\tpath: USER_SERVER_URL + \"animals/update-row\",\r\n\t\t\t},\r\n\t\t},\r\n\t\tDELETE: {\r\n\t\t\tanimal: {\r\n\t\t\t\tpath: USER_SERVER_URL + \"animals/animal\",\r\n\t\t\t},\r\n\t\t},\r\n\t\tPUT: {\r\n\t\t\tanimal: {\r\n\t\t\t\tpath: USER_SERVER_URL + \"animal\",\r\n\t\t\t},\r\n\t\t},\r\n\t},\r\n\tusers: {\r\n\t\tGET: {},\r\n\t\tPOST: {\r\n\t\t\tgetAll: {\r\n\t\t\t\tpath: USER_SERVER_URL + \"users/getAll\",\r\n\t\t\t},\r\n\t\t\tupdateOne: {\r\n\t\t\t\tpath: USER_SERVER_URL + \"users/update-one\",\r\n\t\t\t},\r\n\r\n\t\t\tsignup: {\r\n\t\t\t\tpath: USER_SERVER_URL + \"users/signup\",\r\n\t\t\t},\r\n\t\t\tlogin: {\r\n\t\t\t\tpath: USER_SERVER_URL + \"users/login\",\r\n\t\t\t},\r\n\t\t},\r\n\t\tDELETE: {\r\n\t\t\tuser: {\r\n\t\t\t\tpath: USER_SERVER_URL + \"users/user\",\r\n\t\t\t},\r\n\t\t},\r\n\t\tPUT: {\r\n\t\t\tuser: {\r\n\t\t\t\tpath: USER_SERVER_URL + \"users/user\",\r\n\t\t\t},\r\n\t\t},\r\n\t},\r\n\tlyrics: {\r\n\t\tGET: {},\r\n\t\tPOST: {\r\n\t\t\tgetAll: {\r\n\t\t\t\tpath: USER_SERVER_URL + \"lyrics/getAll\",\r\n\t\t\t},\r\n\t\t\tfind: {\r\n\t\t\t\tpath: USER_SERVER_URL + \"lyrics/find\",\r\n\t\t\t\t// path: `https://weiss-english.now.sh/api/lyrics`,\r\n\t\t\t\t// path: `http://localhost:3000/api/lyrics`,\r\n\t\t\t},\r\n\t\t\tupdateRow: {\r\n\t\t\t\tpath: USER_SERVER_URL + \"lyrics/update-row\",\r\n\t\t\t},\r\n\t\t\tupdateAll: {\r\n\t\t\t\tpath: USER_SERVER_URL + \"lyrics/updateAll\",\r\n\t\t\t},\r\n\t\t},\r\n\t\tDELETE: {\r\n\t\t\tsong: {\r\n\t\t\t\tpath: USER_SERVER_URL + \"lyrics/song\",\r\n\t\t\t},\r\n\t\t},\r\n\t\tPUT: {\r\n\t\t\tsong: {\r\n\t\t\t\tpath: USER_SERVER_URL + \"lyrics/song\",\r\n\t\t\t},\r\n\t\t},\r\n\t},\r\n\timages: {\r\n\t\tGET: {},\r\n\t\tPOST: {\r\n\t\t\tgetAll: {\r\n\t\t\t\tpath: USER_SERVER_URL + \"images/getAll\",\r\n\t\t\t},\r\n\t\t\tupdateRow: {\r\n\t\t\t\tpath: USER_SERVER_URL + \"images/update-row\",\r\n\t\t\t},\r\n\t\t},\r\n\t\tDELETE: {\r\n\t\t\tcategory: {\r\n\t\t\t\tpath: USER_SERVER_URL + \"images/category\",\r\n\t\t\t},\r\n\t\t},\r\n\t\tPUT: {\r\n\t\t\tcategory: {\r\n\t\t\t\tpath: USER_SERVER_URL + \"images/category\",\r\n\t\t\t},\r\n\t\t},\r\n\t},\r\n\tfoods: {\r\n\t\tGET: {},\r\n\t\tPOST: {\r\n\t\t\tgetAll: {\r\n\t\t\t\tpath: USER_SERVER_URL + \"foods/getAll\",\r\n\t\t\t},\r\n\t\t\tupdateRow: {\r\n\t\t\t\tpath: USER_SERVER_URL + \"foods/update-row\",\r\n\t\t\t},\r\n\t\t\tsearch: {\r\n\t\t\t\tpath: USER_SERVER_URL + \"foods/search\",\r\n\t\t\t},\r\n\t\t\tadd: {\r\n\t\t\t\tpath: USER_SERVER_URL + \"foods/add\",\r\n\t\t\t},\r\n\t\t\taddByName: {\r\n\t\t\t\tpath: USER_SERVER_URL + \"foods/add/by-name\",\r\n\t\t\t},\r\n\t\t},\r\n\t\tDELETE: {\r\n\t\t\tone: {\r\n\t\t\t\tpath: USER_SERVER_URL + \"images/one\",\r\n\t\t\t},\r\n\t\t},\r\n\t\tPUT: {\r\n\t\t\tcategory: {\r\n\t\t\t\tpath: USER_SERVER_URL + \"images/category\",\r\n\t\t\t},\r\n\t\t},\r\n\t},\r\n\tninjaCode: {\r\n\t\tPOST: {\r\n\t\t\tninjaCodeUser: {\r\n\t\t\t\tpath: USER_SERVER_URL + \"ninjaCode\",\r\n\t\t\t},\r\n\t\t\tninjaCodeDomestic: {\r\n\t\t\t\tpath: DOMESTIC_SERVER_URL + \"ninjaCode\",\r\n\t\t\t},\r\n\t\t},\r\n\t},\r\n\tuserImages: {\r\n\t\tPOST: {\r\n\t\t\tuploadOne: { path: USER_SERVER_URL + \"userImages/uploadOne\" },\r\n\t\t},\r\n\t},\r\n};\r\n\r\nexport default ENDPOINTS;\r\n","import Logger from \"../logg\";\r\nconst logger = new Logger({ label: \"issy\" });\r\nconst { logg, loggError } = logger;\r\n\r\n//might be used by other functions below\r\nconst sanitizeVarName = (name) => {\r\n    //create a JS-safe variable name (i.e. a string that starts with a letter or an underscore, and then has only alphanumeric characters or underscores)\r\n    if (!name) throw new Error(`sanitizeVarName: no variable name provided`);\r\n    const onlyCharsAndDigits = name.replace(/[^a-zA-Z\\d]+/g, \"_\");\r\n    const firstChar = name[0];\r\n    const firstCharIsLetterOrUnderscore = firstChar.replace(/[^a-zA-Z]+/g, \"_\");\r\n    const sanitizedName =\r\n        firstCharIsLetterOrUnderscore + onlyCharsAndDigits.slice(1);\r\n    return sanitizedName;\r\n};\r\n\r\nvar issy = (function() {\r\n    class Validator {\r\n        constructor(arg, negate) {\r\n            this.arg = arg;\r\n            this.negate = negate || false;\r\n        }\r\n\r\n        _is = (aType = \"\") => {\r\n            if (!aType) return null;\r\n            const { arg } = this;\r\n            let result;\r\n            switch (aType) {\r\n                case \"aNumber\":\r\n                    result = typeof this.arg === \"number\" && !isNaN(arg);\r\n                    break;\r\n                case \"aString\":\r\n                    result =\r\n                        (!arg && arg === \"\") ||\r\n                        typeof arg === \"string\" ||\r\n                        arg instanceof String;\r\n                    break;\r\n                case \"aFunction\":\r\n                    result = typeof arg === \"function\";\r\n                    break;\r\n                case \"anArray\":\r\n                    result =\r\n                        Object.prototype.toString.call(this.arg) ===\r\n                        \"[object Array]\";\r\n                    break;\r\n                case \"anObject\":\r\n                    result =\r\n                        arg !== null &&\r\n                        Object(arg) &&\r\n                        typeof arg === \"object\" &&\r\n                        !this.anArray;\r\n                    break;\r\n                case \"aDate\":\r\n                    result =\r\n                        Object.prototype.toString.call(this.arg) ===\r\n                            \"[object Date]\" && !isNaN(this.arg.getTime())\r\n                            ? true\r\n                            : false;\r\n                    break;\r\n                case \"aValidDate\":\r\n                    const _date = new Date(this.arg);\r\n                    result = _date instanceof Date && !isNaN(_date);\r\n                    break;\r\n\r\n                default:\r\n                    throw new Error(\r\n                        \"Unrecognized data type argument provided to issy\"\r\n                    );\r\n            }\r\n\r\n            const finalResult = this.negate ? !result : result;\r\n            return finalResult;\r\n        };\r\n\r\n        get aNumber() {\r\n            return this._is(\"aNumber\");\r\n        }\r\n        get aString() {\r\n            return this._is(\"aString\");\r\n        }\r\n        get anArray() {\r\n            return this._is(\"anArray\");\r\n        }\r\n        get aFunction() {\r\n            return this._is(\"aFunction\");\r\n        }\r\n        get anObject() {\r\n            return this._is(\"anObject\");\r\n        }\r\n        get aDate() {\r\n            return this._is(\"aDate\");\r\n        }\r\n\r\n        get is() {\r\n            return this; //to chain another getter\r\n            //e.g. : our(items).is.anArray ? items[0] : items\r\n        }\r\n        get isNot() {\r\n            this.negate = true;\r\n            return this; //keep it goin'..\r\n        }\r\n    }\r\n\r\n    const our = (arg) => {\r\n        return new Validator(arg);\r\n        // For use within an if statement\r\n        // 1. if(our(users).is.anArray) users.push(newUser);\r\n        // 2. const wrongType = our(users).is.not.anArray; users.push(newUser);\r\n    };\r\n\r\n    const is = (arg) => {\r\n        return new Validator(arg);\r\n        // For use within a ternary operator\r\n        // const wrongType = is(users).anArray() ? false : true;\r\n        // if(wrongType) throw new Error('Invalid \"user\" parameter');\r\n    };\r\n\r\n    const isNot = (arg) => {\r\n        return new Validator(arg, \"negate\");\r\n        // For use within a ternary operator\r\n        // const wrongType = is(users).anArray() ? false : true;\r\n        // if(wrongType) throw new Error('Invalid \"user\" parameter');\r\n    };\r\n    return { our, is, isNot, Validator };\r\n})(); //closure self-executing function\r\n\r\nconst { our, is, isNot } = issy;\r\n\r\nconst getRandomUpTo = (max, numGenerations = 1, min = 0) => {\r\n    //returns an integer that is >= 0 and <= max\r\n    let rand;\r\n    for (let i = 0; i < numGenerations; i++) {\r\n        rand = Math.random();\r\n    }\r\n    const randInt = Math.floor(rand * (max + 1));\r\n    return randInt;\r\n};\r\n\r\nconst getIntBetween = (min, max) => {\r\n    //returns an integer that is >= min and <= max\r\n    return Math.floor(Math.random() * (max - min)) + min;\r\n};\r\n\r\nconst pickRandomFrom = (arr = [], numItems = 1, excludedIndexes = []) => {\r\n    if (our(arr).isNot.anArray) {\r\n        return null;\r\n    }\r\n    const ln = arr.length;\r\n    numItems = numItems > ln ? ln : numItems;\r\n    let randomIndex = -1;\r\n    const randomIndexes = [];\r\n    const randomItems = [];\r\n    for (let i = 0; i < numItems; i++) {\r\n        let numIterations = 0;\r\n        do {\r\n            randomIndex = getRandomUpTo(ln - 1, 3);\r\n            numIterations++;\r\n        } while (\r\n            numIterations < 200 &&\r\n            (randomIndexes.includes(randomIndex) ||\r\n                excludedIndexes.includes(randomIndex))\r\n        );\r\n        randomIndexes.push(randomIndex);\r\n        randomItems.push(arr[randomIndex]);\r\n    }\r\n    //For a single item, return it directly. For more than one items, return an array.\r\n    return numItems === 1 ? randomItems[0] : randomItems;\r\n};\r\n\r\nvar timing = (function() {\r\n    const COMPLETE_TYPES = [\"resolve\", \"reject\"];\r\n    const _isTimeout = (str) =>\r\n        str &&\r\n        str.length &&\r\n        [\"timeout\", \"timeouts\"].includes(str.toLowerCase());\r\n    let timeoutIndex = 0;\r\n    let intervalIndex = 0;\r\n    const _clear = (timeoutOrInterval = \"timeout\", timerID, timerItem = {}) => {\r\n        if (!timerID) {\r\n            loggError(`_clear(): called without a timerID`);\r\n            return null;\r\n        }\r\n        // const { label, ms, numTimesSet } = timerItem;\r\n        const isTimeout = _isTimeout(timeoutOrInterval);\r\n        try {\r\n            isTimeout\r\n                ? window.clearTimeout(timerID)\r\n                : window.clearInterval(timerID);\r\n            return true;\r\n        } catch (err) {\r\n            debugger;\r\n            return null;\r\n        }\r\n    };\r\n\r\n    // Promise Keeper\r\n    // ===================================\r\n    // Enhance a Promise object with resolve() and reject() methods, to allow for easy triggering of promise completion from the outside (e.g.: from inside state reducer), at any time.\r\n    // Handle multiple promises in a straight-forward way: Resolve when at least one promise resolves (and ignore rejections)\r\n\r\n    //PromiseKeeper.prototype.stall and .every work great with async/await.\r\n\r\n    //They are trickir with PromiseKeeper.prototype.then\r\n    //The normal Promise.prototype.then method returns a simple Promise object. We want to keep our powerful, remote-controller, labelled UltimatePromise and lose its precious, useful data. So we assign it a method called andThen, which accepts a callback and invokes it upon completion.\r\n\r\n    let promiseIndex = 1;\r\n    class PromiseKeeper {\r\n        promises = {};\r\n        numPromises = 0;\r\n        latestPromise = {};\r\n        label = \"\";\r\n        logLabel = \"\";\r\n        constructor({ label = \"\" } = {}) {\r\n            this.label = label;\r\n            this.logLabel = `PromiseKeeper(\"${this.label}\"): `;\r\n        }\r\n\r\n        _addOrUpdateUltimatePromise = (ultimatePromise) => {\r\n            if (!is(ultimatePromise).anObject) {\r\n                loggError(\r\n                    \"_addOrUpdateUltimatePromise() was called without an ultimatePromise\"\r\n                );\r\n                return null;\r\n            }\r\n\r\n            const {\r\n                // isTimeout,\r\n                // isInterval,\r\n                //id, //still no id at this point. will be added to the ultimatePromise once this method is done\r\n                //ms = 0,\r\n                label = \"\",\r\n                sanitizedLabel = \"\",\r\n            } = ultimatePromise;\r\n\r\n            if (!label) {\r\n                loggError(\r\n                    \"_addOrUpdateUltimatePromise() was called without a label\"\r\n                );\r\n                return null;\r\n            }\r\n\r\n            // if (ultimatePromise.isTimeout) {\r\n            //     this.clear(\"timeout\", label);\r\n            // } else if (ultimatePromise.isInterval) {\r\n            //     this.clear(\"interval\", label);\r\n            // }\r\n\r\n            let promiseEntry = this.promises[sanitizedLabel];\r\n            if (!promiseEntry) {\r\n                ultimatePromise.numTimesSet = 1;\r\n            } else {\r\n                //an UltimatePromise with the provided (sanitized) label already exists.\r\n                ultimatePromise.numTimesSet = promiseEntry.numTimesSet + 1;\r\n\r\n                //If it's a timer element (i.e. timout or interval), clear it.\r\n                if (promiseEntry.isTimeout) {\r\n                    if (!promiseEntry.id) {\r\n                        loggError(\r\n                            `_addOrUpdateUltimatePromise(): an existing timeout promise does NOT have a timer id`\r\n                        );\r\n                        debugger;\r\n                    }\r\n                    _clear(\"timeout\", promiseEntry.id);\r\n                } else if (promiseEntry.isInterval) {\r\n                    if (!promiseEntry.id) {\r\n                        loggError(\r\n                            `_addOrUpdateUltimatePromise(): an existing interval promise does NOT have a timer id`\r\n                        );\r\n                        debugger;\r\n                    }\r\n                    _clear(\"interval\", promiseEntry.id);\r\n                }\r\n            }\r\n\r\n            this.promises[sanitizedLabel] = ultimatePromise;\r\n            this.latestPromise = ultimatePromise;\r\n            return ultimatePromise;\r\n        };\r\n\r\n        // public API //\r\n        ////////////////\r\n        andThen = function(callback) {\r\n            //the normal Promise.prototype.then function returns a regular Promise object. This means that if we invoke promiseKeeper.stall, .every, withRC, etc., and chaining the returned value with .then(), we will not get our wrapper -  i.e. ultimatePromise - back, but rather a regular promise. This is undesired if we also want to await the completion (i.e. resolve/reject) of the promise later on in the code.\r\n            //andThen allows us to both chain a callback when the promise is resolved AND await for it later in the code, making for really flexible async handling. We can, for example, stall(). andThen do something, and MEANWHILE continue to do other operations. Once those task are done, we can await the completion of the promise.\r\n            const { originalPromise } = this;\r\n\r\n            originalPromise.then((resolvedValue) => {\r\n                callback(resolvedValue);\r\n            });\r\n            return this;\r\n        };\r\n\r\n        stall = function(ms = 50, label, config) {\r\n            const STALL_TILL = \"stall till \";\r\n\r\n            label =\r\n                (is(label).aString && label && STALL_TILL + label) ||\r\n                `${\r\n                    this.label ? this.label + \" - \" : \"\"\r\n                }stall (timeout${timeoutIndex})`;\r\n\r\n            const ultimatePromiseConfig = {\r\n                label,\r\n                ms,\r\n                isTimeout: true,\r\n            };\r\n\r\n            if (is(config).anObject) {\r\n                //aditional configuration passed by caller\r\n                Object.assign(ultimatePromiseConfig, config);\r\n            }\r\n\r\n            let stallPromise;\r\n            let timeoutId;\r\n            stallPromise = this.withRC(\r\n                new Promise((resolve) => {\r\n                    //resolve in provided ms\r\n                    timeoutId = setTimeout(() => {\r\n                        resolve({ ms, label });\r\n                    }, ms);\r\n                }),\r\n                ultimatePromiseConfig\r\n            );\r\n\r\n            //now we can add the timeout id to the ultimatePromise\r\n            stallPromise.id = timeoutId;\r\n            return stallPromise;\r\n        };\r\n\r\n        every = (ms = 1000, callback, label) => {\r\n            if (!callback) {\r\n                loggError(\r\n                    `every() was called without a callback. Ignoring call. `\r\n                );\r\n                return null;\r\n            }\r\n            intervalIndex++;\r\n\r\n            const EVERY = \"_every_\";\r\n            label =\r\n                (is(label).aString && label && label + EVERY + `${ms}_ms`) ||\r\n                `${\r\n                    this.label ? this.label + \" - \" : \"\"\r\n                }every (interval${intervalIndex})`;\r\n\r\n            // const ultimatePromiseConfig = {\r\n            //     label,\r\n            //     ms,\r\n            //     isInterval: true,\r\n            // };\r\n\r\n            let everyPromise;\r\n            let intervalId;\r\n            everyPromise = this.withRC(\r\n                new Promise((resolve, reject) => {\r\n                    intervalId = setInterval(callback, ms);\r\n                }),\r\n                { label, isInterval: true }\r\n            );\r\n\r\n            //now we can add the interval id to the ultimatePromise\r\n            everyPromise.id = intervalId;\r\n        };\r\n\r\n        clear = (\r\n            timeoutOrInterval = \"timeout\",\r\n            label = \"\",\r\n            removeFromCache = false\r\n        ) => {\r\n            /* return values :\r\n            /* true -   indeed cleared\r\n            /* false -  not found, and thus not cleared\r\n            /* null -   error \r\n            */\r\n\r\n            const sanitizedLabel = sanitizeVarName(label);\r\n\r\n            if (![\"timeout\", \"interval\"].includes(timeoutOrInterval)) {\r\n                loggError(\"clear(): timeoutOrInterval is neither!\");\r\n                return null;\r\n            }\r\n\r\n            const timerType = timeoutOrInterval;\r\n\r\n            try {\r\n                let timerElement;\r\n                switch (sanitizedLabel) {\r\n                    case \"\":\r\n                        //clear last PromiseKeeper element\r\n                        timerElement = this.latestPromise;\r\n                        if (!timerElement) {\r\n                            logg(`clear(): there are no promises to clear`);\r\n                            return false;\r\n                        }\r\n\r\n                        _clear(timerType, timerElement.id, timerElement);\r\n                        timerElement.cleared = true;\r\n                        this.latestPromise = {};\r\n                        if (removeFromCache) {\r\n                            const {\r\n                                sanitizedLabel: _sanitizedLabel,\r\n                            } = timerElement;\r\n                            delete this.promises[_sanitizedLabel];\r\n                        }\r\n\r\n                    case \"all\":\r\n                        for (let [key, _timerElement] of Object.entries(\r\n                            this.promises\r\n                        )) {\r\n                            if (_timerElement.id) {\r\n                                _clear(\r\n                                    timerType,\r\n                                    _timerElement.id,\r\n                                    _timerElement\r\n                                );\r\n                                _timerElement.cleared = true;\r\n                                if (removeFromCache) {\r\n                                    delete this.promises[sanitizedLabel];\r\n                                }\r\n                            }\r\n                        }\r\n\r\n                        return true;\r\n\r\n                    default:\r\n                        //label provided\r\n                        // timerElement = batch.filter(element => {\r\n                        //     return element.sanitizedLabel === sanitizedLabel;\r\n                        // })[0];\r\n                        timerElement = this.promises[sanitizedLabel];\r\n                        if (!timerElement) {\r\n                            logg(\r\n                                `clear(): Did not find a promise with label ${label}`\r\n                            );\r\n                            return false;\r\n                        }\r\n                        if (!timerElement.id) {\r\n                            logg(\r\n                                `promise ${sanitizedLabel} is not a timer element (timeout or interval)`\r\n                            );\r\n                            return null;\r\n                        }\r\n                        _clear(timerType, timerElement.id, timerElement);\r\n                        timerElement.cleared = true;\r\n\r\n                        if (removeFromCache) {\r\n                            delete this.promises[sanitizedLabel];\r\n                        }\r\n                        return true;\r\n                } //switch\r\n            } catch (err) {\r\n                logg(\r\n                    this.logLabel + `Could not clear ${timerType} \"${label}\"`,\r\n                    err\r\n                );\r\n                return null;\r\n            }\r\n        };\r\n\r\n        clearTimeout = (label = \"\") => {\r\n            this.clear(\"timeout\", label);\r\n        };\r\n        clearInterval = (label = \"\") => {\r\n            this.clear(\"interval\", label);\r\n        };\r\n\r\n        clearAll = () => {\r\n            const timeoutsDidClear = this.clear(\"timeout\", \"all\");\r\n            const intervalsDidClear = this.clear(\"interval\", \"all\");\r\n            const promisesDidReject = this.rejectAll();\r\n            return timeoutsDidClear && intervalsDidClear && promisesDidReject;\r\n        };\r\n\r\n        withRC = function(originalPromise, config = {}) {\r\n            //wrap a given promise with an UltimatePromise, i.e: a higher-order promise that can be resolved/rejected from anywhere, anytime! :)\r\n            // const ultimate = new UltimatePromise(originalPromise);\r\n            // logg(\"ultimatePromise: \", ultimate);\r\n\r\n            const label =\r\n                (is(config.label).aString && config.label) ||\r\n                `ultimatePromise${promiseIndex}`;\r\n            //create a version of the label that is suitable for serving as a variable name\r\n            const sanitizedLabel = sanitizeVarName(label);\r\n\r\n            let logMsg = this.logLabel + `UltimatePromise \"${label}\": `;\r\n\r\n            if (!originalPromise) {\r\n                logg(logMsg + \"Missing promise argument.\");\r\n                return null;\r\n            }\r\n\r\n            const {\r\n                noRejection = false, //you can ignore rejections to continue normal execution flow. Useful!\r\n                resolveOnError = false,\r\n                rejectOnResolve = false,\r\n            } = config;\r\n\r\n            let _ultimateResolve, _ultimateReject;\r\n\r\n            const ultimatePromise = new Promise(\r\n                (ultimateResolve, ultimateReject) => {\r\n                    //save references to resolve() and reject() to enable manual resolve/rejection from anywhere, anytime\r\n                    _ultimateResolve = ultimateResolve;\r\n                    _ultimateReject = ultimateReject;\r\n                }\r\n            );\r\n\r\n            Object.assign(ultimatePromise, config);\r\n            ultimatePromise.sanitizedLabel = sanitizedLabel;\r\n            ultimatePromise.i = promiseIndex;\r\n            ultimatePromise.andThen = this.andThen.bind(ultimatePromise);\r\n\r\n            //enhance the original Promise with custom resolve/reject callbacks, that communicate completion (either resolve or reject) back to to the wrapping (ultimate) Promise\r\n            originalPromise.then((resolvedValue) => {\r\n                ultimatePromise.originalPromise.result = {\r\n                    resolved: true,\r\n                    resolvedValue: resolvedValue,\r\n                };\r\n                if (rejectOnResolve) {\r\n                    ultimatePromise.rejectedOnResolve = true;\r\n\r\n                    return _ultimateReject(\"rejectOnResolve : true\");\r\n                }\r\n                ultimatePromise.resolved = true;\r\n                return _ultimateResolve(resolvedValue);\r\n            });\r\n\r\n            originalPromise.catch((reason = \"\") => {\r\n                try {\r\n                    const reasonString = is(reason).aString\r\n                        ? reason\r\n                        : is(reason).anObject\r\n                        ? JSON.stringify(reason)\r\n                        : \"No reason supplied\";\r\n\r\n                    ultimatePromise.originalPromise.result = {\r\n                        rejected: true,\r\n                        reason,\r\n                    };\r\n\r\n                    logMsg +=\r\n                        \"a wrapped Promise has been rejected for the following reason: \\n\" +\r\n                        reasonString +\r\n                        \"\\n\";\r\n\r\n                    ultimatePromise.rejected = true;\r\n                    if (resolveOnError) {\r\n                        ultimatePromise.resolved = true;\r\n                        ultimatePromise.resolvedOnError = true;\r\n                        logg(logMsg + \"--> RESOLVING ON ERROR!\");\r\n                        return _ultimateResolve(null, reasonString);\r\n                    }\r\n\r\n                    if (noRejection) {\r\n                        ultimatePromise.rejectionIgnored = true;\r\n                        logg(\r\n                            logMsg +\r\n                                \"--> REJECTION IGNORED! Resolving instead. \",\r\n                            ultimatePromise\r\n                        );\r\n                        return _ultimateResolve(null, reasonString);\r\n                        // return true;\r\n                    }\r\n\r\n                    return _ultimateReject(reasonString);\r\n                } catch (err) {\r\n                    loggError(err.message);\r\n                    return true;\r\n                }\r\n            });\r\n\r\n            originalPromise.finally(() => {\r\n                ultimatePromise.originalPromise.completed = true;\r\n            });\r\n\r\n            //keep a reference to the orignal Promise object for easy debugging or any other use case\r\n            ultimatePromise.originalPromise = originalPromise;\r\n\r\n            promiseIndex++;\r\n\r\n            //add methods for remotely completing the ultimate promise\r\n            ultimatePromise.resolve = (value = \"\") => {\r\n                if (!ultimatePromise.resolved && !ultimatePromise.rejected) {\r\n                    ultimatePromise.resolved = true;\r\n                    return _ultimateResolve(value);\r\n                }\r\n            };\r\n            ultimatePromise.reject = (reason = \"\") => {\r\n                if (!ultimatePromise.resolved && !ultimatePromise.rejected) {\r\n                    ultimatePromise.rejected = true;\r\n                    return _ultimateReject(reason);\r\n                }\r\n            };\r\n\r\n            //for easy completion (great for debugging and fast-forwarding)\r\n            this._addOrUpdateUltimatePromise(ultimatePromise); //for easy completion (great for debugging and fast-forwarding)\r\n            return ultimatePromise;\r\n        };\r\n\r\n        reject = (promiseLabel, reason = \"unspecified\") => {\r\n            try {\r\n                if (!promiseLabel) {\r\n                    loggError(\r\n                        `Can't reject a promise without a specified label`\r\n                    );\r\n                    return null;\r\n                }\r\n\r\n                const sanitizedLabel = sanitizeVarName(promiseLabel);\r\n\r\n                const promiseToReject = this.promises[sanitizedLabel];\r\n\r\n                if (!promiseToReject) {\r\n                    logg(\r\n                        `Did not find a promise with a label of \"${promiseLabel}\")`\r\n                    );\r\n                    return null;\r\n                }\r\n                if (promiseToReject.reject) {\r\n                    promiseToReject.reject(reason, promiseToReject);\r\n                    logg(\r\n                        `${this.logLabel} rejected promise \"${promiseToReject.label}\". Reason: ${reason}`,\r\n                        promiseToReject\r\n                    );\r\n                }\r\n            } catch (err) {\r\n                loggError(err.message);\r\n                return null;\r\n            }\r\n        };\r\n\r\n        resolve = (promiseLabel, resolveValue) => {\r\n            try {\r\n                if (!promiseLabel) {\r\n                    loggError(\r\n                        `Can't resolve a promise without a specified label`\r\n                    );\r\n                    return null;\r\n                }\r\n\r\n                const sanitizedLabel = sanitizeVarName(promiseLabel);\r\n\r\n                const promiseToResolve = this.promises[sanitizedLabel];\r\n                if (!promiseToResolve) {\r\n                    throw new Error(\r\n                        `Did not find a promise with a label of \"${promiseLabel}\"`\r\n                    );\r\n                }\r\n                if (promiseToResolve.reject) {\r\n                    promiseToResolve.resolve(resolveValue, promiseToResolve);\r\n                    logg(\r\n                        `${this.logLabel} resolving promise \"${promiseToResolve.label}\". resolveValue:`,\r\n                        resolveValue,\r\n                        promiseToResolve\r\n                    );\r\n                }\r\n            } catch (err) {\r\n                loggError(err.message);\r\n                return null;\r\n            }\r\n        };\r\n\r\n        _completeLatest = (completeType = \"\", logPromise = true) => {\r\n            if (!completeType) {\r\n                loggError(\r\n                    \"completeAll() was called without completeType (resolve / reject\"\r\n                );\r\n                return null;\r\n            }\r\n\r\n            if (!COMPLETE_TYPES.includes(completeType)) {\r\n                loggError(\r\n                    \"completeAll() was called with an illegal completeType (resolve / reject\"\r\n                );\r\n                return null;\r\n            }\r\n\r\n            const { latestPromise } = this;\r\n            const msg = this.logLabel + `${completeType}Latest(): `;\r\n            if (!latestPromise || !latestPromise.resolve) {\r\n                logg(`${msg}There isn't any promise `);\r\n                return false;\r\n            }\r\n\r\n            latestPromise[completeType](`manual ${completeType}`);\r\n            if (logPromise) logg(msg, latestPromise);\r\n            this.latestPromise = {};\r\n            return true;\r\n        };\r\n\r\n        resolveLatest = () => {\r\n            this._completeLatest(\"resolve\");\r\n        };\r\n\r\n        rejectLatest = () => {\r\n            this._completeLatest(\"reject\");\r\n        };\r\n\r\n        completeAll = (resolveOrReject = \"reject\", valOrReason = \"\") => {\r\n            const { promises } = this;\r\n            if (!promises) {\r\n                loggError(\"No this.promises object?\");\r\n                return false;\r\n            }\r\n\r\n            const completefunc =\r\n                resolveOrReject === \"resolve\" ? \"resolve\" : \"reject\";\r\n            const reason = `completeAll(): manual ${completefunc}()`;\r\n\r\n            const _promises = this.promises;\r\n            for (let [key, _promise] of Object.entries(_promises)) {\r\n                _promise[completefunc](reason);\r\n                logg(\r\n                    `${this.logLabel || \"\"} ${reason} of promise \"${\r\n                        _promise.label\r\n                    }\". `,\r\n                    valOrReason ? valOrReason : `\\nNo reason provided.`,\r\n                    _promise\r\n                );\r\n            }\r\n            this.promises = {};\r\n        };\r\n\r\n        resolveAll = () => {\r\n            this.completeAll(\"resolve\");\r\n        };\r\n        rejectAll = () => {\r\n            this.completeAll(\"reject\");\r\n        };\r\n\r\n        any = (promises = [], config = {}, label) => {\r\n            //ultimately-resolves upon resolve of any of the provided promises. Ignores any rejections.\r\n\r\n            // const { autoResolve = false, timeout = 0 } = config;\r\n\r\n            const numPromises = promises.length;\r\n            //let numRejected = 0;\r\n            let numCompleted = 0;\r\n            let _ultimateResolve;\r\n            let _ultimateReject;\r\n\r\n            const softPromises = promises.map((promise, i) => {\r\n                return this.withRC(promise, { noRejection: true });\r\n            });\r\n\r\n            //TODO: replace this vanilla promise with withRC() to get an actual remote-controlled ultimatePromise\r\n            const ultimatePromise = this.withRC(\r\n                new Promise(async (ultimateResolve, ultimateReject) => {\r\n                    _ultimateResolve = ultimateResolve;\r\n                    _ultimateReject = ultimateReject;\r\n                    await Promise.race(softPromises);\r\n                    // const fullfiller = softPromises[fullfillerIndex];\r\n                    const morePromisesLeft = numCompleted < numPromises;\r\n                    const numPromisesRejected = softPromises.reduce(\r\n                        (numRejected, promiseHolder, i) => {\r\n                            if (!promiseHolder.originalPromise) {\r\n                                debugger;\r\n                            }\r\n                            if (promiseHolder.originalPromise.rejected) {\r\n                                numRejected++;\r\n                            }\r\n                            return numRejected;\r\n                        },\r\n                        0\r\n                    );\r\n\r\n                    logg(\r\n                        this.logLabel +\r\n                            `\".any(): resolved! (${numPromisesRejected} promises rejected. ${\r\n                                morePromisesLeft\r\n                                    ? numPromises -\r\n                                      numPromisesRejected +\r\n                                      \" haven't completed as of yet)\"\r\n                                    : \"\"\r\n                            }`\r\n                    );\r\n                })\r\n            );\r\n\r\n            ultimatePromise.promises = softPromises;\r\n            ultimatePromise.resolve = _ultimateResolve;\r\n            ultimatePromise.reject = _ultimateReject;\r\n            ultimatePromise.label = label;\r\n\r\n            // this.addPromise(ultimatePromise, label);\r\n            return this._addOrUpdateUltimatePromise(ultimatePromise);\r\n        };\r\n\r\n        allCompleted = (promises = [], config = {}) => {\r\n            const { label, noRejection = true } = config;\r\n\r\n            //ultimately-resolves upon completion of ALL provided promises (whether resolved or rejected - completion of any kind)\r\n            // this is achieved by the default config.noRejections === true. You can pass a value of false to stop execution upon first rejection, similar to Promise.prototyp.all()\r\n            // NOTE #1: chaining a .then() to a promise prior to passing it to allCompleted, will cause allCompleted to receive a regular Promise object and not an UltimatePromise (which includes properties such as manual resolve() & reject(), result and label).\r\n            // NOTE #2: Chain a callback to an individual Promise without losing the UltimatePromise instance by calling the equivalent ultimatePromise.andThen(callback) :)\r\n            //NOTE: chaining .catch to one of the promises will return a regualr Promise object instead of an UltimatePromise, which means that it will lose its label and custom resolve() and reject() RC methods.\r\n            // Instead, you should chain an individual .catch() to the promise AFTER you passed it to allCompleted\r\n            // wrap all the promise triggering in a single try-catch statement and handle errors there\r\n\r\n            /*  //example usage:\r\n                try { \r\n                const firstPromise = promiseKeeper\r\n                .stall(500, \"first promise\")\r\n                .andThen(resolvedVal => {\r\n                    logg(\"firstPromise resolvedVal: \", resolvedVal); //{ms:500, label: \"first promise\"\r\n                });\r\n\r\n                const secondPromise = promiseKeeper\r\n                .stall(3000, \"second promise\")\r\n                .andThen(val => {\r\n                     logg(\"secondPromise resolvedVal: \", resolvedVal); //{ms:3000, label: \"second promise\"\r\n                });\r\n\r\n                const secondPromiseCanceller = promiseKeeper\r\n                .stall(2000, \"canceller\")\r\n                .andThen(val => {\r\n                     logg(\"secondPromiseCanceller resolvedVal: \", resolvedVal); //{ms:500, label: \"secondPromiseCanceller\"\r\n                });\r\n\r\n                const thirdPromise = promiseKeeper\r\n                .stall(2000, \"third promise\")\r\n                .andThen(val => {\r\n                     logg(\"thirdPromise resolvedVal: \", resolvedVal); //{ms:2000, label: \"third promise\"\r\n                });\r\n\r\n                promiseKeeper\r\n                .allCompleted([firstPromise, secondPromise, thirdPromise], {\r\n                    label: \"all three have completed\"\r\n                })\r\n                .andThen(res => {\r\n                    logg(\r\n                        \"promiseKeeper.allCompleted ultimately resolved!\",\r\n                        res\r\n                    );\r\n                });\r\n\r\n        } catch (err) {\r\n            console.error(err.message);\r\n        }\r\n                \r\n            */\r\n\r\n            //label of the wrapping, final ultimate promise\r\n\r\n            //turn the provided Promises (hence forth: \"keptPromises\") into remote-controlled Promises that don't reject, only resolve, so that the ultimate process won't stop prior to the completion of ALL of the passed promises\r\n\r\n            const softPromises = promises.map((promise, i) => {\r\n                return this.withRC(promise, {\r\n                    noRejection,\r\n                    label: promise.label,\r\n                });\r\n            });\r\n\r\n            const ultimateFinishers = {\r\n                ultimateResolve: undefined,\r\n                ultimateReject: undefined,\r\n            };\r\n\r\n            let _ultimateResolve;\r\n            let _ultimateReject;\r\n            const finalUltimatePromise = this.withRC(\r\n                new Promise(async (ultimateResolve, ultimateReject) => {\r\n                    ultimateFinishers.ultimateResolve = ultimateResolve;\r\n                    ultimateFinishers.ultimateReject = ultimateReject;\r\n                    await Promise.all(softPromises);\r\n\r\n                    //check the result (resolve/reject) of the underlying, original promises\r\n                    let atLeastOneResolved = false;\r\n\r\n                    const results = softPromises.map((softPromise, j) => {\r\n                        const {\r\n                            originalPromise,\r\n                            label = \"no_label\",\r\n                        } = softPromise;\r\n\r\n                        const {\r\n                            resolved,\r\n                            rejected,\r\n                            completed,\r\n                            result,\r\n                        } = originalPromise;\r\n\r\n                        if (!atLeastOneResolved) {\r\n                            atLeastOneResolved = result.resolved;\r\n                        }\r\n                        return { label, result };\r\n                    });\r\n\r\n                    logg(\r\n                        this.logLabel +\r\n                            ` completeAll() finished. ${\r\n                                atLeastOneResolved\r\n                                    ? \"at least one actually resolved!\"\r\n                                    : \"Not a single promise was actually resolved. All were either rejected or somehow managed to complete without resolving or rejecting. \"\r\n                            }`,\r\n                        results\r\n                    );\r\n\r\n                    if (noRejection) {\r\n                        return ultimateResolve(results);\r\n                    }\r\n                    if (atLeastOneResolved) {\r\n                        return ultimateResolve(results);\r\n                    }\r\n\r\n                    return ultimateReject(results);\r\n                }),\r\n                { label }\r\n            );\r\n\r\n            Object.assign(finalUltimatePromise, config);\r\n\r\n            finalUltimatePromise.keptPromises = softPromises;\r\n            finalUltimatePromise.resolve = ultimateFinishers.ultimateResolve;\r\n            finalUltimatePromise.reject = ultimateFinishers.ultimateReject;\r\n\r\n            this._addOrUpdateUltimatePromise(finalUltimatePromise);\r\n\r\n            // this.addPromise(finalUltimatePromise, label);\r\n\r\n            return finalUltimatePromise;\r\n        };\r\n    }\r\n    return { PromiseKeeper };\r\n})(); //\r\n\r\nconst { PromiseKeeper } = timing;\r\nconst promiseKeeper = new PromiseKeeper({ label: \"issy\" });\r\n\r\nconst shuffleOnce = (arr = []) => {\r\n    //start after the last item\r\n    const arrClone = arr.slice(0);\r\n    let needleIndex = arrClone.length; //start from the end\r\n\r\n    // Go back (almost) all the way to the start\r\n    while (needleIndex > 0) {\r\n        // Pick a random index, smaller than the current index\r\n        let index = Math.floor(Math.random() * needleIndex);\r\n\r\n        // Decrease it by 1\r\n        needleIndex--;\r\n\r\n        // And swap the item at the random index, with the one we started with\r\n        let temp = arrClone[needleIndex];\r\n        arrClone[needleIndex] = arrClone[index];\r\n        arrClone[index] = temp;\r\n    }\r\n\r\n    return arrClone;\r\n};\r\n\r\nconst shuffle = (arr = [], numShuffles = 1) => {\r\n    if (!arr) {\r\n        logg(\r\n            \"shuffle() : Error! Can't shuffle a non-Array. \\nReceived param: \",\r\n            arr\r\n        );\r\n        return null;\r\n    }\r\n    let shuffled;\r\n    for (let i = 0; i < numShuffles; i++) {\r\n        shuffled = shuffleOnce(arr);\r\n    }\r\n    return shuffled;\r\n};\r\nconst getLastXItems = (arr = [], x = 6) => {\r\n    const minusX = parseInt(\"-\" + x);\r\n    return arr.slice(minusX);\r\n};\r\n\r\nconst toTime = (dateString) => {\r\n    const sliced = dateString.slice(-8, dateString.length - 3);\r\n    return sliced;\r\n};\r\n\r\nconst getFormattedTime = (date) => {\r\n    // logg(\"typeof dateObj === \" + Object.prototype.toString.call(dateObj));\r\n    let dateObj;\r\n    if (our(date).is.aDate) {\r\n        dateObj = date;\r\n    } else if (our(date).is.aNumber) {\r\n        try {\r\n            dateObj = date.parse();\r\n        } catch (err) {\r\n            logg(err);\r\n        }\r\n    } else {\r\n        logg(\"Not a valid date format\");\r\n        return null;\r\n    }\r\n\r\n    const hours = dateObj.getHours();\r\n    const minutes = dateObj.getMinutes();\r\n    // const seconds = dateObj.getSeconds();\r\n    const formattedTime = `${hours < 10 ? \"0\" : \"\"}${hours}:${\r\n        minutes < 10 ? \"0\" : \"\"\r\n    }${minutes}`;\r\n    return formattedTime;\r\n};\r\n\r\n// winDough\r\n// ===================================\r\n\r\n//Scroll enable & disable\r\n// left: 37, up: 38, right: 39, down: 40,\r\n// spacebar: 32, pageup: 33, pagedown: 34, end: 35, home: 36\r\nconst keys = { 37: 1, 38: 1, 39: 1, 40: 1 };\r\n\r\nfunction preventDefault(e) {\r\n    e = e || window.event;\r\n    if (e.preventDefault) e.preventDefault();\r\n    e.returnValue = false;\r\n}\r\n\r\nfunction preventDefaultForScrollKeys(e) {\r\n    if (keys[e.keyCode]) {\r\n        preventDefault(e);\r\n        return false;\r\n    }\r\n}\r\n\r\nconst ScrollControl = {\r\n    enableScroll() {\r\n        if (window.removeEventListener)\r\n            window.removeEventListener(\"DOMMouseScroll\", preventDefault, false);\r\n        // window.onmousewheel = document.onmousewheel = null;\r\n        // window.onwheel = null;\r\n        window.ontouchmove = null;\r\n        document.onkeydown = null;\r\n        logg(\"ScrollControl: Scrolling is now ENabled.\");\r\n    },\r\n    disableScroll() {\r\n        if (window.addEventListener)\r\n            // older FF\r\n            window.addEventListener(\"DOMMouseScroll\", preventDefault, false);\r\n        // window.onwheel = preventDefault; // modern standard\r\n        // window.onmousewheel = document.onmousewheel = preventDefault; // older browsers, IE\r\n        window.ontouchmove = preventDefault; // mobile\r\n        document.onkeydown = preventDefaultForScrollKeys;\r\n        logg(\"ScrollControl: Scrolling is now DISabled.\");\r\n    },\r\n};\r\n\r\nconst copyToClipboard = (text, printMsg = true) => {\r\n    //Check browser support prior to using this function in prodution environment\r\n    navigator.clipboard\r\n        .writeText(text)\r\n        .then(() => printMsg && logg(`copyToClipboard(): Copied \"${text}\"`))\r\n        .catch((err) =>\r\n            logg(\r\n                \"copyToClipboard(): Error: could NOT copy the following text: \",\r\n                text\r\n            )\r\n        );\r\n};\r\n\r\nconst isInViewport = (elem) => {\r\n    const rect = elem.getBoundingClientRect();\r\n    const isIn =\r\n        rect.top >= 0 &&\r\n        rect.left >= 0 &&\r\n        rect.bottom <=\r\n            (window.innerHeight ||\r\n                document.documentElement\r\n                    .clientHeight) /*or $(window).height() */ &&\r\n        rect.right <=\r\n            (window.innerWidth ||\r\n                document.documentElement.clientWidth); /*or $(window).width() */\r\n    logg(\r\n        `isInViewport() DOM element ${elem.nodeName} is ${\r\n            isIn ? \"\" : \"not \"\r\n        }inside the visible Viewport.`\r\n    );\r\n\r\n    return isIn;\r\n};\r\n\r\nconst scrollTo = (domRef, config = {}) => {\r\n    try {\r\n        if (!domRef) {\r\n            throw new Error(`missing paramter \"domRef\"`);\r\n        }\r\n        if (!domRef.scrollIntoView) {\r\n            //maybe a ref object was passed (i.e. {current: domRef})\r\n            domRef = domRef.current;\r\n        }\r\n        if (!domRef.scrollIntoView) {\r\n            //not a DOM a ref, or scrollIntoView is not supported in current environment\r\n            throw new Error(\r\n                `domRef does not contain a property named scrollIntoView`\r\n            );\r\n        }\r\n        domRef.scrollIntoView({\r\n            block: config.block || \"end\",\r\n            behavior: (config.block && config.block.behavior) || \"smooth\",\r\n        });\r\n    } catch (err) {\r\n        logg(`scrollTo(${domRef}): `, err.message);\r\n        return null;\r\n    }\r\n};\r\n\r\nconst pollyfills = {\r\n    requestAnimationFrame: () => {\r\n        let requestFunction = window.requestAnimationFrame;\r\n        let vendorCancel = window.cancelAnimationFrame;\r\n\r\n        if (!requestFunction) {\r\n            const vendors = [\"ms\", \"moz\", \"webkit\", \"o\"];\r\n            for (let x = 0; x < vendors.length && !requestFunction; ++x) {\r\n                requestFunction = window[vendors[x] + \"RequestAnimationFrame\"];\r\n                vendorCancel = window.cancelAnimationFrame =\r\n                    window[vendors[x] + \"CancelAnimationFrame\"] ||\r\n                    window[vendors[x] + \"CancelRequestAnimationFrame\"];\r\n            }\r\n        }\r\n\r\n        if (!requestFunction) {\r\n            logg(\r\n                \"shimme(): window.requestAnimationFrame is not availble in current environemnt (browser / Node.js). Timeouts will be used in its place.\"\r\n            );\r\n            let lastTime = 0;\r\n            const fallback = function(callback, element) {\r\n                var currTime = new Date().getTime();\r\n                var timeToCall = Math.max(0, 16 - (currTime - lastTime));\r\n                var id = window.setTimeout(function() {\r\n                    callback(currTime + timeToCall);\r\n                }, timeToCall);\r\n                lastTime = currTime + timeToCall;\r\n                return id;\r\n            };\r\n            requestFunction = fallback;\r\n        }\r\n\r\n        window.requestAnimationFrame = requestFunction;\r\n        window.cancelAnimationFrame = vendorCancel;\r\n        return true;\r\n    },\r\n};\r\n\r\nconst shimme = (functionName = \"requestAnimationFrame\") => {\r\n    if (pollyfills[functionName]) {\r\n        return pollyfills[functionName]();\r\n    } else {\r\n        debugger;\r\n        return null;\r\n    }\r\n};\r\n\r\nconst loadImage = (url = \"\", domElement) => {\r\n    return new Promise((resolve, reject) => {\r\n        if (!url) return reject(\"no URL\");\r\n        const imgNode = domElement ? domElement : document.body;\r\n        const image = new Image(0, 0); //invisible (still forces to load the image)\r\n        image.style.opacity = 0; //just to be extra sure\r\n        //image.classList.add(\"hidden\");\r\n        image.onload = (ev) => {\r\n            if (!image.decode) {\r\n                //older versions of FireFox don't support decode()\r\n                logg(\r\n                    \"Image.decode() is not supported in browser (older Firefox?)\"\r\n                );\r\n                return resolve({ unsupported: true });\r\n            }\r\n            image.decode().then(() => {\r\n                logg(\r\n                    `loadImage(): image ${url} is loaded & decoded, ready to be inserted to the DOM.`\r\n                );\r\n                promiseKeeper\r\n                    .stall(100, \"loadImage() removes loaded image\")\r\n                    .then(() => {\r\n                        if (!image.parentNode) {\r\n                            debugger;\r\n                            logg(\"Could not remove image-fetching img node\");\r\n                            return null;\r\n                        }\r\n                        imgNode.removeChild(image);\r\n                    });\r\n                return resolve(url);\r\n            });\r\n        };\r\n        image.src = url;\r\n        imgNode.appendChild(image);\r\n    });\r\n};\r\n\r\nconst removeDoubleSlashes = (path = \"\") => {\r\n    const result = path.replace(/\\/\\//gi, \"/\");\r\n    return result;\r\n};\r\n\r\nconst navigateTo = (path, history, callback = emptyFunc) => {\r\n    try {\r\n        if (!path || !history || (!history.length && history.length !== 0)) {\r\n            throw new Error(`missing parameter path and / or history`);\r\n        }\r\n        const completePath = removeDoubleSlashes(path);\r\n        logg(`Navigating to: ${completePath}`);\r\n        history.push({\r\n            pathname: completePath,\r\n            //state: { linkedScreen: completePath }\r\n        });\r\n        if (callback) callback(path);\r\n    } catch (err) {\r\n        loggError(err.message);\r\n        return null;\r\n    }\r\n};\r\n\r\nvar pwa = (() => {\r\n    const addToHomescreen = () => {\r\n        let deferredPrompt;\r\n        window.addEventListener(\"beforeinstallprompt\", (e) => {\r\n            logg(\"addToHomescreen(): beforeinstallprompt event\");\r\n            // Prevent Chrome 67 and earlier from automatically showing the prompt\r\n            e.preventDefault();\r\n            // Stash the event so it can be triggered later.\r\n            deferredPrompt = e;\r\n            // Update UI to notify the user that she can add the app to the device's home screen\r\n            const addToHomescreenBtn = document.querySelector(\"#root\");\r\n            logg('addToHomescreen(): Adding the class \"snackbar-in\" to #root');\r\n            addToHomescreen.classList.add(\"snackbar-in\");\r\n            addToHomescreenBtn.addEventListener(\r\n                \"click\",\r\n                (ev) => {\r\n                    //ev.preventDefault();\r\n                    ev.stopPropagation();\r\n                    //handle the event here\r\n\r\n                    logg(\"addToHomescreen(): addToHomescreenBtn clicked\");\r\n\r\n                    deferredPrompt.prompt();\r\n                    // Wait for the user to respond to the prompt\r\n                    deferredPrompt.userChoice.then((choiceResult) => {\r\n                        console(\"this === \", this);\r\n                        this.classList.remove(\"snackbar-in\");\r\n                        addToHomescreen.classList.remove(\"snackbar-in\");\r\n                        const logMsg = `User ${\r\n                            choiceResult.outcome === \"accepted\"\r\n                                ? \"accepted\"\r\n                                : \"dismissed\"\r\n                        } the A2HS prompt`;\r\n                        logg(\"addToHomescreen(): \", logMsg);\r\n                        deferredPrompt = null;\r\n                    });\r\n                    //document.getElementById('add-to-homescreen').removeEventListener('click', clickHandler, false);\r\n                },\r\n                false\r\n            ); // handleClick()\r\n        });\r\n    };\r\n    return {\r\n        addToHomescreen,\r\n    };\r\n})(); //pwaUtils self-executing Closure\r\n\r\n//keyboard input\r\nconst keyEventHandlers = {};\r\n\r\n// const defaultCallback = (keyEvent, registeredKeyEventHandler) => {\r\n//     const { eventType, key } = keyEvent;\r\n//     logg(\r\n//         `Event \"${eventType}\" was triggered by the \"${keyEvent.key}\" key.`,\r\n//         keyEvent,\r\n//         registeredKeyEventHandler\r\n//     );\r\n// };\r\n\r\n// const registerKey = (config = {}) => {\r\n//     const { key = \"\", on = \"keyup\", callback = defaultCallback } = config;\r\n//     if (!key || !on || !callback || isNot(callback).aFunction) {\r\n//         logg(\"registerKey(): Missing parameter arguments!\");\r\n//         return null;\r\n//     }\r\n\r\n//     //The event.which property normalizes event.keyCode and event.charCode. It is recommended to watch event.which for keyboard key input.\r\n//     //In a keypress event, the Unicode value of the key pressed is stored in either the keyCode or charCode property, never both. If the key pressed generates a character (e.g. 'a'), charCode is set to the code of that character, respecting the letter case. (i.e. charCode takes into account whether the shift key is held down). Otherwise, the code of the pressed key is stored in keyCode.\r\n//     //for some problematic keys that don't have consistent implementation across browsers, we'll use their keyCode instead of their normal `key` name property\r\n//     let keyToRegisterCode;\r\n//     const _keyToRegister = key.toLowerCase();\r\n//     switch (_keyToRegister) {\r\n//         case \"spacebar\":\r\n//             keyToRegisterCode = 32;\r\n//             break;\r\n//         case \"enter\":\r\n//             keyToRegisterCode = 13;\r\n//             break;\r\n//         default:\r\n//             keyToRegisterCode = -1;\r\n//             break;\r\n//     }\r\n\r\n//     const _evenType = on.toLowerCase();\r\n//     const _key = key.toLowerCase();\r\n\r\n//     if (!keyEventHandlers[_evenType]) {\r\n//         //first handler for the given event type. create a new entry\r\n//         keyEventHandlers[_evenType] = {};\r\n//     }\r\n//     logg(\r\n//         `Registering \"on${on}\" event handler for the \"${key}\" key. All registered key event handlers: `,\r\n//         keyEventHandlers\r\n//     );\r\n//     keyEventHandlers[_evenType][_key] = callback;\r\n\r\n//     //attach an event listener that will invoke the relevant registered callbacks\r\n//     document.body[\"on\" + _evenType] = function(ev) {\r\n//         const eventType = ev.type;\r\n//         const pressedKey = ev.key;\r\n//         const _pressedKey = pressedKey.toLowerCase();\r\n\r\n//         const handlers = keyEventHandlers[_evenType];\r\n//         for (let [key, value] of Object.entries(handlers)) {\r\n//             if (\r\n//                 _pressedKey === key ||\r\n//                 ev.keyCode === keyToRegisterCode ||\r\n//                 ev.charCode === keyToRegisterCode ||\r\n//                 ev.which === keyToRegisterCode\r\n//             ) {\r\n//                 handlers[key]({ key: pressedKey, eventType }, keyEventHandlers);\r\n//             }\r\n//         }\r\n//     };\r\n// };\r\nconst defaultKeyCallback = ({ key, on }) => {\r\n    console.log(`The \"${key}\" key has just fired an \"on${on}\" event.`);\r\n};\r\nconst handlePress = (\r\n    {\r\n        key = \" \",\r\n        keyCode = \"\",\r\n        charCode = \"\",\r\n        on = \"keyup\",\r\n        preventDefault = false,\r\n    },\r\n    callback\r\n) => {\r\n    callback = is(callback).aFunction ? callback : defaultKeyCallback;\r\n    on = on.toLowerCase();\r\n    key = key.toLowerCase();\r\n    if (!keyEventHandlers[on]) {\r\n        keyEventHandlers[on] = {};\r\n    }\r\n    //add the provided callback to the store\r\n    //e.g. : {keyup: {{enter:  fn}, {KeyDown: fn2}}}\r\n    keyEventHandlers[on][key] = callback;\r\n\r\n    document.body[\"on\" + on] = (ev) => {\r\n        try {\r\n            if (preventDefault) ev.preventDefault(); //TODO: fix. doesn't actually prevents it\r\n            const handlers = keyEventHandlers[on];\r\n\r\n            //iterate over the previously-registered handlers for the event (e.g.: \"keydown\"). Look for a handler that has  \"key\" property (e.g.: key===\"enter\") that matches the \"key\" property of the native event. If such handler is found, trigger its callback.\r\n            for (let [_key, callback] of Object.entries(handlers)) {\r\n                if (!_key || !_key.toLowerCase) {\r\n                    throw new Error(`key of a handler is not a string`);\r\n                }\r\n\r\n                if (!ev.key || !ev.key.toLowerCase) {\r\n                    //Native event does not have a \"key\" property. It's probably not a KeyEvent\r\n                    return false;\r\n                }\r\n\r\n                if (_key.toLowerCase() === ev.key.toLowerCase()) {\r\n                    //bingo\r\n                    callback({\r\n                        on,\r\n                        key: ev.key,\r\n                        keyCode: ev.keyCode,\r\n                        charCode: ev.charCode,\r\n                    });\r\n                }\r\n            }\r\n        } catch (err) {\r\n            loggError(err.message);\r\n        }\r\n    };\r\n    logg(\"Added key binding: \", keyEventHandlers);\r\n};\r\nconst removePressHandlers = (eventType = \"onkeyup\") => {\r\n    try {\r\n        document.body[eventType] = null;\r\n        logg(`unRegistered the \"on${eventType}\" event for all keys.`);\r\n    } catch (err) {\r\n        loggError(err.message);\r\n    }\r\n};\r\n/* //Example usage:\r\n  onKeyPress({ key: \" \" }, () => {\r\n        console.log(\"space bar was pressed!!\");\r\n    });\r\n*/\r\n\r\n//String manipulation\r\nconst capitalizeFirstLetter = (str = \"\", config = {}) => {\r\n    if (!str) return null;\r\n    if (!is(str).aString) {\r\n        throw new Error(`str is not a string!`);\r\n    }\r\n    const firstLetter = str[0].toUpperCase();\r\n    const rest = str.slice(1);\r\n    const finalRest = config.lowerCaseRest ? rest : rest.toLowerCase();\r\n    return firstLetter + finalRest;\r\n};\r\n\r\nconst capitalizeTitle = (str = \"\", config = {}) => {\r\n    if (!str) return \"\";\r\n    if (!is(str).aString) {\r\n        throw new Error(`str is not a string!`);\r\n    }\r\n    const words = str.split(\" \");\r\n    const capitalizedWords = words.map((word) => {\r\n        return capitalizeFirstLetter(word);\r\n    });\r\n\r\n    return capitalizedWords.join(\" \");\r\n};\r\n\r\n//easy api for accessing and setting browser's localStorage\r\nclass LocalStorage {\r\n    get(key = \"\") {\r\n        if (!key) return null;\r\n        const rawString = window.localStorage.getItem(key);\r\n        return rawString;\r\n    }\r\n    getObj(key = \"\") {\r\n        const str = this.get(key);\r\n        if (!str) return null;\r\n        const obj = JSON.parse(str);\r\n        return obj;\r\n    }\r\n    getArray(key = \"\") {\r\n        //JSON.parse is good with arrays, too\r\n        const canAccessOtherMethods = this.getObj(key);\r\n        return canAccessOtherMethods;\r\n    }\r\n    set(key = \"\", val = \"\") {\r\n        if (!key) return null;\r\n        window.localStorage.setItem(key, val);\r\n    }\r\n    setObj(key = \"\", val = {}) {\r\n        if (!key) return null;\r\n        this.set(key, JSON.stringify(val));\r\n    }\r\n    setArray(key = \"\", val = []) {\r\n        if (!key) return null;\r\n        //see comment above\r\n        this.set(key, JSON.stringify(val));\r\n    }\r\n}\r\nconst localStorage = new LocalStorage();\r\n\r\n//create hash string\r\nconst getUniqueString = (numChars = 10) => {\r\n    let rand = Math.random()\r\n        .toString(36)\r\n        .slice(2, numChars);\r\n    return \"_\" + rand;\r\n};\r\n\r\nconst IssyLoop = (function() {\r\n    class Looper {\r\n        constructor(array = []) {\r\n            if (!array) return null;\r\n            //gets called by goOver\r\n            //save a reference to the array argument for later use by looper.do()\r\n            this.array = array;\r\n        }\r\n        do = (callback) => {\r\n            if (!callback) return null;\r\n            const _arr = this.array;\r\n            _arr.forEach((item, i) => {\r\n                callback(item, i, _arr);\r\n            });\r\n        };\r\n    }\r\n    const convertToArray = (collection) => {\r\n        if (our(collection).is.anArray) return collection;\r\n        let asArray;\r\n        try {\r\n            asArray = [...collection];\r\n        } catch (err) {\r\n            logg(\"convertToArray(): \", err);\r\n            return null;\r\n        }\r\n        if (!asArray) return null;\r\n        return asArray;\r\n    };\r\n    const goOver = (arr) => {\r\n        //accepting only Array and Array-like objects (such as NodeList)\r\n        let _arr = convertToArray(arr);\r\n        return new Looper(_arr ? _arr : []);\r\n        //e.g.:\r\n        // goOver(items).do((item, i, _arr)=>console.log(item));\r\n    };\r\n    const forAll = (items, callback) => {\r\n        //accepting only Array and Array-like objects (such as NodeList)\r\n        let _arr = convertToArray(items);\r\n        new Looper(_arr).do(callback);\r\n        //e.g.:\r\n        // forAll(items, (item, i, _arr)=>console.log(item));\r\n    };\r\n    return { forAll, goOver };\r\n})(); //Looper self-executing Closure\r\n\r\nconst { forAll, goOver } = IssyLoop;\r\n\r\n// DOM traversing\r\nconst findAncestor = (config = {}) => {\r\n    const { domNode, styleAttribute = \"\", value } = config;\r\n    if (!domNode || !is(domNode).anObject || !styleAttribute) return null;\r\n    const maxIterations = 100;\r\n    let isFound = false;\r\n    let numIterations = 0;\r\n    let ancestor = domNode.parentNode;\r\n    try {\r\n        do {\r\n            numIterations++;\r\n            if (!ancestor) break;\r\n            const currentStyles = getComputedStyle(ancestor);\r\n            isFound = currentStyles[styleAttribute] === value;\r\n            if (isFound) break;\r\n            ancestor = ancestor.parentNode;\r\n        } while (!isFound && numIterations < maxIterations);\r\n    } catch (err) {\r\n        logg(err);\r\n    }\r\n    return isFound ? ancestor : false;\r\n};\r\n\r\nclass DomClimberError {\r\n    constructor(config = {}) {\r\n        const { missingParam } = config;\r\n        this.msg = `invalid \"${missingParam}\" argument.`;\r\n    }\r\n}\r\n\r\nclass DOMClimber {\r\n    constructor(domElem) {\r\n        // if (!domElem || !(domElem instanceof HTMLElement))\r\n        //     return new DomClimberError({ missingParam: \"domElem\" });\r\n\r\n        this.offsetElem = domElem;\r\n    }\r\n    upTo = (config = {}) => {\r\n        if (!config || !is(config).anObject) {\r\n            return new DomClimberError({\r\n                missingParam: \"config (first parameter)\",\r\n            });\r\n        }\r\n        const { attr, className = \"\" } = config;\r\n        if (!className && (!attr || !is(attr).anObject)) {\r\n            return new DomClimberError({\r\n                missingParam: \"any config value (attr, className..\",\r\n            });\r\n        }\r\n\r\n        const { maxIterations } = config;\r\n        const _maxIterations =\r\n            maxIterations && is(maxIterations).aNumber ? maxIterations : 100;\r\n\r\n        //here is the juicy part\r\n        let isFound = false;\r\n        let numIterations = 0;\r\n        let ancestor = this.offsetElem; //start from the provided elem itself.\r\n        try {\r\n            do {\r\n                numIterations++;\r\n                if (!ancestor) break;\r\n\r\n                let hasDifferentVal = false;\r\n\r\n                if (attr) {\r\n                    //go over the required attributes and look for an ancestor DOM element that contains all of them, with the same values as the required ones\r\n                    for (let [attrName, attrValue] of Object.entries(attr)) {\r\n                        const ancestorAttrValue = ancestor.getAttribute(\r\n                            attrName\r\n                        );\r\n                        if (ancestorAttrValue !== attrValue) {\r\n                            hasDifferentVal = true;\r\n                            //it's not this element, so...\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n\r\n                if (!hasDifferentVal && className) {\r\n                    const hasClass = ancestor.classList.contains(className);\r\n                    if (!hasClass) {\r\n                        hasDifferentVal = true;\r\n                    }\r\n                }\r\n\r\n                if (hasDifferentVal) {\r\n                    //encestor was NOT FOUND. climb up another level\r\n                    ancestor = ancestor.parentNode;\r\n                    continue;\r\n                } else {\r\n                    // all specified requirement have been met! We found the one!\r\n                    isFound = true;\r\n                    break;\r\n                }\r\n            } while (!isFound && numIterations < _maxIterations);\r\n        } catch (err) {\r\n            logg(err);\r\n        }\r\n        return isFound ? ancestor : false;\r\n    };\r\n}\r\n\r\nconst climbFrom = (domElem) => {\r\n    // if (!domElem || !(domElem instanceof HTMLElement))\r\n    //     return new DomClimberError({ missingParam: \"domElem\" });\r\n    return new DOMClimber(domElem);\r\n};\r\n\r\nconst getCurrentFromRef = (elemOrRef) => {\r\n    if (!elemOrRef || !is(elemOrRef).anObject) return null;\r\n    if (elemOrRef.current && elemOrRef.current.style) {\r\n        return elemOrRef.current;\r\n    }\r\n\r\n    if (elemOrRef.style) {\r\n        return elemOrRef;\r\n    }\r\n\r\n    return null;\r\n};\r\n\r\n// dynamic DOM element positioning\r\nconst alignElements = ({ movingElem = {}, targetElem = {}, top = 0 }) => {\r\n    try {\r\n        const _movingElem = getCurrentFromRef(movingElem);\r\n        if (!_movingElem)\r\n            throw new Error(`Missing or bad argument: movingElem`);\r\n        const _targetElem = getCurrentFromRef(targetElem);\r\n        if (!_targetElem)\r\n            throw new Error(`Missing or bad argument: targetElem`);\r\n\r\n        const movingElemStyle = _movingElem.style;\r\n        if (!movingElemStyle)\r\n            throw new Error(`movingElem does not have a style property`);\r\n        const targetBox = _targetElem.getBoundingClientRect();\r\n        const movingBox = _movingElem.getBoundingClientRect();\r\n\r\n        if (top) {\r\n            movingElemStyle.top = targetBox.top + top + \"px\";\r\n        }\r\n    } catch (err) {\r\n        loggError(err);\r\n        return null;\r\n    }\r\n\r\n    // Note: elem.getBoundingClientRect().top !== elem.style.top\r\n    //the first is relative to the viewport (i.e. the window in its current scrolling position) while the second is relative to the nearest parent element with a position of \"relative\". This means that if the moving element is inside a relative-positioned element that starts from below the top of the viewport, than\r\n    // elem.getBoundingClientRect().top > elem.style.top\r\n    // to get around this, you can:\r\n    //give the moving element a position of \"absolute\" or \"fixed\" and make sure that it doesn't have any \"realtive\"-positioned parents that get in the way all the until the edge of the viewport. ORRRR... :)\r\n\r\n    // Simply pass in\r\n    /*\r\n            {offsetProp: \"top\", \r\n            extraPadding: 56, \r\n            movingElem: ..., targetElem: ...}\r\n        */\r\n\r\n    //This will align the moving element to the top of the target element, by removing the interfering appbar (56px) that is above the moving element.\r\n};\r\n\r\n//AJAX\r\nconst handleBadResponse = (res, uri) => {\r\n    if (!res || res.status === 404 || !res.ok) {\r\n        throw new Error(`404: route ${uri} was not found`);\r\n    }\r\n    if (!res.json) {\r\n        throw new Error(\r\n            `Response object doesn't have a .json() method. The server is probably not an Express one (res.json is an Express method).`\r\n        );\r\n    }\r\n};\r\nconst handleBadData = (data, uri) => {\r\n    if (data.code === 404 || data.notFound)\r\n        throw new Error(`404: route ${uri} not found`);\r\n};\r\n\r\nconst request = async (method = \"GET\", uri = \"\", payload = {}, config = {}) => {\r\n    //make an AJAX request and either catch errors or parse the received response\r\n    if (!uri) {\r\n        throw new Error(`missing parameter \"uri\"`);\r\n    }\r\n    method = method ? method.toUpperCase() : \"GET\";\r\n    if ([\"POST\", \"PUT\", \"DELETE\"].includes(method) && !is(payload).anObject) {\r\n        throw new Error(\"payload should be an object! Instead got: \", payload);\r\n    }\r\n\r\n    const headers = {\r\n        Accept: \"application/json\",\r\n        \"Content-Type\": \"application/json\",\r\n    };\r\n\r\n    if (config && config.headers) {\r\n        Object.assign(headers, config.headers);\r\n    }\r\n\r\n    let parsedResponse;\r\n    try {\r\n        let res;\r\n        if (method === \"GET\") {\r\n            let uriWithQueryParams = uri;\r\n            if (payload) {\r\n                let queryParams = \"?\";\r\n                for (let [key, value] of Object.entries(payload)) {\r\n                    if (queryParams.length > 1) {\r\n                        //this is the second or latter query param\r\n                        queryParams = queryParams.concat(\"&\");\r\n                    }\r\n                    queryParams = queryParams.concat(`${key}=${value}`);\r\n                }\r\n                queryParams = queryParams.replace(/\\\"/gi, \"\");\r\n                queryParams = queryParams.replace(/\\'/gi, \"\");\r\n                const containsQuotes = queryParams.indexOf(\"'\") > -1;\r\n                queryParams = queryParams.replace(/\\\"/gi, \"\");\r\n                const containsDQuotes = queryParams.indexOf('\"') > -1;\r\n\r\n                uriWithQueryParams = uriWithQueryParams.concat(queryParams);\r\n            }\r\n\r\n            res = await fetch(uriWithQueryParams, { headers });\r\n        } else {\r\n            res = await fetch(uri, {\r\n                method,\r\n                headers,\r\n                body: JSON.stringify(payload),\r\n            });\r\n        }\r\n\r\n        if (!res || res.status === 404) {\r\n            throw new Error(`404: URI ${uri} was not found`);\r\n        }\r\n\r\n        if (!res.ok) {\r\n            const problem = await res.json();\r\n            loggError(problem.error || problem);\r\n            throw new Error(`bad response from URI ${uri}`, problem.error);\r\n        }\r\n        if (!res.json) {\r\n            throw new Error(\r\n                `Response object doesn't have a .json() method. The server is probably not an Express one (res.json is an Express method).`\r\n            );\r\n        }\r\n\r\n        parsedResponse = await res.json();\r\n        if (parsedResponse.code === 404 || parsedResponse.notFound) {\r\n            throw new Error(\r\n                `AJAX request result ::: 404: route \"${uri}\" was not found within the addressed server.`\r\n            );\r\n        }\r\n\r\n        //proper response was received!\r\n        return parsedResponse;\r\n    } catch (err) {\r\n        const ajaxResult = {\r\n            error: err,\r\n            response: parsedResponse,\r\n        };\r\n\r\n        logg(ajaxResult);\r\n        const throwOnError = config.throwOnError || false;\r\n        if (throwOnError) {\r\n            throw new Error(err);\r\n        } else {\r\n            return ajaxResult;\r\n        }\r\n    }\r\n};\r\n\r\n//fallbacks\r\nconst emptyFunc = () => {};\r\n\r\nconst getRandomColor = (alpha = \"1\") => {\r\n    //***returns an rgba color string, e.g. :\"rgba(20,200,255,0.5)\"\r\n    const rgb = [\r\n        getRandomUpTo(255, 2),\r\n        getRandomUpTo(255, 2),\r\n        getRandomUpTo(255, 3),\r\n    ];\r\n    alpha =\r\n        alpha || alpha === 0\r\n            ? alpha\r\n            : (Math.random(1) + 0.1).toString().slice(0, 3);\r\n    if (alpha === \"0.0\") alpha = \"0\";\r\n    const rgba = `rgba(${rgb.join(\", \")}, ${alpha})`;\r\n    return rgba;\r\n};\r\n\r\nconst asyncForEach = async (array, callback) => {\r\n    //iterate syncly over an array, awaiting the complettion of an async callback for each item in the array\r\n    for (let index = 0; index < array.length; index++) {\r\n        //fire the callback with the arguments that a regular forEach function expects: [item, index, originalArray]\r\n        await callback(array[index], index, array);\r\n    }\r\n};\r\n\r\nconst setDomProperty = (config = {}) => {\r\n    try {\r\n        if (!is(config).anObject) {\r\n            throw new Error(\r\n                \"setDomProperty was called without a config object\"\r\n            );\r\n        }\r\n        const {\r\n            domElem = document.documentElement, //i.e. <html> tag\r\n            propertyName = \"\",\r\n            value = \"\",\r\n            cssVar = \"\",\r\n        } = config;\r\n        if (\r\n            !value ||\r\n            !is(value).aString ||\r\n            ((!propertyName || !is(propertyName).aString) &&\r\n                (!cssVar || !is(cssVar).aString))\r\n        ) {\r\n            throw new Error(\"bad or missing config arguments\");\r\n        }\r\n        const _propertyName = cssVar ? `--${cssVar}` : propertyName;\r\n        domElem.style.setProperty(_propertyName, value);\r\n        return { propertyName: _propertyName, value, domElem, success: true };\r\n    } catch (err) {\r\n        loggError(err.message);\r\n        return null;\r\n    }\r\n};\r\n\r\nexport default is;\r\nexport {\r\n    is,\r\n    isNot,\r\n    our,\r\n    getRandomUpTo,\r\n    getIntBetween,\r\n    pickRandomFrom,\r\n    PromiseKeeper,\r\n    shuffle,\r\n    getLastXItems,\r\n    getFormattedTime,\r\n    toTime,\r\n    ScrollControl,\r\n    copyToClipboard,\r\n    isInViewport,\r\n    scrollTo,\r\n    shimme,\r\n    loadImage,\r\n    navigateTo,\r\n    pwa,\r\n    capitalizeFirstLetter,\r\n    capitalizeTitle,\r\n    localStorage,\r\n    getUniqueString,\r\n    forAll,\r\n    goOver,\r\n    handlePress,\r\n    removePressHandlers,\r\n    findAncestor,\r\n    alignElements,\r\n    request,\r\n    DOMClimber,\r\n    climbFrom,\r\n    emptyFunc,\r\n    getRandomColor,\r\n    asyncForEach,\r\n    sanitizeVarName,\r\n    setDomProperty,\r\n};\r\n","import createMuiTheme from \"@material-ui/core/styles/createMuiTheme\";\r\n\r\nconst paletteTheme = {\r\n\tprimary: { main: \"rgba(148, 116, 204, 1)\" }, // washed up purple\r\n\tsecondary: { main: \"rgba(68, 221, 238, 1)\" }, //light blue\r\n\tcanvasColor: \"#e0e0e0\" // silver\r\n\t//canvasColor: \"rgba(255, 255, 255, 0.87)\" //white\r\n};\r\n\r\nconst theme = createMuiTheme({\r\n\tpalette: paletteTheme,\r\n\tspacing: 8,\r\n\ttypography: {\r\n\t\tfontFamily: [\"Nunito\"].join(\",\"),\r\n\t\thtmlFontSize: 14\r\n\t},\r\n\tlayout: {\r\n\t\tappbarHeightXs: 40,\r\n\t\tappbarHeightSm: 48,\r\n\t\tappbarHeightMd: 56,\r\n\t\tappbarHeightLg: 64,\r\n\t\tdrawerWidth: 210,\r\n\t\tpromptHeight: 50\r\n\t}\r\n});\r\n\r\nexport default theme;\r\n\r\n","const widthSizes = {\r\n\txs: 0,\r\n\tsm: 500,\r\n\tmd: 960,\r\n\tlg: 1280,\r\n\txl: 1920\r\n};\r\n\r\nconst createMediaQueryString = ({\r\n\tminWidth = \"\",\r\n\tmaxWidth = \"\",\r\n\torientation = \"\"\r\n}) => {\r\n\tconst minRule = !minWidth ? \"\" : `(min-width: ${widthSizes[minWidth]}px)`; //add one to prevent adjacent queries from both matching\r\n\tconst maxRule = !maxWidth ? \"\" : `(max-width: ${widthSizes[maxWidth]}px)`;\r\n\tconst sizeRules = minRule + (maxRule ? \" and \" + maxRule : \"\");\r\n\tif (!orientation) return sizeRules;\r\n\tconst withOrienation =\r\n\t\t(sizeRules ? `${sizeRules} and ` : \"\") +\r\n\t\t`(orientation: ${orientation})`;\r\n\treturn withOrienation;\r\n};\r\n\r\nconst phone = {\r\n\tportrait: createMediaQueryString({\r\n\t\tminWidth: \"xs\",\r\n\t\tmaxWidth: \"sm\",\r\n\t\torientation: \"portrait\"\r\n\t}),\r\n\tlandscape: createMediaQueryString({\r\n\t\tminWidth: \"sm\",\r\n\t\tmaxWidth: \"md\",\r\n\t\torientation: \"landscape\"\r\n\t})\r\n};\r\n// phone.any = phone.portrait || phone.landscape;\r\n\r\nconst tablet = {\r\n\tportrait: createMediaQueryString({\r\n\t\tminWidth: \"sm\",\r\n\t\tmaxWidth: \"md\",\r\n\t\torientation: \"portrait\"\r\n\t}),\r\n\tlandscape: createMediaQueryString({\r\n\t\tminWidth: \"md\",\r\n\t\tmaxWidth: \"lg\",\r\n\t\torientation: \"landscape\"\r\n\t})\r\n};\r\n// tablet.any = tablet.portrait || tablet.landscape;\r\n\r\nconst largeScreen = createMediaQueryString({\r\n\tminWidth: \"lg\"\r\n});\r\nconst xlScreen = createMediaQueryString({\r\n\tminWidth: \"xl\"\r\n});\r\n\r\nconst orientation = {\r\n\tportrait: createMediaQueryString({\r\n\t\torientation: \"portrait\"\r\n\t}),\r\n\tlandscape: createMediaQueryString({\r\n\t\torientation: \"landscape\"\r\n\t})\r\n};\r\n// orientation.type = orientation.portrait ? \"portrait\" : \"landscape\";\r\n//to test if orientation is landscape, you can import only orientation.portrait, and test if it's falsey\r\n\r\nconst mediaQueries = {\r\n\tphone,\r\n\ttablet,\r\n\tlargeScreen,\r\n\txlScreen,\r\n\torientation\r\n};\r\n\r\nexport default mediaQueries;\r\n","const backgroundClasses = [\r\n    \"white-canvas\",\r\n    \"bg--primary-and-secondary\",\r\n    \"beach\",\r\n    \"fun-gumi\",\r\n    \"great-fragrance\",\r\n    \"field-day\",\r\n    \"cloud-up\",\r\n    // \"cloud-left\",\r\n    //\"rects--primary\",\r\n    //\"rects--3-colors\",\r\n    //\"rects--multi-direction\",\r\n    //\"rects-tube\",\r\n    //\"rects-nearing\",\r\n    //\"spheres-floating\",\r\n    //\"spheres-blob\",\r\n    //\"wall-climbing\",\r\n    \"fireballs\",\r\n    //\"spheres\"\r\n];\r\n\r\nexport default backgroundClasses;\r\n","import Logger from \"../logg\";\r\nconst label = \"SpeechRecognizer\";\r\nconst { logg, loggError } = new Logger({ label });\r\n\r\nconst defaultConfig = {\r\n  continuous: true,\r\n  lang: \"en-US\",\r\n  interimResults: false,\r\n  maxAlternatives: 1,\r\n  timeout: 4500,\r\n  grammarGenericType: \"someType\",\r\n\r\n  //default event handlers (they simply logg out messages in development mode)\r\n  onResult: ({\r\n    allMatched = false,\r\n    wordResults = [],\r\n    transcript = \"\",\r\n    confidence = 0,\r\n  }) => {\r\n    const msg = allMatched\r\n      ? \"All expected speech was recognized! \"\r\n      : \"Some speech was recognized, though not all that was expected. \";\r\n    logg(\r\n      msg,\r\n      wordResults,\r\n      ` \r\n      transcript: \"${transcript}\"\r\n      confidence: ${confidence}`\r\n    );\r\n  },\r\n  onStart: (recognition, speechRecognizer) => {\r\n    // logg(\"onStart(): Speech recognition service started. \", recognition);\r\n  },\r\n  onEnd: (recognition, speechRecognizer) => {\r\n    // logg(\"onEnd(): Speech recognition service has disconnected. \", recognition);\r\n  },\r\n\r\n  onSpeechStart: (recognition, speechRecognizer) => {\r\n    // logg(\"onSpeechStart(): Speech has been recognised. \");\r\n  },\r\n  onSpeechEnd: (recognition, speechRecognizer) => {\r\n    // logg(\"onSpeechEnd(): User finished speaking. Stopping recognition.\");\r\n    recognition.stop();\r\n  },\r\n\r\n  onSoundStart: (recognition, speechRecognizer) => {\r\n    // logg(\"onSoundStart(): Some sound (speech or other) has been detected. \");\r\n  },\r\n  onSoundEnd: (recognition, speechRecognizer, ev) => {\r\n    // logg(\r\n    //   \"onSoundEnd(): Some sound (speech or other) has stopped being detected.\"\r\n    // );\r\n  },\r\n\r\n  onAudioStart: (recognition, speechRecognizer) => {\r\n    // logg(\r\n    //   \"onAudioStart(): The user agent has started to capture audio for speech recognition.\"\r\n    // );\r\n  },\r\n  onAudioEnd: (recognition, speechRecognizer) => {\r\n    // logg(\r\n    //   \"onAudioEnd(): The user agent has finished capturing audio for speech recognition.\"\r\n    // );\r\n  },\r\n\r\n  onNoMatch: (recognition, speechRecognizer) => {\r\n    // logg(\"User finished speaking. Should recognition be stopped?\");\r\n  },\r\n  onError: (recognition, speechRecognizer, reason, ev) => {\r\n    loggError(\"An error occurred in recognition: \", reason);\r\n  },\r\n};\r\n\r\nclass SpeechRecognizer {\r\n  constructor(words = [], config = defaultConfig) {\r\n    if (!(window.SpeechGrammarList || window.webkitSpeechGrammarList)) {\r\n      const errMsg =\r\n        \"Browser does not support the Speech Recognition API (window.SpeechGrammarList is falsy)\";\r\n      logg(errMsg);\r\n      return null;\r\n    } //for Chrome\r\n\r\n    this.listening = false;\r\n    this.words = words;\r\n\r\n    const combinedConfig = {};\r\n    for (let [key, value] of Object.entries(defaultConfig)) {\r\n      combinedConfig[key] = config[key] || value || false;\r\n    }\r\n\r\n    //some extra special properties\r\n    const _lang =\r\n      (config.langRef && config.langRef.current) ||\r\n      (config.refs &&\r\n        config.refs.current &&\r\n        config.refs.current.selectedLang) ||\r\n      combinedConfig.lang;\r\n    combinedConfig.lang = _lang;\r\n\r\n    const _type = config.grammarGenericType || defaultConfig.grammarGenericType;\r\n\r\n    const recognition = this.getRecognitionFor(words, _type, _lang, {\r\n      interimResults: combinedConfig.interimResults,\r\n      continuous: combinedConfig.continuous,\r\n      lang: _lang,\r\n    });\r\n\r\n    //More options\r\n    // recognition.continuous = combinedConfig.continuous;\r\n    // recognition.lang = _lang;\r\n    // recognition.interimResults = combinedConfig.interimResults || false;\r\n\r\n    recognition.maxAlternatives = combinedConfig.maxAlternatives || 1;\r\n\r\n    //attach the main event handlers, which will in turn call the respective handlers passed to the constructor\r\n    //the main event handlers are defined as arrow functions so that their *this* property points to the SpeechRecognizer instance\r\n    recognition.onresult = (ev) => {\r\n      ev.preventDefault();\r\n      const { results } = ev;\r\n      // The SpeechRecognitionEvent results property returns a SpeechRecognitionResultList object\r\n      // The SpeechRecognitionResultList object contains SpeechRecognitionResult objects.\r\n      // It has a getter so it can be accessed like an array\r\n      // The [last] returns the SpeechRecognitionResult at the last position.\r\n      // Each SpeechRecognitionResult object contains SpeechRecognitionAlternative objects that contain individual results.\r\n      // These also have getters so they can be accessed like arrays.\r\n      // The [0] returns the SpeechRecognitionAlternative at position 0.\r\n      // We then return the transcript property of the SpeechRecognitionAlternative object\r\n      const speechRecognitionAlternative = results[results.length - 1][0];\r\n      const confidence = speechRecognitionAlternative.confidence;\r\n      //where available, use ES6's nice method for shortening a decimal\r\n      const confidence_shortened = confidence.toFixed\r\n        ? confidence.toFixed(2)\r\n        : confidence;\r\n      const transcript = speechRecognitionAlternative.transcript;\r\n\r\n      let numMatches = 0;\r\n      let res;\r\n      const wordResults = this.words.map((word) => {\r\n        const pos = transcript.indexOf(word);\r\n        res = { word, index: pos };\r\n        if (pos > -1) {\r\n          numMatches++;\r\n          res.matched = true;\r\n        } else {\r\n          res.matched = false;\r\n        }\r\n        return res;\r\n      });\r\n\r\n      const finalResult = {\r\n        allMatched: numMatches === this.words.length,\r\n        wordResults,\r\n        transcript,\r\n        confidence: confidence_shortened,\r\n      };\r\n\r\n      // const res = { transcript, confidence: confidence_shortened };\r\n      combinedConfig.onResult(finalResult, this);\r\n\r\n      return finalResult;\r\n    };\r\n\r\n    recognition.onstart = () => {\r\n      //fired when the speech recognition service has begun listening to incoming audio with intent to recognize grammars associated with the current SpeechRecognition.\r\n      this.listening = true;\r\n      combinedConfig.onStart(recognition, this);\r\n    };\r\n    recognition.onend = () => {\r\n      //fired when the speech recognition service has disconnected.\r\n      this.listening = false;\r\n      combinedConfig.onEnd(recognition, this);\r\n    };\r\n\r\n    recognition.onspeechstart = function() {\r\n      // Fired when sound that is recognised by the speech recognition service as speech has been detected.\r\n      combinedConfig.onSpeechStart(recognition, this);\r\n    };\r\n    recognition.onspeechend = function() {\r\n      //Fired when speech recognised by the speech recognition service has stopped being detected.\r\n      combinedConfig.onSpeechEnd(recognition, this);\r\n    };\r\n\r\n    recognition.onsoundstart = function() {\r\n      //The soundstart event of the Web Speech API is fired when *any* sound — recognisable speech or not — has been detected.\r\n      combinedConfig.onSoundStart(recognition, this);\r\n    };\r\n    recognition.onsoundend = function(ev) {\r\n      //Fired when any sound — recognisable speech or not — has stopped being detected.\r\n      ev.preventDefault();\r\n      combinedConfig.onSoundEnd(recognition, this, ev);\r\n    };\r\n\r\n    recognition.onnomatch = function() {\r\n      logg(\r\n        \"SpeechRecog:: User finished speaking before any recognition happened. Stopping recognition?\"\r\n      );\r\n      combinedConfig.onNoMatch(recognition, this);\r\n    };\r\n\r\n    recognition.onerror = function(ev) {\r\n      ev.preventDefault();\r\n      combinedConfig.onError(recognition, this, ev, ev.error);\r\n    };\r\n    recognition.onaudioend = function() {\r\n      //The audioend event of the Web Speech API is fired when the user agent has finished capturing audio for speech recognition.\r\n      combinedConfig.onAudioEnd(recognition, this);\r\n    };\r\n\r\n    recognition.onaudiostart = function() {\r\n      //The audiostart event of the Web Speech API is fired when the user agent has started to capture audio for speech recognition.\r\n      combinedConfig.onAudioStart(recognition, this);\r\n    };\r\n\r\n    //done with setup.\r\n    //save the recognition object inside the just-constructed instance of our wrapper object\r\n    this.recognition = recognition;\r\n  }\r\n\r\n  //helper methods\r\n  createGrammarString = (words = [], type = defaultConfig.type) => {\r\n    const str = `#JSGF V1.0; grammar ${type}s; public <${type}> = \r\n      ${words.join(\" | \")} ;`;\r\n    return str;\r\n  };\r\n\r\n  getRecognitionFor = (words, type, deprecatedlang = \"en-GB\", config = {}) => {\r\n    if (!words) return null;\r\n\r\n    const SpeechRecognition =\r\n      window.SpeechRecognition || window.webkitSpeechRecognition; //for Chrome\r\n\r\n    const recognition = new SpeechRecognition();\r\n    // recognition.lang = lang;\r\n    // const interimResults = config.interimResults || false;\r\n    // const continuous = config.continuous || false;\r\n    Object.assign(recognition, config);\r\n\r\n    this.grammarGenericType = type;\r\n\r\n    //add a grammar string (which includes the words to be recognized) to the recognition object\r\n    const SpeechGrammarList =\r\n      window.SpeechGrammarList || window.webkitSpeechGrammarList; //for Chrome\r\n    const speechRecognitionList = new SpeechGrammarList();\r\n    speechRecognitionList.addFromString(\r\n      this.createGrammarString(words, type),\r\n      1\r\n    );\r\n    recognition.grammars = speechRecognitionList;\r\n\r\n    // //ain't used?\r\n    // const SpeechRecognitionEvent =\r\n    //   window.SpeechRecognitionEvent || window.webkitSpeechRecognitionEvent;\r\n\r\n    return recognition;\r\n  };\r\n\r\n  //public API methods\r\n  listen = () => {\r\n    //this function is defined as an arrow function, so that its *this* value will point to the SpeechRecognizer instance\r\n    if (!this.listening) {\r\n      //start listening to the configured grammar/words\r\n\r\n      this.recognition.start();\r\n    }\r\n  };\r\n\r\n  listenFor = (config = {}) => {\r\n    //for listening to another list of words. Optionally, other configs can be passed to this individual listening service.  For example: continious & intermediate result\r\n\r\n    const { words, once = false, onMatch, onResult } = config;\r\n\r\n    if (!words || !words.length) return null;\r\n\r\n    const lang =\r\n      config.lang ||\r\n      this.recognition.lang ||\r\n      this.lang ||\r\n      defaultConfig.lang ||\r\n      \"en-US\";\r\n\r\n    //a mysterious part of the original API\r\n    const type =\r\n      config.type ||\r\n      this.grammarGenericType ||\r\n      defaultConfig.grammarGenericType;\r\n\r\n    //boolean parameters\r\n    const continuous =\r\n      config.continuous ??\r\n      recognition.continuous ??\r\n      this.continuous ??\r\n      defaultConfig.continuous;\r\n\r\n    const interimResults =\r\n      config.interimResults ??\r\n      recognition.interimResults ??\r\n      this.interimResults ??\r\n      defaultConfig.continuous;\r\n\r\n    const recognition = this.getRecognitionFor(words, type, lang, {\r\n      interimResults,\r\n      continuous,\r\n      lang,\r\n    });\r\n\r\n    // recognition.interimResults = interimResults ?? recognition.interimResults;\r\n\r\n    // recognition.continuous = continuous ?? recognition.continuous;\r\n\r\n    return new Promise((resolve, reject) => {\r\n      recognition.onerror = (e) => reject(e);\r\n\r\n      recognition.onresult = (e) => {\r\n        const { results } = e;\r\n        if (once) {\r\n          debugger;\r\n          recognition.stop();\r\n        }\r\n        const speechRecognitionAlternative = results[results.length - 1][0];\r\n        const { transcript, confidence } = speechRecognitionAlternative;\r\n\r\n        // logg(\r\n        //   `Last Speech-Recognition result: confidence: ${confidence}. transcript: ${transcript}`,\r\n        //   speechRecognitionAlternative\r\n        // );\r\n\r\n        // logg(\r\n        //   \"onresult speechRecognitionAlternative:  \",\r\n        //   speechRecognitionAlternative\r\n        // );\r\n\r\n        const matched = words.includes(transcript.toLowerCase().trim());\r\n\r\n        if (matched) {\r\n          resolve(speechRecognitionAlternative);\r\n          if (onMatch) {\r\n            onMatch(speechRecognitionAlternative);\r\n          }\r\n        } else {\r\n          //logg(\"not matched\");\r\n        }\r\n\r\n        //finally, call the argument event handler\r\n        onResult(speechRecognitionAlternative);\r\n      };\r\n      recognition.onspeechend = (e) => logg(e);\r\n      recognition.start();\r\n      logg(\"Recognition starts!\");\r\n    });\r\n  };\r\n  stopListening = () => this.recognition.stop();\r\n\r\n  //methods for setting event handlers after initialization\r\n  onResult = (handler) => (this.recognition.onresult = handler);\r\n  onSpeechEnd = (handler) => (this.recognition.onspeechend = handler);\r\n  onNoMatch = (handler) => (this.recognition.onnomatch = handler);\r\n  onError = (handler) => (this.recognition.onerror = handler);\r\n  setLanguage = (langString = \"en-GB\") => (this.recognition.lang = langString);\r\n  setInterimResults = (acceptInterimResults = false) =>\r\n    (this.recognition.interimResults = \"blah\");\r\n  setMaxAlternatives = (maxAlternatives = 1) =>\r\n    (this.recognition.maxAlternatives = maxAlternatives);\r\n}\r\n\r\nexport default SpeechRecognizer;\r\n\r\n/* \r\n//example usage:\r\nimport SpeechRecognizer from '../lib/speech/SpeechRecognizer';\r\n\r\nconst speechRecognizer = new SpeechRecognizer(['ok', \"cancel\"]);\r\nspeechRecognizer.listen();\r\nsetTimeout(() => {\r\n  speechRecognizer.stopListening();\r\n}, 20000);\r\n\r\n// Check the console for the results! :)\r\n*/\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"GlowingLoader_root__2LonM\",\"ring\":\"GlowingLoader_ring__g7-GO\",\"animateC\":\"GlowingLoader_animateC__1fPaZ\",\"animate\":\"GlowingLoader_animate__3eoux\",\"ring__dark\":\"GlowingLoader_ring__dark__1c9m6\",\"ring__red\":\"GlowingLoader_ring__red__YaCw0\",\"ring__primary\":\"GlowingLoader_ring__primary__1elQx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"DraggableBall_root__3zyBQ\"};","import React, { useContext, useEffect, useRef } from \"react\";\r\nimport { AppContext } from \"../../contexts/AppContext.jsx\";\r\nimport { DeviceContext } from \"../../contexts/DeviceContext.jsx\";\r\nimport PropTypes from \"prop-types\";\r\nimport clsx from \"clsx\";\r\n//import posed from \"react-pose\";\r\nimport \"./_FreeSpeechBubble.scss\";\r\n\r\nlet logg;\r\nlet promiseKeeper;\r\nconst label = \"FreeSpeechBubble\";\r\n\r\nconst FreeSpeechBubble = React.forwardRef((props, ref) => {\r\n\tconst { Text, show, className, anchor, onClick = () => {} } = props;\r\n\tconst [appUtils] = useContext(AppContext);\r\n\tconst responsiveData = useContext(DeviceContext);\r\n\tconst { appbarHeight } = responsiveData;\r\n\tconst { Logger, PromiseKeeper, alignElements } = appUtils;\r\n\tconst refs = useRef({ appbarHeight });\r\n\r\n\tpromiseKeeper = promiseKeeper || new PromiseKeeper({ label });\r\n\tlogg = logg || new Logger({ label }).logg;\r\n\r\n\tuseEffect(() => {\r\n\t\trefs.current.appbarHeight = appbarHeight;\r\n\t}, [appbarHeight]);\r\n\r\n\tuseEffect(() => {\r\n\t\tconst { appbarHeight } = refs.current;\r\n\t\tconst bubbleHeight = ref.current.clientHeight || 0;\r\n\r\n\t\tif (show) {\r\n\t\t\tlogg(appbarHeight, bubbleHeight);\r\n\t\t\talignElements({\r\n\t\t\t\ttargetElem: anchor,\r\n\t\t\t\tmovingElem: ref,\r\n\t\t\t\t//top: (appbarHeight || 0) - 0.33 * bubbleHeight\r\n\t\t\t\ttop: -0.66 * bubbleHeight\r\n\t\t\t});\r\n\t\t}\r\n\t}, [show, alignElements, ref, anchor]);\r\n\r\n\treturn (\r\n\t\t<div\r\n\t\t\tclassName={clsx(\r\n\t\t\t\t\"speech-bubble free-speech-bubble\",\r\n\t\t\t\tclassName && className,\r\n\t\t\t\tshow ? \"show-speech-bubble\" : \"hide-speech-bubble\"\r\n\t\t\t)}\r\n\t\t\tonClick={onClick}\r\n\t\t\tref={ref}\r\n\t\t>\r\n\t\t\t{\" \"}\r\n\t\t\t{Text}\r\n\t\t</div>\r\n\t);\r\n});\r\n\r\nFreeSpeechBubble.propTypes = {\r\n\tText: PropTypes.element,\r\n\tshow: PropTypes.bool,\r\n\tonPressEnd: PropTypes.func,\r\n\tclassName: PropTypes.string,\r\n\tanchor: PropTypes.object,\r\n\tonClick: PropTypes.func\r\n};\r\n\r\nexport default FreeSpeechBubble;\r\n","import React, {\r\n\tuseState,\r\n\tuseContext,\r\n\tuseCallback,\r\n\tuseEffect,\r\n\tforwardRef,\r\n\tuseRef,\r\n} from \"react\";\r\n\r\nimport PropTypes from \"prop-types\";\r\nimport clsx from \"clsx\";\r\nimport SVG from \"react-inlinesvg\";\r\nimport posed from \"react-pose\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport ButtonGroup from \"@material-ui/core/ButtonGroup\";\r\nimport Color from \"color\";\r\n\r\nimport DURATIONS from \"../../constants/durations.js\";\r\nimport { AppContext } from \"../../contexts/AppContext.jsx\";\r\nimport { DeviceContext } from \"../../contexts/DeviceContext.jsx\";\r\nimport FreeSpeechBubble from \"../../components/FreeSpeechBubble/FreeSpeechBubble.jsx\";\r\nimport \"./_SageAdvice.scss\";\r\n\r\nconst sagePath = \"/characters/OldSageToRight.svg\";\r\nconst label = \"SageAdvice\";\r\n\r\nlet promiseKeeper;\r\nlet logg;\r\nlet animationFrame;\r\nlet now, prevTime, elapsedTime, fpsInterval;\r\n// let startTime;\r\n// let frameCount = 0;\r\n\r\nconst Sage = forwardRef((props, ref) => (\r\n\t<SVG\r\n\t\tref={ref}\r\n\t\tsrc={sagePath}\r\n\t\tcacheRequests={true}\r\n\t\tdescription=\"Sage Weiss\"\r\n\t\tloader={() => <span>...</span>}\r\n\t\tonError={(error) => {\r\n\t\t\tlogg(error.message);\r\n\t\t}}\r\n\t\tonLoad={(src, hasCache) =>\r\n\t\t\tlogg(\"Loaded SVG file: \", src, \". Has cache: \" + hasCache)\r\n\t\t}\r\n\t\t{...props}\r\n\t/>\r\n));\r\nconst pressablePoses = {\r\n\tvisible: {\r\n\t\t// skew: \"0deg\",\r\n\t\topacity: 1,\r\n\t\tscale: 1,\r\n\t\tx: \"0%\",\r\n\t\ttransition: { duration: 400 },\r\n\t},\r\n\thidden: {\r\n\t\t// skew: \"55deg\",\r\n\t\topacity: 0,\r\n\r\n\t\ttransition: { duration: 250 },\r\n\t},\r\n\tleft: {\r\n\t\tx: \"-200%\",\r\n\t\ttransition: { duration: DURATIONS.enter },\r\n\t},\r\n\tpressable: true,\r\n\tpress: { scale: 0.7, damping: 200 },\r\n};\r\n\r\n// const PosedSageWithRef = posed(Sage)(pressablePoses);\r\nconst Pressable = posed.div(pressablePoses);\r\n\r\n// const speechBubblePoses = {\r\n// \tenter: {\r\n// \t\t// skew: \"0deg\",\r\n// \t\topacity: 1,\r\n// \t\t// scale: 1,\r\n// \t\t// x: \"0%\",\r\n// \t\ttransition: { duration: 400 }\r\n// \t},\r\n// \texit: {\r\n// \t\t// skew: \"55deg\",\r\n// \t\topacity: 0,\r\n// \t\t// scale: 0,\r\n// \t\t// x: \"-50%\",\r\n// \t\ttransition: { duration: 250 }\r\n// \t},\r\n// \tpressable: true,\r\n// \twiggle: { x: \"10%\" }\r\n// };\r\n// const AnimatedSpeechBubble = posed.div(speechBubblePoses);\r\n\r\nconst NUM_COLORS_USED = 5;\r\n\r\nlet colorIndex = 1;\r\n\r\nclass ColorSet {\r\n\tconstructor(config = {}) {\r\n\t\tconst _config = config ? config : {};\r\n\t\tif (!_config.label) _config.label = `color${colorIndex}`;\r\n\r\n\t\tfor (let [key, value] of Object.entries(_config)) {\r\n\t\t\tif (value) this[key] = value;\r\n\t\t}\r\n\t\tcolorIndex++;\r\n\t}\r\n}\r\n\r\nconst sageColors = [\r\n\t// { label: \"eye\", darker: 1, lighter: 0 },\r\n\tnew ColorSet({\r\n\t\tlabel: \"body\",\r\n\t\tdarken: { base: \"#f3ccc2ff\" }, //instead of changing it to a random color\r\n\t\tdarker: 3,\r\n\t\tlighter: 3,\r\n\t\t// fixed: true\r\n\t}),\r\n\tnew ColorSet({ label: \"robe\", darker: 3, lighter: 3 }),\r\n\tnew ColorSet({ label: \"sleeve\", darker: 3, lighter: 3 }),\r\n\t// new ColorSet({ label: \"hair\", darker: 3, transparent: 1 }),\r\n\tnew ColorSet({\r\n\t\tlabel: \"hair\",\r\n\t\tdarker: 3,\r\n\t\tlighter: 3,\r\n\t\ttransparent: 1,\r\n\t\tdarken: { base: \"rgba(255, 255, 255, 1)\" },\r\n\t}),\r\n\r\n\t//rgb(148, 116, 204) primary-base\r\n\tnew ColorSet({\r\n\t\tlabel: \"primary\",\r\n\t\tdarken: { base: \"#f3ccc2ff\" },\r\n\t\tlighter: 3,\r\n\t\tdarker: 3,\r\n\t\tfixed: true,\r\n\t}),\r\n\t// new ColorSet({\r\n\t// \tlabel: \"body\",\r\n\t// \tdarken: { base: \"rgb(148, 116, 204)\" },\r\n\t// \tdarker: 3\r\n\t// }),\r\n\tnew ColorSet({\r\n\t\tlabel: \"secondary\",\r\n\t\tdarken: { base: \"rgb(68, 221, 238)\" },\r\n\t\tlighter: 3,\r\n\t\tdarker: 3,\r\n\t}),\r\n\tnew ColorSet({\r\n\t\tlabel: \"red\",\r\n\t\tdarken: { base: \"#e80909\" },\r\n\t\tdarker: 3,\r\n\t\tlighter: 3,\r\n\t}),\r\n\tnew ColorSet({\r\n\t\tlabel: \"yellow\",\r\n\t\tdarken: { base: \"rgb(255, 255, 170)\" },\r\n\t\tdarker: 3,\r\n\t\tlighter: 3,\r\n\t}),\r\n\tnew ColorSet({\r\n\t\tlabel: \"green\",\r\n\t\tdarken: { base: \"#d6ffa6\" },\r\n\t\tdarker: 3,\r\n\t\tlighter: 3,\r\n\t}),\r\n\tnew ColorSet({\r\n\t\tlabel: \"dark-pink\",\r\n\t\tdarken: { base: \"rgb(238, 170, 255)\" },\r\n\t\tdarker: 3,\r\n\t\tlighter: 3,\r\n\t}),\r\n\tnew ColorSet({\r\n\t\tlabel: \"salmon\",\r\n\t\tdarken: { base: \"rgb(255, 204, 204)\" },\r\n\t\tdarker: 3,\r\n\t\tlighter: 3,\r\n\t}),\r\n];\r\n\r\nconst attachStyleSheet = () => {\r\n\tconst styleElem = document.createElement(\"style\");\r\n\r\n\t// Add a media (and/or media query) here if you'd like!\r\n\t// style.setAttribute(\"media\", \"screen\")\r\n\t// style.setAttribute(\"media\", \"only screen and (max-width : 1024px)\")\r\n\r\n\t// WebKit hack :(\r\n\tstyleElem.appendChild(document.createTextNode(\"\"));\r\n\r\n\tdocument.head.appendChild(styleElem);\r\n\treturn styleElem.sheet;\r\n};\r\n\r\nconst createCSSRuleString = (config = {}) => {\r\n\tconst {\r\n\t\tselector = \".color-1-base\",\r\n\t\tpropertyName = \"fill\",\r\n\t\tpropertyValue = \"var(--color-1-base)\",\r\n\t\timportant = false,\r\n\t} = config;\r\n\tif (!selector || !propertyValue || !propertyValue) return null;\r\n\tlet cssRule = `${selector} {${propertyName}: ${propertyValue} ${\r\n\t\timportant ? \"!important\" : \"\"\r\n\t};}`;\r\n\r\n\treturn cssRule;\r\n};\r\n\r\nconst SageAdvice = (props) => {\r\n\tconst [appUtils] = useContext(AppContext);\r\n\tconst responsiveData = useContext(DeviceContext);\r\n\tconst {\r\n\t\tLogger,\r\n\t\t//DEBUGGING,\r\n\t\talignElements,\r\n\t\tgetRandomColor,\r\n\t\tgetRandomUpTo,\r\n\t\tPromiseKeeper,\r\n\t\tposeGroup,\r\n\t} = appUtils;\r\n\tlogg = logg || new Logger({ label }).logg;\r\n\tpromiseKeeper = promiseKeeper || new PromiseKeeper({ label });\r\n\r\n\tconst sageRef = useRef(null);\r\n\tconst mouthRef = useRef(null);\r\n\tconst speechBubbleRef = useRef({});\r\n\tconst [showSpeechBubble, setShowSpeechBubble] = useState(false);\r\n\tconst [showBubble, setShowBubble] = useState(true);\r\n\tconst [showMagicField, setShowMagicField] = useState(true);\r\n\r\n\tconst [showSage, setShowSage] = useState(true);\r\n\tconst [, rerender] = useState();\r\n\tconst [isStyleSheetAttached, setIsStyleSheetAttached] = useState(false);\r\n\tconst [whiteoutMode, setWhiteOutMode] = useState(\"in\"); //one of: show-after, fadeout-after, hide-after\r\n\r\n\tconst [speechBubbleAnchor, setSpeechBubbleAnchor] = useState({});\r\n\r\n\tconst $isSagePressed = useRef(false);\r\n\tconst $isActive = useRef(false);\r\n\tconst $responsiveData = useRef(false);\r\n\r\n\tconst addDynamicStyleSheet = useCallback(() => {\r\n\t\tif (isStyleSheetAttached) return;\r\n\t\tconst styleSheet = attachStyleSheet();\r\n\t\tsetIsStyleSheetAttached(true);\r\n\r\n\t\tconst propertyName = \"fill\";\r\n\t\tconst important = true;\r\n\r\n\t\tconst cssRules = sageColors.map((colorSet, i) => {\r\n\t\t\tconst { label, darker, lighter, transparent } = colorSet;\r\n\t\t\tconst colorRules = [];\r\n\r\n\t\t\t//first, set the base color\r\n\t\t\tconst shadeGroups = { base: 0, darker, lighter, transparent };\r\n\r\n\t\t\tfor (let [shadeType, numShades] of Object.entries(shadeGroups)) {\r\n\t\t\t\tlet selectorPre = `#root .${label}-`;\r\n\t\t\t\tlet selector = \"\";\r\n\t\t\t\tlet propertyValue = \"\";\r\n\t\t\t\tlet shadeRule = \"\";\r\n\r\n\t\t\t\tif (shadeType === \"base\") {\r\n\t\t\t\t\tselector = selectorPre + \"base\";\r\n\t\t\t\t\tpropertyValue = `var(--${label}-base)`;\r\n\t\t\t\t\tshadeRule = createCSSRuleString({\r\n\t\t\t\t\t\tselector,\r\n\t\t\t\t\t\tpropertyName,\r\n\t\t\t\t\t\tpropertyValue,\r\n\t\t\t\t\t\timportant,\r\n\t\t\t\t\t});\r\n\t\t\t\t\tcolorRules.push(shadeRule);\r\n\t\t\t\t\tstyleSheet.insertRule(shadeRule);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tfor (let j = 1; j < 1 + numShades; j++) {\r\n\t\t\t\t\t\tselector = `${selectorPre}${shadeType}-${j}`;\r\n\t\t\t\t\t\tpropertyValue = `var(--${label}-${shadeType}-${j})`;\r\n\t\t\t\t\t\tshadeRule = createCSSRuleString({\r\n\t\t\t\t\t\t\tselector,\r\n\t\t\t\t\t\t\tpropertyName,\r\n\t\t\t\t\t\t\tpropertyValue,\r\n\t\t\t\t\t\t\timportant,\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tcolorRules.push(shadeRule);\r\n\t\t\t\t\t\tstyleSheet.insertRule(shadeRule);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\treturn colorRules;\r\n\t\t});\r\n\r\n\t\tlogg(\"Added the following style rules: \", cssRules);\r\n\t});\r\n\r\n\tconst changeColors = useCallback((ev) => {\r\n\t\t//change ALL colors\r\n\t\tconst newColors = [];\r\n\t\tfor (let i = 1; i < NUM_COLORS_USED + 1; i++) {\r\n\t\t\tlet newColor;\r\n\t\t\tnewColor = getRandomColor();\r\n\t\t\tnewColors.push({ varIndex: i, color: newColor });\r\n\t\t\tdocument.body.style.setProperty(`--color-${i}`, newColor);\r\n\t\t}\r\n\r\n\t\tlogg(\"New set of colors: \", newColors);\r\n\t});\r\n\r\n\tconst changeSageColor = (colorSets = {}, config = {}) => {\r\n\t\tconst newColors = {};\r\n\t\tcolorSets.forEach((part, colorIndex) => {\r\n\t\t\tconst { label, fixed } = part;\r\n\r\n\t\t\tconst shades = {};\r\n\t\t\tconst shadeLabel = part.label || `color_${colorIndex}`;\r\n\t\t\tlet baseColor;\r\n\t\t\tif ((part.darken && part.darken.base) || fixed) {\r\n\t\t\t\tconst { base, multiplier } = part.darken;\r\n\t\t\t\tlet _multi;\r\n\t\t\t\tif (\r\n\t\t\t\t\t!multiplier ||\r\n\t\t\t\t\tmultiplier === \"random\" ||\r\n\t\t\t\t\tmultiplier > 1 ||\r\n\t\t\t\t\tmultiplier < -1\r\n\t\t\t\t) {\r\n\t\t\t\t\tconst rand = getRandomUpTo(5);\r\n\t\t\t\t\t_multi = Number(\"0.\" + rand);\r\n\t\t\t\t} else {\r\n\t\t\t\t\t_multi = multiplier;\r\n\t\t\t\t}\r\n\t\t\t\tshades.darken = { base, multiplier: _multi };\r\n\t\t\t\tbaseColor = Color(base).darken(_multi);\r\n\t\t\t} else {\r\n\t\t\t\tbaseColor = Color(part.base || getRandomColor());\r\n\t\t\t}\r\n\t\t\tshades.base = baseColor.string();\r\n\t\t\t//create darker shades\r\n\t\t\tfor (let i = 1; i < 1 + part.darker; i++) {\r\n\t\t\t\tconst multiplier = part.label === \"body\" ? 0.025 : 0.1;\r\n\t\t\t\tconst darkerShade = baseColor.darken((i + 1) * multiplier);\r\n\t\t\t\tshades[`darker-${i}`] = darkerShade.string();\r\n\t\t\t}\r\n\t\t\t//create lighter shades\r\n\t\t\tfor (let j = 1; j < 1 + part.lighter; j++) {\r\n\t\t\t\tconst lighterShade = baseColor.lighten((j + 1) * 0.1);\r\n\t\t\t\tshades[`lighter-${j}`] = lighterShade.string();\r\n\t\t\t}\r\n\t\t\t//create transparent-ish shades\r\n\t\t\tfor (let k = 1; k < 1 + part.transparent; k++) {\r\n\t\t\t\tconst transparentShade = baseColor.fade((k + 1) * 0.0125);\r\n\t\t\t\tshades[`transparent-${k}`] = transparentShade.string();\r\n\t\t\t}\r\n\r\n\t\t\t//add the new color shades to the newColors object\r\n\t\t\tnewColors[shadeLabel] = shades;\r\n\t\t});\r\n\r\n\t\tlogg(\"new sage colors: \", newColors);\r\n\r\n\t\t//assign the new colors to their corresponding CSS variables\r\n\t\tconst bodyStyles = document.body.style;\r\n\t\tfor (let [colorLabel, shades] of Object.entries(newColors)) {\r\n\t\t\tconst pre = `--${colorLabel}-`; // e.g.: \"--hair-\"\r\n\t\t\tfor (let [shadeName, colorValue] of Object.entries(shades)) {\r\n\t\t\t\tconst variableName = pre + shadeName; // e.g.: \"--hair-darker-1\"\r\n\t\t\t\tnewColors[colorLabel].cssVar = variableName;\r\n\t\t\t\tbodyStyles.setProperty(variableName, colorValue);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tconst [animationIsStopped, setAnimationIsStopped] = useState(false);\r\n\r\n\t// const startAnimation = config => {\r\n\t// \tconst fps = config.DEBUGGING ? 5 : config.fps || 60;\r\n\t// \tfpsInterval = 1000 / fps;\r\n\t// \tprevTime = Date.now();\r\n\t// \tstartTime = prevTime;\r\n\r\n\t// \tlogg(\r\n\t// \t\tgetFormattedTime(new Date(prevTime)) +\r\n\t// \t\t\t`: starting animation at ${fps}fps`\r\n\t// \t);\r\n\r\n\t// \tanimationFrame = window.requestAnimationFrame(() => {\r\n\t// \t\tloop();\r\n\t// \t});\r\n\t// };\r\n\r\n\tconst stopAnimation = () => {\r\n\t\tsetAnimationIsStopped(true);\r\n\t};\r\n\r\n\tconst alignSpeechBubble = () => {\r\n\t\tconst { appbarHeight } = $responsiveData.current;\r\n\t\tif (!mouthRef || !mouthRef.current) return;\r\n\t\talignElements({\r\n\t\t\ttargetElem: mouthRef,\r\n\t\t\tmovingElem: speechBubbleRef,\r\n\t\t\ttop: appbarHeight - 0.66 * speechBubbleRef.current.clientHeight,\r\n\t\t});\r\n\t};\r\n\r\n\tconst loop = useCallback(() => {\r\n\t\tif (\r\n\t\t\t!sageRef.current.getBoundingClientRect ||\r\n\t\t\t!speechBubbleRef.current.getBoundingClientRect\r\n\t\t)\r\n\t\t\treturn null;\r\n\r\n\t\tif (animationIsStopped) return \"animation stopped\";\r\n\r\n\t\tanimationFrame = window.requestAnimationFrame(loop);\r\n\r\n\t\t// calc elapsed time since last loop\r\n\t\tnow = Date.now();\r\n\t\telapsedTime = now - prevTime;\r\n\t\tif (elapsedTime > fpsInterval) {\r\n\t\t\tif ($isSagePressed.current) return;\r\n\t\t\t// Get ready for next frame by setting prevTime = now, but...\r\n\t\t\t// Also, adjust for fpsInterval not being multiple of 16.67\r\n\t\t\tprevTime = now - (elapsedTime % fpsInterval);\r\n\r\n\t\t\t//now draw next frame\r\n\t\t\talignSpeechBubble();\r\n\t\t\t// TESTING...Report #seconds since start and achieved fps.\r\n\t\t\t// const sinceStart = now - startTime;\r\n\t\t\t// const currentFps =\r\n\t\t\t// \tMath.round((1000 / (sinceStart / ++frameCount)) * 100) / 100;\r\n\t\t\t// logg(\r\n\t\t\t// \t\"Elapsed time= \" +\r\n\t\t\t// \t\tMath.round((sinceStart / 1000) * 100) / 100 +\r\n\t\t\t// \t\t\" secs @ \" +\r\n\t\t\t// \t\tcurrentFps +\r\n\t\t\t// \t\t\" fps.\"\r\n\t\t\t// );\r\n\t\t}\r\n\t});\r\n\r\n\tuseEffect(() => {\r\n\t\taddDynamicStyleSheet();\r\n\r\n\t\tconst primaryDarker1 = Color(\"hsl(261, 46%, 63%)\")\r\n\t\t\t.darken(0.05)\r\n\t\t\t.string();\r\n\t\tlogg(\"darker 1: \", primaryDarker1);\r\n\t\tconst primaryDarker2 = Color(\"hsl(261, 46%, 63%)\")\r\n\t\t\t.darken(0.1)\r\n\t\t\t.string();\r\n\t\tlogg(primaryDarker2);\r\n\t\tconst primaryDarker3 = Color(\"hsl(261, 46%, 63%)\")\r\n\t\t\t.darken(0.15)\r\n\t\t\t.string();\r\n\t\tlogg(primaryDarker3);\r\n\t\tconst primaryDarker4 = Color(\"hsl(261, 46%, 63%)\")\r\n\t\t\t.darken(0.2)\r\n\t\t\t.string();\r\n\t\tlogg(primaryDarker4);\r\n\t\tconst primaryDarker5 = Color(\"hsl(261, 46%, 63%)\")\r\n\t\t\t.darken(0.25)\r\n\t\t\t.string();\r\n\t\tlogg(primaryDarker5);\r\n\r\n\t\tconst primaryLighter1 = Color(\"hsl(261, 46%, 63%)\")\r\n\t\t\t.lighten(0.05)\r\n\t\t\t.string();\r\n\t\tlogg(\"ligther 1: \", primaryLighter1);\r\n\t\tconst primaryLighter2 = Color(\"hsl(261, 46%, 63%)\")\r\n\t\t\t.lighten(0.1)\r\n\t\t\t.string();\r\n\t\tlogg(primaryLighter2);\r\n\t\tconst primaryLighter3 = Color(\"hsl(261, 46%, 63%)\")\r\n\t\t\t.lighten(0.15)\r\n\t\t\t.string();\r\n\t\tlogg(primaryLighter3);\r\n\t\tconst primaryLighter4 = Color(\"hsl(261, 46%, 63%)\")\r\n\t\t\t.lighten(0.2)\r\n\t\t\t.string();\r\n\t\tlogg(primaryLighter4);\r\n\t\tconst primaryLighter5 = Color(\"hsl(261, 46%, 63%)\")\r\n\t\t\t.lighten(0.25)\r\n\t\t\t.string();\r\n\t\tlogg(primaryLighter5);\r\n\r\n\t\t//domRefs require a re-render to trigger their ref callbacks, so....\r\n\t\tpromiseKeeper\r\n\t\t\t.stall(DURATIONS.betweenLevels, \"re-render to trigger ref callback\")\r\n\t\t\t.then(() => rerender(1));\r\n\r\n\t\treturn () => {\r\n\t\t\tif (animationFrame) cancelAnimationFrame(animationFrame);\r\n\t\t};\r\n\t}, []);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (sageRef.current && (!mouthRef || !mouthRef.current)) {\r\n\t\t\tmouthRef.current = sageRef.current.querySelector(\"rect#mouth\");\r\n\r\n\t\t\t// setAnimationIsStopped(false);\r\n\t\t\t// startAnimation({ DEBUGGING });\r\n\r\n\t\t\tsetSpeechBubbleAnchor(mouthRef.current);\r\n\r\n\t\t\t//alignSpeechBubble();\r\n\t\t\tif (sageRef.current) {\r\n\t\t\t\tpromiseKeeper\r\n\t\t\t\t\t.stall(DURATIONS.enter * 3, \"show speech bubble\")\r\n\t\t\t\t\t.then(() => {\r\n\t\t\t\t\t\tanimationFrame = window.requestAnimationFrame(() => {\r\n\t\t\t\t\t\t\t//\r\n\r\n\t\t\t\t\t\t\tsetShowSpeechBubble(true);\r\n\t\t\t\t\t\t\t$isActive.current = true;\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\treturn () => {\r\n\t\t\twindow.cancelAnimationFrame(animationFrame);\r\n\t\t\tstopAnimation();\r\n\t\t};\r\n\t}, [sageRef.current]);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (responsiveData) {\r\n\t\t\t$responsiveData.current = responsiveData;\r\n\t\t\talignSpeechBubble();\r\n\t\t}\r\n\t}, [responsiveData]);\r\n\r\n\treturn (\r\n\t\t<div\r\n\t\t\tid={\"sage-advice\"}\r\n\t\t\tclassName={clsx(\r\n\t\t\t\t\"fullsize gradient-animation-psychedelic root has-after white-out\",\r\n\t\t\t\twhiteoutMode\r\n\t\t\t)}\r\n\t\t>\r\n\t\t\t<div className={clsx(\"zone character-zone\")}>\r\n\t\t\t\t<Pressable\r\n\t\t\t\t\tclassName={clsx(\"sage-area press-area\")}\r\n\t\t\t\t\tonPressStart={() => {\r\n\t\t\t\t\t\t$isSagePressed.current = true;\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tonPressEnd={() => {\r\n\t\t\t\t\t\t$isSagePressed.current = false;\r\n\t\t\t\t\t\tif (!$isActive.current) return;\r\n\t\t\t\t\t\t$isActive.current = false;\r\n\t\t\t\t\t\tsetShowSpeechBubble(false);\r\n\t\t\t\t\t\tpromiseKeeper\r\n\t\t\t\t\t\t\t.stall(DURATIONS.enter, \"show white-out\")\r\n\t\t\t\t\t\t\t.then(() => {\r\n\t\t\t\t\t\t\t\tsetWhiteOutMode(\"show-after\");\r\n\t\t\t\t\t\t\t\tpromiseKeeper\r\n\t\t\t\t\t\t\t\t\t.stall(\r\n\t\t\t\t\t\t\t\t\t\tDURATIONS[\"betweenLevels\"],\r\n\t\t\t\t\t\t\t\t\t\t\"whiteOut-after-color-change\",\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\tresolveOnError: true,\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t.then(() => {\r\n\t\t\t\t\t\t\t\t\t\t//overlay is now covering the entire view. Good time for changing colors, etc.\r\n\t\t\t\t\t\t\t\t\t\t// $isSagePressed.current = false;\r\n\t\t\t\t\t\t\t\t\t\tchangeColors();\r\n\t\t\t\t\t\t\t\t\t\tchangeSageColor(sageColors);\r\n\r\n\t\t\t\t\t\t\t\t\t\twindow.requestAnimationFrame(() => {\r\n\t\t\t\t\t\t\t\t\t\t\t//now smoothly fadeout the overlay to reveal the new colors\r\n\t\t\t\t\t\t\t\t\t\t\tsetWhiteOutMode(\"fadeout-after\");\r\n\t\t\t\t\t\t\t\t\t\t\tpromiseKeeper\r\n\t\t\t\t\t\t\t\t\t\t\t\t.stall(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tDURATIONS.betweenLevels,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\"remove whiteout\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t.then(() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tanimationFrame = window.requestAnimationFrame(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetWhiteOutMode(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"hide-after\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t$isActive.current = true;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\talignSpeechBubble();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tpromiseKeeper\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.stall(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t500,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"show speech bubble after removal of whiteout\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.then(() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetShowSpeechBubble(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttrue\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tpose={showSage ? \"visible\" : \"hidden\"}\r\n\t\t\t\t\tinitialPose={\"left\"}\r\n\t\t\t\t>\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tclassName={clsx(\r\n\t\t\t\t\t\t\t\"sage-container wobble fill-space has-before before--bubble has-after after--magic-field\",\r\n\t\t\t\t\t\t\tshowBubble ? \"show-before\" : \"hide-before\",\r\n\t\t\t\t\t\t\tshowMagicField ? \"show-after\" : \"hide-after\"\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Sage className={\"sage-svg\"} innerRef={sageRef} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Pressable>\r\n\r\n\t\t\t\t<div className={clsx(\"text-container\")}>\r\n\t\t\t\t\t<FreeSpeechBubble\r\n\t\t\t\t\t\tclassName={\"semi-wobble\"}\r\n\t\t\t\t\t\tanchor={speechBubbleAnchor}\r\n\t\t\t\t\t\tshow={showSpeechBubble}\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tsetShowSpeechBubble(false);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tref={speechBubbleRef}\r\n\t\t\t\t\t\tText={\r\n\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t<p className={clsx(\"p readable\")}>\r\n\t\t\t\t\t\t\t\t\tMistakes are{\" \"}\r\n\t\t\t\t\t\t\t\t\t<span className={\"bold\"}>inevitable</span>.\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t<p className={clsx(\"p readable\")}>\r\n\t\t\t\t\t\t\t\t\tTaking your chances is{\" \"}\r\n\t\t\t\t\t\t\t\t\t<span className={\"bold\"}>necessary</span>.\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div className={clsx(\"zone go-back-zone\")}>\r\n\t\t\t\t<Button\r\n\t\t\t\t\tclassName=\"reload-btn readable\"\r\n\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\tonClick={(ev) => window.location.reload()}\r\n\t\t\t\t>\r\n\t\t\t\t\tRock on\r\n\t\t\t\t</Button>\r\n\t\t\t</div>\r\n\t\t\t<div className={clsx(\"zone controls-zone\")}>\r\n\t\t\t\t<ButtonGroup\r\n\t\t\t\t\tfullWidth\r\n\t\t\t\t\taria-label=\"full width outlined button group\"\r\n\t\t\t\t\tclassName={\"controls btn-group\"}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\tclassName={clsx(\r\n\t\t\t\t\t\t\t\"btn readable\",\r\n\t\t\t\t\t\t\tshowBubble ? \"hide\" : \"show\"\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\tdisabled={!showSage}\r\n\t\t\t\t\t\tonClick={(ev) => setShowBubble((prev) => !prev)}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{showBubble ? \"Hide bubble\" : \"Show bubble\"}\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\tclassName={clsx(\r\n\t\t\t\t\t\t\t\"btn readable\",\r\n\t\t\t\t\t\t\tshowMagicField ? \"hide\" : \"show\"\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\tdisabled={!showSage}\r\n\t\t\t\t\t\tonClick={(ev) => setShowMagicField((prev) => !prev)}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{showMagicField\r\n\t\t\t\t\t\t\t? \"Hide magic field\"\r\n\t\t\t\t\t\t\t: \"Show magic field\"}\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\tclassName={clsx(\r\n\t\t\t\t\t\t\t\"btn readable\",\r\n\t\t\t\t\t\t\tshowSage ? \"hide\" : \"show\"\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\tonClick={(ev) => setShowSage((prev) => !prev)}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{showSage ? \"Hide Sage\" : \"Show Sage\"}\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\tclassName={clsx(\r\n\t\t\t\t\t\t\t\"btn readable\",\r\n\t\t\t\t\t\t\tshowSpeechBubble ? \"hide\" : \"show\"\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\tonClick={(ev) => setShowSpeechBubble((prev) => !prev)}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{showSpeechBubble\r\n\t\t\t\t\t\t\t? \"Hide speech bubble\"\r\n\t\t\t\t\t\t\t: \"Show speech bubble\"}\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</ButtonGroup>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nSageAdvice.propTypes = {\r\n\tnext: PropTypes.func,\r\n\tuser: PropTypes.object,\r\n};\r\n\r\nexport default SageAdvice;\r\n\r\n/*\r\n\t\t<AnimatedSpeechBubble\r\n\t\t\t\t\t\tref={ref => {\r\n\t\t\t\t\t\t\tif (ref) {\r\n\t\t\t\t\t\t\t\tspeechBubbleRef.current = ref;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tclassName={clsx(\"speech-bubble\")}\r\n\t\t\t\t\t\tpose={showSpeechBubble ? \"enter\" : \"exit\"}\r\n\t\t\t\t\t\tinitialPose={\"exit\"}\r\n\t\t\t\t\t\tonPressEnd={ev => setShowSpeechBubble(false)}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<p className={clsx(\"p\")}>\r\n\t\t\t\t\t\t\tMistakes are{\" \"}\r\n\t\t\t\t\t\t\t<span className={\"bold\"}>inevitable</span>.\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<p className={clsx(\"p\")}>\r\n\t\t\t\t\t\t\tTaking your chances is{\" \"}\r\n\t\t\t\t\t\t\t<span className={\"bold\"}>necessary</span>.\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</AnimatedSpeechBubble>\r\n*/\r\n","const animals = {\r\n\tcat: {\r\n\t\tlabel: \"cat\",\r\n\t\timgURL:\r\n\t\t\t\"https://images.unsplash.com/photo-1478098711619-5ab0b478d6e6?ixlib=rb-1.2.1&q=80&fm=jpg&crop=entropy&cs=tinysrgb&w=400&fit=max&ixid=eyJhcHBfaWQiOjMxMjYzfQ\",\r\n\t\tsmall:\r\n\t\t\t\"https://images.unsplash.com/photo-1478098711619-5ab0b478d6e6?ixlib=rb-1.2.1&q=80&fm=jpg&crop=entropy&cs=tinysrgb&w=400&fit=max&ixid=eyJhcHBfaWQiOjMxMjYzfQ\",\r\n\t\tregular:\r\n\t\t\t\"https://images.unsplash.com/photo-1478098711619-5ab0b478d6e6?ixlib=rb-1.2.1&q=80&fm=jpg&crop=entropy&cs=tinysrgb&w=1080&fit=max&ixid=eyJhcHBfaWQiOjMxMjYzfQ\",\r\n\t\tpet: \"true\",\r\n\t\ti: undefined,\r\n\t},\r\n\r\n\ttiger: {\r\n\t\tlabel: \"tiger\",\r\n\t\timgURL:\r\n\t\t\t\"https://images.unsplash.com/photo-1494979362559-7f9efdc9b88c?ixlib=rb-0.3.5&q=80&fm=jpg&crop=entropy&cs=tinysrgb&w=400&fit=max&ixid=eyJhcHBfaWQiOjMxMjYzfQ&s=37286ce51aa2912f83a8c083c486dc8c\",\r\n\t},\r\n\tlion: {\r\n\t\tlabel: \"lion\",\r\n\t\timgURL:\r\n\t\t\t\"https://images.unsplash.com/photo-1519930758798-b0ff6ae437fb?ixlib=rb-0.3.5&q=80&fm=jpg&crop=entropy&cs=tinysrgb&w=400&fit=max&ixid=eyJhcHBfaWQiOjMxMjYzfQ&s=1a3bb397106b0c034b786ea779d663ad\",\r\n\t},\r\n\tdog: {\r\n\t\tlabel: \"dog\",\r\n\t\tpet: \"true\",\r\n\t\timgURL:\r\n\t\t\t\"https://images.unsplash.com/photo-1536812948701-c0f42efab024?ixlib=rb-1.2.1&q=80&fm=jpg&crop=entropy&cs=tinysrgb&w=400&fit=max&ixid=eyJhcHBfaWQiOjMxMjYzfQ\",\r\n\t\tsmall:\r\n\t\t\t\"https://images.unsplash.com/photo-1536812948701-c0f42efab024?ixlib=rb-1.2.1&q=80&fm=jpg&crop=entropy&cs=tinysrgb&w=400&fit=max&ixid=eyJhcHBfaWQiOjMxMjYzfQ\",\r\n\t\tregular:\r\n\t\t\t\"https://images.unsplash.com/photo-1536812948701-c0f42efab024?ixlib=rb-1.2.1&q=80&fm=jpg&crop=entropy&cs=tinysrgb&w=1080&fit=max&ixid=eyJhcHBfaWQiOjMxMjYzfQ\",\r\n\t},\r\n\tfox: {\r\n\t\tlabel: \"fox\",\r\n\t\timgURL:\r\n\t\t\t\"https://images.unsplash.com/photo-1501707305551-9b2adda5e527?ixlib=rb-0.3.5&q=80&fm=jpg&crop=entropy&cs=tinysrgb&w=400&fit=max&ixid=eyJhcHBfaWQiOjMxMjYzfQ&s=c3d26fe25b92da3a6e61b5b85e4d36c4\",\r\n\t},\r\n\twolf: {\r\n\t\tlabel: \"wolf\",\r\n\t\timgURL:\r\n\t\t\t\"https://images.unsplash.com/photo-1510853675132-58241c941e4f?ixlib=rb-0.3.5&q=80&fm=jpg&crop=entropy&cs=tinysrgb&w=400&fit=max&ixid=eyJhcHBfaWQiOjMxMjYzfQ&s=d2d233dc185cdb03f221a74533393ab6\",\r\n\t},\r\n\tmonkey: {\r\n\t\tlabel: \"monkey\",\r\n\t\timgURL:\r\n\t\t\t\"https://images.unsplash.com/photo-1519309755164-6d2b3dc95ead?ixlib=rb-0.3.5&q=80&fm=jpg&crop=entropy&cs=tinysrgb&w=400&fit=max&ixid=eyJhcHBfaWQiOjMxMjYzfQ&s=38b91d97e272d17efcfb8aec09a753b2\",\r\n\t},\r\n\tgorilla: {\r\n\t\tlabel: \"gorilla\",\r\n\t\timgURL:\r\n\t\t\t\"https://images.unsplash.com/photo-1515513284006-9a59075694b7?ixlib=rb-0.3.5&q=80&fm=jpg&crop=entropy&cs=tinysrgb&w=400&fit=max&ixid=eyJhcHBfaWQiOjMxMjYzfQ&s=b636fb4de4c80a441b1fb80cb067817f\",\r\n\t},\r\n\telephant: {\r\n\t\tlabel: \"elephant\",\r\n\t\timgURL:\r\n\t\t\t\"https://images.unsplash.com/photo-1532301371038-85df63be6e13?ixlib=rb-0.3.5&q=80&fm=jpg&crop=entropy&cs=tinysrgb&w=400&fit=max&ixid=eyJhcHBfaWQiOjMxMjYzfQ&s=d7d8648e302571b800a5c111a5fef746\",\r\n\t},\r\n\tgiraffe: {\r\n\t\tlabel: \"giraffe\",\r\n\t\timgURL:\r\n\t\t\t\"https://images.unsplash.com/photo-1535082186814-5c60484a6fd4?ixlib=rb-0.3.5&q=80&fm=jpg&crop=entropy&cs=tinysrgb&w=400&fit=max&ixid=eyJhcHBfaWQiOjMxMjYzfQ&s=772e9280b21b402e562c651707fd97bb\",\r\n\t},\r\n\tkangaroo: {\r\n\t\tlabel: \"kangaroo\",\r\n\t\timgURL:\r\n\t\t\t\"https://images.unsplash.com/photo-1521713164357-b4e9873b7e1d?ixlib=rb-0.3.5&q=80&fm=jpg&crop=entropy&cs=tinysrgb&w=400&fit=max&ixid=eyJhcHBfaWQiOjMxMjYzfQ&s=54f3f59c08f8f9048290417a0b40bc3e\",\r\n\t},\r\n\tzebra: {\r\n\t\tlabel: \"zebra\",\r\n\t\timgURL:\r\n\t\t\t\"https://images.unsplash.com/photo-1535076404789-9c49ee899990?ixlib=rb-0.3.5&q=80&fm=jpg&crop=entropy&cs=tinysrgb&w=400&fit=max&ixid=eyJhcHBfaWQiOjMxMjYzfQ&s=17dff7c59abe70af1298cccc6e6269c7\",\r\n\t},\r\n\tbear: {\r\n\t\tlabel: \"bear\",\r\n\t\timgURL:\r\n\t\t\t\"https://images.unsplash.com/photo-1530595467537-0b5996c41f2d?ixlib=rb-0.3.5&q=80&fm=jpg&crop=entropy&cs=tinysrgb&w=400&fit=max&ixid=eyJhcHBfaWQiOjMxMjYzfQ&s=64c18d8f9ec89d74ce89e55216f87c6f\",\r\n\t},\r\n\tcow: {\r\n\t\tlabel: \"cow\",\r\n\t\timgURL:\r\n\t\t\t\"https://images.unsplash.com/photo-1534301682011-4ce2a7074a8b?ixlib=rb-0.3.5&q=80&fm=jpg&crop=entropy&cs=tinysrgb&w=400&fit=max&ixid=eyJhcHBfaWQiOjMxMjYzfQ&s=f6f0e80f64e9fd1324e3cdcb3746b125\",\r\n\t},\r\n\tbull: {\r\n\t\tlabel: \"bull\",\r\n\t\timgURL:\r\n\t\t\t\"https://images.unsplash.com/photo-1516036255157-d9217d64af8c?ixlib=rb-0.3.5&q=80&fm=jpg&crop=entropy&cs=tinysrgb&w=400&fit=max&ixid=eyJhcHBfaWQiOjMxMjYzfQ&s=51654a1b5bb0e9cafa86af65f44e574e\",\r\n\t},\r\n\tsheep: {\r\n\t\tlabel: \"sheep\",\r\n\t\timgURL:\r\n\t\t\t\"https://images.unsplash.com/photo-1530407150178-2602a082ee1f?ixlib=rb-0.3.5&q=80&fm=jpg&crop=entropy&cs=tinysrgb&w=400&fit=max&ixid=eyJhcHBfaWQiOjMxMjYzfQ&s=a3a9963b4e34eb47e66f030110266fa9\",\r\n\t},\r\n\tgoat: {\r\n\t\tlabel: \"goat\",\r\n\t\timgURL:\r\n\t\t\t\"https://images.unsplash.com/photo-1446082488256-bfc5e2b5f95c?ixlib=rb-0.3.5&q=80&fm=jpg&crop=entropy&cs=tinysrgb&w=400&fit=max&ixid=eyJhcHBfaWQiOjMxMjYzfQ&s=b052478d0dad7fbe2f78ec5f132342ad\",\r\n\t},\r\n\tpig: {\r\n\t\tlabel: \"pig\",\r\n\t\timgURL:\r\n\t\t\t\"https://images.unsplash.com/photo-1516467508483-a7212febe31a?ixlib=rb-0.3.5&q=80&fm=jpg&crop=entropy&cs=tinysrgb&w=400&fit=max&ixid=eyJhcHBfaWQiOjMxMjYzfQ&s=2d54b3b9696fce98921da05b0a34ee29\",\r\n\t},\r\n\tcamel: {\r\n\t\tlabel: \"camel\",\r\n\t\timgURL:\r\n\t\t\t\"https://images.unsplash.com/photo-1539166897395-6f8ca365f838?ixlib=rb-0.3.5&q=80&fm=jpg&crop=entropy&cs=tinysrgb&w=400&fit=max&ixid=eyJhcHBfaWQiOjMxMjYzfQ&s=64933d7ff4f5d9472bf49fe07000e6a9\",\r\n\t},\r\n\tdeer: {\r\n\t\tlabel: \"deer\",\r\n\t\timgURL:\r\n\t\t\t\"https://images.unsplash.com/photo-1504455883034-79a2b2931434?ixlib=rb-0.3.5&q=80&fm=jpg&crop=entropy&cs=tinysrgb&w=400&fit=max&ixid=eyJhcHBfaWQiOjMxMjYzfQ&s=70f93f9dff850e1db210b134e6a84e96\",\r\n\t},\r\n\thorse: {\r\n\t\tlabel: \"horse\",\r\n\t\timgURL:\r\n\t\t\t\"https://images.unsplash.com/photo-1543221852-0eb6ba76941f?ixlib=rb-0.3.5&q=80&fm=jpg&crop=entropy&cs=tinysrgb&w=400&fit=max&ixid=eyJhcHBfaWQiOjMxMjYzfQ&s=55738f0569356c3ca1ca731363cd96f3\",\r\n\t},\r\n\tdonkey: {\r\n\t\tlabel: \"donkey\",\r\n\t\timgURL:\r\n\t\t\t\"https://images.unsplash.com/photo-1534691680161-2cb6a2f0a731?ixlib=rb-0.3.5&q=80&fm=jpg&crop=entropy&cs=tinysrgb&w=400&fit=max&ixid=eyJhcHBfaWQiOjMxMjYzfQ&s=e444b9f7e35f011e5e2258fd89df642e\",\r\n\t},\r\n\tchicken: {\r\n\t\tlabel: \"chicken\",\r\n\t\timgURL:\r\n\t\t\t\"https://images.unsplash.com/photo-1495696386015-f371820f82a6?ixlib=rb-0.3.5&q=80&fm=jpg&crop=entropy&cs=tinysrgb&w=400&fit=max&ixid=eyJhcHBfaWQiOjMxMjYzfQ&s=dbb52dcd31703e42afb1c30ef8a2118a\",\r\n\t},\r\n\tchick: {\r\n\t\tlabel: \"chick\",\r\n\t\timgURL:\r\n\t\t\t\"https://images.unsplash.com/photo-1523761467347-327dfb5a16f6?ixlib=rb-0.3.5&q=80&fm=jpg&crop=entropy&cs=tinysrgb&w=400&fit=max&ixid=eyJhcHBfaWQiOjMxMjYzfQ&s=28d21a33e975f4c164ada90ede84803c\",\r\n\t},\r\n\tbird: {\r\n\t\tlabel: \"bird\",\r\n\t\timgURL:\r\n\t\t\t\"https://images.unsplash.com/photo-1534421908380-b5a1c15a0ef2?ixlib=rb-0.3.5&q=80&fm=jpg&crop=entropy&cs=tinysrgb&w=400&fit=max&ixid=eyJhcHBfaWQiOjMxMjYzfQ&s=fc0306b06a5a64655b2e051a2320f54b\",\r\n\t},\r\n\tpigeon: {\r\n\t\tlabel: \"pigeon\",\r\n\t\timgURL:\r\n\t\t\t\"https://images.unsplash.com/photo-1522508412184-62d7e76defb4?ixlib=rb-0.3.5&q=80&fm=jpg&crop=entropy&cs=tinysrgb&w=400&fit=max&ixid=eyJhcHBfaWQiOjMxMjYzfQ&s=26a4c3f50ef1ec5a25a4f673725d5779\",\r\n\t},\r\n\tparrot: {\r\n\t\tlabel: \"parrot\",\r\n\t\timgURL:\r\n\t\t\t\"https://images.unsplash.com/photo-1505866913883-dd4d9729cc87?ixlib=rb-0.3.5&q=80&fm=jpg&crop=entropy&cs=tinysrgb&w=400&fit=max&ixid=eyJhcHBfaWQiOjMxMjYzfQ&s=c7141434aac16aa2757b7f42d49ceb70\",\r\n\t},\r\n\tvulture: {\r\n\t\tlabel: \"vulture\",\r\n\t\timgURL:\r\n\t\t\t\"https://images.unsplash.com/photo-1453743327117-664e2bf4e951?ixlib=rb-0.3.5&q=80&fm=jpg&crop=entropy&cs=tinysrgb&w=400&fit=max&ixid=eyJhcHBfaWQiOjMxMjYzfQ&s=0f1f5df9ce2456665ec187fb676c6ba1\",\r\n\t},\r\n\teagle: {\r\n\t\tlabel: \"eagle\",\r\n\t\timgURL:\r\n\t\t\t\"https://images.unsplash.com/photo-1514934709707-a551adcf8f48?ixlib=rb-0.3.5&q=80&fm=jpg&crop=entropy&cs=tinysrgb&w=400&fit=max&ixid=eyJhcHBfaWQiOjMxMjYzfQ&s=5a6e8cfa1c03a17c08d64e3e422373a7\",\r\n\t},\r\n\r\n\tduck: {\r\n\t\tlabel: \"duck\",\r\n\t\timgURL:\r\n\t\t\t\"https://images.unsplash.com/photo-1507929486504-7cc924ef7461?ixlib=rb-0.3.5&q=80&fm=jpg&crop=entropy&cs=tinysrgb&w=400&fit=max&ixid=eyJhcHBfaWQiOjMxMjYzfQ&s=7a6f9a3737c4674569266b1d4ec0078a\",\r\n\t},\r\n\tgoose: {\r\n\t\tlabel: \"goose\",\r\n\t\timgURL:\r\n\t\t\t\"https://images.unsplash.com/photo-1539009220664-55e59f327331?ixlib=rb-0.3.5&q=80&fm=jpg&crop=entropy&cs=tinysrgb&w=400&fit=max&ixid=eyJhcHBfaWQiOjMxMjYzfQ&s=84eeeb243d5573a26b465e4b8e24d31d\",\r\n\t},\r\n\tswan: {\r\n\t\tlabel: \"swan\",\r\n\t\timgURL:\r\n\t\t\t\"https://images.unsplash.com/photo-1496147956370-9486a6fc2208?ixlib=rb-0.3.5&q=80&fm=jpg&crop=entropy&cs=tinysrgb&w=400&fit=max&ixid=eyJhcHBfaWQiOjMxMjYzfQ&s=08b426110274c28815f2cb59896a805f\",\r\n\t},\r\n\r\n\tstork: {\r\n\t\tlabel: \"stork\",\r\n\t\timgURL:\r\n\t\t\t\"https://images.unsplash.com/photo-1531209681261-8599e8fbe7d0?ixlib=rb-0.3.5&q=80&fm=jpg&crop=entropy&cs=tinysrgb&w=400&fit=max&ixid=eyJhcHBfaWQiOjMxMjYzfQ&s=a596a245641930391588833c3edeaf72\",\r\n\t},\r\n\r\n\tflamingo: {\r\n\t\tlabel: \"flamingo\",\r\n\t\timgURL:\r\n\t\t\t\"https://images.unsplash.com/photo-1513842030755-b1e9c0070515?ixlib=rb-0.3.5&q=80&fm=jpg&crop=entropy&cs=tinysrgb&w=400&fit=max&ixid=eyJhcHBfaWQiOjMxMjYzfQ&s=aa666b220fc2bdf28ba554934f610f40\",\r\n\t},\r\n\tpenguin: {\r\n\t\tlabel: \"penguin\",\r\n\t\timgURL:\r\n\t\t\t\"https://images.unsplash.com/photo-1474917399228-e8ed648915c2?ixlib=rb-0.3.5&q=80&fm=jpg&crop=entropy&cs=tinysrgb&w=400&fit=max&ixid=eyJhcHBfaWQiOjMxMjYzfQ&s=c5304ff683715f63095e084b7d7b7561\",\r\n\t},\r\n\tfish: {\r\n\t\tlabel: \"fish\",\r\n\t\timgURL:\r\n\t\t\t\"https://images.unsplash.com/photo-1523990016249-31c39d461024?ixlib=rb-0.3.5&q=80&fm=jpg&crop=entropy&cs=tinysrgb&w=400&fit=max&ixid=eyJhcHBfaWQiOjMxMjYzfQ&s=84d9deab68f56bb9e430a7ac01d07b48\",\r\n\t\tpet: \"true\",\r\n\t},\r\n\tdolphin: {\r\n\t\tlabel: \"dolphin\",\r\n\t\timgURL:\r\n\t\t\t\"https://images.unsplash.com/photo-1513545405020-acc24d818ffc?ixlib=rb-0.3.5&q=80&fm=jpg&crop=entropy&cs=tinysrgb&w=400&fit=max&ixid=eyJhcHBfaWQiOjMxMjYzfQ&s=d62bcbd6365783c3c884717fd14365ea\",\r\n\t},\r\n\twhale: {\r\n\t\tlabel: \"whale\",\r\n\t\timgURL:\r\n\t\t\t\"https://images.unsplash.com/photo-1503617798069-7c12038406d0?ixlib=rb-0.3.5&q=80&fm=jpg&crop=entropy&cs=tinysrgb&w=400&fit=max&ixid=eyJhcHBfaWQiOjMxMjYzfQ&s=aff25b04a95ea7e09a5d9c9b17bbc995\",\r\n\t},\r\n\talligator: {\r\n\t\tlabel: \"alligator\",\r\n\t\timgURL:\r\n\t\t\t\"https://images.unsplash.com/photo-1477764085876-1df3917e052f?ixlib=rb-0.3.5&q=80&fm=jpg&crop=entropy&cs=tinysrgb&w=400&fit=max&ixid=eyJhcHBfaWQiOjMxMjYzfQ&s=8234ec0d4587af2c70db54795b2b17f8\",\r\n\t},\r\n\tlizard: {\r\n\t\tlabel: \"lizard\",\r\n\t\timgURL:\r\n\t\t\t\"https://images.unsplash.com/photo-1502874964116-ba3c7e2c4f6f?ixlib=rb-0.3.5&q=80&fm=jpg&crop=entropy&cs=tinysrgb&w=400&fit=max&ixid=eyJhcHBfaWQiOjMxMjYzfQ&s=a4bde2cc7302b94aa1046133fa6cc9d8\",\r\n\t},\r\n\tchameleon: {\r\n\t\tlabel: \"chameleon\",\r\n\t\timgURL:\r\n\t\t\t\"https://images.unsplash.com/photo-1456489546743-d58605863e05?ixlib=rb-0.3.5&q=80&fm=jpg&crop=entropy&cs=tinysrgb&w=400&fit=max&ixid=eyJhcHBfaWQiOjMxMjYzfQ&s=957aab443725044a64eb255a8259e82e\",\r\n\t},\r\n\tcrab: {\r\n\t\tlabel: \"crab\",\r\n\t\timgURL:\r\n\t\t\t\"https://images.unsplash.com/photo-1484715340216-6e77040b1852?ixlib=rb-0.3.5&q=80&fm=jpg&crop=entropy&cs=tinysrgb&w=400&fit=max&ixid=eyJhcHBfaWQiOjMxMjYzfQ&s=96d069422c02927f0f0648f01f25fdc6\",\r\n\t},\r\n\tsnake: {\r\n\t\tlabel: \"snake\",\r\n\t\timgURL:\r\n\t\t\t\"https://images.unsplash.com/photo-1535313072129-1d68ee8d6a24?ixlib=rb-0.3.5&q=80&fm=jpg&crop=entropy&cs=tinysrgb&w=400&fit=max&ixid=eyJhcHBfaWQiOjMxMjYzfQ&s=14ff9d777f01bfc380be9b3b01a7a3cc\",\r\n\t},\r\n\r\n\thedgehog: {\r\n\t\tlabel: \"hedgehog\",\r\n\t\timgURL:\r\n\t\t\t\"https://images.unsplash.com/photo-1541949432307-5b17dd371cf4?ixlib=rb-0.3.5&q=80&fm=jpg&crop=entropy&cs=tinysrgb&w=400&fit=max&ixid=eyJhcHBfaWQiOjMxMjYzfQ&s=4d2ff17bd0072f33665f210d234001a9\",\r\n\t},\r\n\tturtle: {\r\n\t\tlabel: \"turtle\",\r\n\t\timgURL:\r\n\t\t\t\"https://images.unsplash.com/photo-1523214463772-54cd4251e790?ixlib=rb-0.3.5&q=80&fm=jpg&crop=entropy&cs=tinysrgb&w=400&fit=max&ixid=eyJhcHBfaWQiOjMxMjYzfQ&s=cb4311f7e51269def1b7fa78dbaefe0a\",\r\n\t},\r\n\trabbit: {\r\n\t\tlabel: \"rabbit\",\r\n\t\timgURL:\r\n\t\t\t\"https://images.unsplash.com/photo-1509085443839-d64c1b6eb61b?ixlib=rb-0.3.5&q=80&fm=jpg&crop=entropy&cs=tinysrgb&w=400&fit=max&ixid=eyJhcHBfaWQiOjMxMjYzfQ&s=3a0c760f829bb2b059cfecee437251d4\",\r\n\t\tpet: \"true\",\r\n\t},\r\n\tsquirrel: {\r\n\t\tlabel: \"squirrel\",\r\n\t\timgURL:\r\n\t\t\t\"https://images.unsplash.com/photo-1514058494598-5f9056802a16?ixlib=rb-0.3.5&q=80&fm=jpg&crop=entropy&cs=tinysrgb&w=400&fit=max&ixid=eyJhcHBfaWQiOjMxMjYzfQ&s=989ce4cf49342a9badd43f75e73c01e0\",\r\n\t},\r\n\tmouse: {\r\n\t\tlabel: \"mouse\",\r\n\t\timgURL:\r\n\t\t\t\"https://images.unsplash.com/photo-1516247897763-0f4ad94c2668?ixlib=rb-0.3.5&q=80&fm=jpg&crop=entropy&cs=tinysrgb&w=400&fit=max&ixid=eyJhcHBfaWQiOjMxMjYzfQ&s=4d362b5cba567ee08f557c7dca4f5169\",\r\n\t},\r\n\tbat: {\r\n\t\tlabel: \"bat\",\r\n\t\timgURL:\r\n\t\t\t\"https://images.unsplash.com/photo-1538630834610-87751cd747f4?ixlib=rb-0.3.5&q=80&fm=jpg&crop=entropy&cs=tinysrgb&w=400&fit=max&ixid=eyJhcHBfaWQiOjMxMjYzfQ&s=264b462b1867dc34e6cc25d003a256b4\",\r\n\t},\r\n\towl: {\r\n\t\tlabel: \"owl\",\r\n\t\timgURL:\r\n\t\t\t\"https://images.unsplash.com/photo-1530436958107-bf4ce16ad954?ixlib=rb-0.3.5&q=80&fm=jpg&crop=entropy&cs=tinysrgb&w=400&fit=max&ixid=eyJhcHBfaWQiOjMxMjYzfQ&s=9cc3e0ffd1602a23ad36b21629c43969\",\r\n\t},\r\n\r\n\tbee: {\r\n\t\tlabel: \"bee\",\r\n\t\timgURL:\r\n\t\t\t\"https://images.unsplash.com/photo-1534512547189-5944d6fd30e8?ixlib=rb-0.3.5&q=80&fm=jpg&crop=entropy&cs=tinysrgb&w=400&fit=max&ixid=eyJhcHBfaWQiOjMxMjYzfQ&s=97f7e442544ce0f2bcebc182659a24fd\",\r\n\t},\r\n\tfly: {\r\n\t\tlabel: \"fly\",\r\n\t\timgURL:\r\n\t\t\t\"https://images.unsplash.com/photo-1516793985388-6155f13d54ee?ixlib=rb-0.3.5&q=80&fm=jpg&crop=entropy&cs=tinysrgb&w=400&fit=max&ixid=eyJhcHBfaWQiOjMxMjYzfQ&s=75d0257c3a8dac182661986234a36bbd\",\r\n\t},\r\n\r\n\tant: {\r\n\t\tlabel: \"ant\",\r\n\t\timgURL:\r\n\t\t\t\"https://images.unsplash.com/photo-1425065106899-11d69663395a?ixlib=rb-0.3.5&q=80&fm=jpg&crop=entropy&cs=tinysrgb&w=400&fit=max&ixid=eyJhcHBfaWQiOjMxMjYzfQ&s=eec5e6d51a8b09d3d34c343af7e91a8a\",\r\n\t},\r\n\tbeetle: {\r\n\t\tlabel: \"beetle\",\r\n\t\timgURL:\r\n\t\t\t\"https://images.unsplash.com/photo-1540171213245-8653297cbda1?ixlib=rb-0.3.5&q=80&fm=jpg&crop=entropy&cs=tinysrgb&w=400&fit=max&ixid=eyJhcHBfaWQiOjMxMjYzfQ&s=cfc706a731d450a176b8d118dd7565c3\",\r\n\t},\r\n\tladybug: {\r\n\t\tlabel: \"ladybug\",\r\n\t\timgURL:\r\n\t\t\t\"https://images.unsplash.com/photo-1470317596697-cbdeda56f999?ixlib=rb-0.3.5&q=80&fm=jpg&crop=entropy&cs=tinysrgb&w=400&fit=max&ixid=eyJhcHBfaWQiOjMxMjYzfQ&s=3eda57811e7baab9399a37583bd6dec5\",\r\n\t},\r\n\tgrasshopper: {\r\n\t\tlabel: \"grasshopper\",\r\n\t\timgURL:\r\n\t\t\t\"https://images.unsplash.com/photo-1509967733342-437077d8e41a?ixlib=rb-0.3.5&q=80&fm=jpg&crop=entropy&cs=tinysrgb&w=400&fit=max&ixid=eyJhcHBfaWQiOjMxMjYzfQ&s=df8b2434111a0222df1c9d52d3ba6b5b\",\r\n\t},\r\n\tspider: {\r\n\t\tlabel: \"spider\",\r\n\t\timgURL:\r\n\t\t\t\"https://images.unsplash.com/photo-1521123946922-eb346044f2ec?ixlib=rb-0.3.5&q=80&fm=jpg&crop=entropy&cs=tinysrgb&w=400&fit=max&ixid=eyJhcHBfaWQiOjMxMjYzfQ&s=27436bd5b68a71f986db7e10874ca708\",\r\n\t},\r\n};\r\n\r\nexport default animals;\r\n","import ANIMALS from \"../items/animals.js\";\r\n\r\nconst createItem = ({ originalForm = {}, animalName = \"horse\" }) => {\r\n\treturn {\r\n\t\t...originalForm,\r\n\t\tname: animalName\r\n\t};\r\n};\r\n\r\nconst createItems = (maxItems = 80, logg) => {\r\n\tconst items = [];\r\n\tlet i = 0;\r\n\r\n\tfor (let animalName in ANIMALS) {\r\n\t\tif (ANIMALS.hasOwnProperty(animalName)) {\r\n\t\t\tconst originalForm = ANIMALS[animalName];\r\n\t\t\tconst item = createItem({ originalForm, animalName });\r\n\t\t\titems.push(item);\r\n\t\t\ti++;\r\n\t\t}\r\n\t\tif (i >= maxItems) break;\r\n\t}\r\n\tif (items.length < maxItems) {\r\n\t\tlogg &&\r\n\t\t\tlogg(\"Animals\")(\r\n\t\t\t\t`You asked for ${maxItems} items, however there were only ${items.length} available.`\r\n\t\t\t);\r\n\t}\r\n\r\n\treturn items;\r\n};\r\n\r\nconst items = createItems(80);\r\n\r\nconst addItem = (item = {}) => {\r\n\tif (!item) {\r\n\t\tconsole.warn(\"animals-items: addItem() : No item provided!\");\r\n\t\treturn null;\r\n\t}\r\n\titems.push(item);\r\n\treturn true;\r\n};\r\n\r\nconst animals = { items, addItem };\r\nexport default animals;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport posed, { PoseGroup } from \"react-pose\"; //yay!:)\r\nimport SplitText from \"react-pose-text\"; //text animation\r\nimport { tween } from \"popmotion\";\r\nimport pose from \"popmotion-pose\";\r\nimport { interpolate } from \"flubber\";\r\nimport DURATIONS from \"../constants/durations.js\";\r\nimport POSES from \"../constants/poses.js\";\r\nimport THEME from \"../constants/theme.js\";\r\nimport MEDIA_QUERIES from \"../constants/mediaQueries.js\";\r\nimport BACKGROUND_CLASSES from \"../constants/backgroundClasses.js\";\r\n\r\nimport { SynthVoice, fallback } from \"../lib/SynthVoice\";\r\nimport SpeechRecognizer from \"../lib/SpeechRecognizer\";\r\nimport {\r\n    shimme,\r\n    PromiseKeeper,\r\n    navigateTo,\r\n    loadImage,\r\n    getRandomColor,\r\n    getRandomUpTo,\r\n    capitalizeFirstLetter,\r\n    capitalizeTitle,\r\n    getUniqueString,\r\n    forAll,\r\n    handlePress,\r\n    removePressHandlers,\r\n    getFormattedTime,\r\n    alignElements,\r\n    request,\r\n    is,\r\n    isNot,\r\n    our,\r\n    climbFrom,\r\n    scrollTo,\r\n    emptyFunc,\r\n    localStorage,\r\n    shuffle,\r\n    pickRandomFrom,\r\n    setDomProperty,\r\n    // getDomProperty,\r\n    copyToClipboard,\r\n} from \"../lib/issy\";\r\nimport Logger from \"../lib/logg.js\";\r\nimport animals from \"../items/animals-items.js\";\r\n\r\nconst { logg, loggError } = new Logger({ label: \"AppContext\" });\r\n\r\n//polyfill\r\nshimme(\"requestAnimationFrame\");\r\n\r\n/*Important: do NOT include media-query hooks inside Context, as screen resizing and orientation change may cause undesired re-rendering in the middle of user interaction! \r\nPass only data that, if changes, does demand re-render.\r\nAlso, you can pass utility functions and other static data.\r\n*/\r\n\r\nconst DEBUGGING = process.env.NODE_ENV === \"development\";\r\n// const DEBUGGING = false;\r\n\r\nlet synthVoice;\r\ntry {\r\n    synthVoice = new SynthVoice({\r\n        lang: \"en\",\r\n        accent: \"us\",\r\n        gender: \"female\",\r\n        custom: [\r\n            {\r\n                name: \"zira\",\r\n                rate: 0.55,\r\n                pitch: 1.2,\r\n            },\r\n            { name: \"google us\", rate: 0.7, pitch: 1.1 },\r\n        ],\r\n\r\n        //volume: 1,\r\n        timeout: 4500,\r\n        DEBUGGING,\r\n        autoResolveWhenDebugging: false,\r\n    });\r\n} catch (err) {\r\n    synthVoice = fallback;\r\n    loggError(\"SynthVoice error: \", err);\r\n}\r\n\r\nconst UTILS = {\r\n    is,\r\n    isNot,\r\n    our,\r\n    PromiseKeeper,\r\n    DURATIONS,\r\n    POSES,\r\n    MEDIA_QUERIES,\r\n    THEME,\r\n    BACKGROUND_CLASSES,\r\n    navigateTo,\r\n    loadImage,\r\n    capitalizeFirstLetter,\r\n    capitalizeTitle,\r\n    getFormattedTime,\r\n    getRandomColor,\r\n    getRandomUpTo,\r\n    alignElements,\r\n    getUniqueString,\r\n    forAll,\r\n    handlePress,\r\n    removePressHandlers,\r\n    Logger,\r\n    synthVoice,\r\n    SpeechRecognizer,\r\n    posed,\r\n    pose,\r\n    PoseGroup,\r\n    SplitText,\r\n    tween,\r\n    interpolate,\r\n    animals,\r\n    request,\r\n    climbFrom,\r\n    scrollTo,\r\n    emptyFunc,\r\n    EMPTY_FUNC: emptyFunc,\r\n    DEBUGGING,\r\n    localStorage,\r\n    shuffle,\r\n    pickRandomFrom,\r\n    //getDomProperty,\r\n    setDomProperty,\r\n    copyToClipboard,\r\n};\r\n\r\n// const initialAppState = {\r\n//  user:\r\n// };\r\n\r\nconst DEFAULTS = {\r\n    getOptionsLabel(option) {\r\n        return option.title || option.name || option.v1;\r\n    },\r\n    onSearchOptionChange(option) {\r\n        logg(\"Searchable option selected: \", option);\r\n    },\r\n    groupBy: (option) => option.groupName,\r\n};\r\n\r\n// const initialUser = DEBUGGING ? { role: \"admin\" } : {};\r\nconst initialUser = null;\r\n\r\n//create a Context object.\r\n//Note: There's no need for inital value and setter for the context, as these will be set to the state and state setter in just a moment.\r\nconst AppContext = React.createContext({\r\n    user: {},\r\n    setUser: () => {},\r\n    setSearchables: (config = {}) => {\r\n        debugger;\r\n        return config;\r\n    },\r\n});\r\n\r\nconst label = \"AppContextProvider\";\r\nconst localStorageKey = \"weiss-english-client\";\r\n\r\nconst getUserFromLocalStorage = () => {\r\n    const user = localStorage.getObj(localStorageKey);\r\n    if (user) {\r\n        const { first_name, last_name, email } = user;\r\n        const userSansPassword = { first_name, last_name, email };\r\n        logg(\"User from LocalStorage: \", userSansPassword);\r\n    } else {\r\n        logg(\"No user saved in LocalStorage.\");\r\n    }\r\n    return user;\r\n};\r\n\r\nclass Searchables {\r\n    selected;\r\n    options;\r\n    getOptionsLabel;\r\n    onChange;\r\n    constructor(config = {}) {\r\n        const {\r\n            selected,\r\n            options,\r\n            getOptionsLabel,\r\n            onChange,\r\n            groupBy,\r\n        } = config;\r\n        this.selected = selected || null;\r\n        this.options = options || [];\r\n        this.getOptionsLabel = getOptionsLabel || DEFAULTS.getOptionsLabel;\r\n        this.onChange = onChange || DEFAULTS.onSearchOptionChange;\r\n        this.groupBy = groupBy || DEFAULTS.groupBy;\r\n    }\r\n}\r\n\r\n//Give the ContextProvider some state, so that we can provide *dynamic* context (i.e. context that can be set/mutated during runtime)\r\nconst AppContextProvider = (props) => {\r\n    const [appUtils] = useState(UTILS);\r\n    const { Logger } = appUtils;\r\n    const logg = new Logger({ label }).logg;\r\n\r\n    const [appState, setAppState] = useState({\r\n        user: initialUser,\r\n        setUser: (user) => {},\r\n        realtime: {},\r\n        localStorageKey,\r\n        isFirstVisit: true,\r\n        setSearchables: (searchables) => {},\r\n        searchables: new Searchables(),\r\n    });\r\n\r\n    const setUser = (user, remember) => {\r\n        //pass null to logout\r\n\r\n        if (user === null) {\r\n            localStorage.setObj(localStorageKey, null);\r\n            logg(\"User was deleted from localStorage\");\r\n        }\r\n        if (user && remember) {\r\n            localStorage.setObj(localStorageKey, user);\r\n            getUserFromLocalStorage(); // for logging purposes only\r\n        }\r\n        setAppState({ ...appState, user });\r\n    };\r\n    appState.setUser = setUser;\r\n\r\n    const setSearchables = (config = {}) => {\r\n        // const newState = { ...appState };\r\n        const searchables = new Searchables(config);\r\n\r\n        setAppState({ ...appState, searchables });\r\n    };\r\n    appState.setSearchables = setSearchables;\r\n\r\n    useEffect(() => {\r\n        //deferred props\r\n\r\n        if (appState.user) {\r\n            const { first_name, last_name, email, role } = appState.user;\r\n            appState.userSansPassword = { first_name, last_name, email };\r\n        } else {\r\n            appState.userSansPassword = null;\r\n        }\r\n\r\n        logg(\"appState updated: \", appState);\r\n    }, [appState]);\r\n\r\n    useEffect(() => {\r\n        const user = getUserFromLocalStorage();\r\n\r\n        appState.setUser(user);\r\n    }, []);\r\n\r\n    return (\r\n        <AppContext.Provider value={[appUtils, appState, setAppState]}>\r\n            {props.children}\r\n        </AppContext.Provider>\r\n    );\r\n};\r\n\r\nexport { AppContext, AppContextProvider };\r\n\r\n/* consume the state in a nested compoenent, like so:\r\n\r\nAt the top of the nested component file, import the context: \r\n\r\n    import { AppContext } from \"../contexts/AppContext\";\r\n\r\nThem, inside the function component:\r\n\r\n    const [state, setState] = useContext(AppContext);\r\n\r\n*/\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport posed, { PoseGroup } from \"react-pose\"; //yay!:)\r\nimport POSES from \"../../constants/poses.js\";\r\nimport clsx from \"clsx\";\r\nimport \"./_View.scss\";\r\n\r\nlet numRenders = 0;\r\n\r\nconst View = React.forwardRef((props, ref) => {\r\n\tnumRenders++;\r\n\tconst viewId = \"view\" + numRenders;\r\n\r\n\tconst {\r\n\t\tchildren,\r\n\t\tresponsive = false,\r\n\t\tanimate,\r\n\t\tanimateChildren = false,\r\n\t\tclassName = \"\",\r\n\t\ttransition = \"view\",\r\n\t\tflex = false,\r\n\t\tfullsize = true,\r\n\t\tid = \"\",\r\n\t\tpositionRelative = false,\r\n\t\tmargin = \"\",\r\n\t\tstyle = {},\r\n\t} = props;\r\n\r\n\tconst containerClasses = clsx(\r\n\t\tresponsive ? \"view--responsive\" : \"view\",\r\n\t\t!responsive && fullsize && \"fullsize\",\r\n\t\tanimate && \"transition-target\",\r\n\t\tanimateChildren && \"transition-container\",\r\n\t\tflex && \"flex\",\r\n\t\tclassName && className,\r\n\t\tpositionRelative && \"position--relative\",\r\n\t\tmargin && `margin--auto`\r\n\t);\r\n\r\n\tif (animate || animateChildren) {\r\n\t\tconst containerPoses = transition\r\n\t\t\t? POSES[transition]\r\n\t\t\t: responsive\r\n\t\t\t? POSES.view_main\r\n\t\t\t: POSES.view; //default transition animation\r\n\t\tconst PosedContainer = posed.div(containerPoses);\r\n\t\tconst PosedContainerWithProps = (\r\n\t\t\t<PosedContainer\r\n\t\t\t\tinitialPose=\"init\"\r\n\t\t\t\tref={ref}\r\n\t\t\t\t{...props}\r\n\t\t\t\tclassName={containerClasses}\r\n\t\t\t\tanimateOnMount={true}\r\n\t\t\t\tkey={viewId}\r\n\t\t\t>\r\n\t\t\t\t{children}\r\n\t\t\t</PosedContainer>\r\n\t\t);\r\n\r\n\t\tif (!animateChildren) {\r\n\t\t\treturn PosedContainerWithProps;\r\n\t\t}\r\n\t\treturn <PoseGroup>{PosedContainerWithProps}</PoseGroup>;\r\n\t}\r\n\r\n\t//no animation at all\r\n\treturn (\r\n\t\t<div ref={ref} id={id} className={containerClasses} style={style || {}}>\r\n\t\t\t{children}\r\n\t\t</div>\r\n\t);\r\n});\r\n\r\nView.propTypes = {\r\n\tchildren: PropTypes.any,\r\n\tanimateChildren: PropTypes.bool,\r\n\tfullsize: PropTypes.bool,\r\n\tflex: PropTypes.bool,\r\n\tclassName: PropTypes.string,\r\n\ttransition: PropTypes.string,\r\n};\r\n\r\nexport default View;\r\n","//NOTE: it's important to put the regular verbs first, and only then the irregulars. Reasons: The table logic assumes and relies on this structures\r\n\r\n//The verbs are grouped according to their past simple and past participle forms\r\n\r\nconst VERB_GROUP_NAMES = [\r\n\t\"Default\",\r\n\t\"C.V.C.\",\r\n\t\"C.V. + w/x/y\",\r\n\t\"e\",\r\n\t\"C. + y\",\r\n\t\"V. + y\",\r\n\t\"Non-changing\",\r\n\t\"Important\",\r\n\t\"Tell & Sell\",\r\n\t\"Stand & understand\",\r\n\t\"half\",\r\n\t\"half + t\",\r\n\t\"d -> t\",\r\n\t\"Say / Pay\",\r\n\t\"ind -> ound\",\r\n\t\"i -> u\",\r\n\t\"it => at\",\r\n\t\"ean/eam + t\",\r\n\t\"V1 Comeback\",\r\n\t\"old -> eld\",\r\n\t\"ought /aught\",\r\n\t\"en\",\r\n\t\"i -> a > u\",\r\n\t\"ow -> own\",\r\n\t\"ite -> dobule + en\",\r\n\t\"ow/ew -> own/ewn\",\r\n\t\"ear -> orn\",\r\n\t\"lie / lay\"\r\n];\r\nconst VERBS = {\r\n\tED: {\r\n\t\tregular: true,\r\n\t\tformula: \"V + ed\",\r\n\t\tsuffix: \"ed\",\r\n\t\tverbs: [\r\n\t\t\t{\r\n\t\t\t\tv1: \"talk\",\r\n\t\t\t\tvSnob: \"talks\",\r\n\t\t\t\tvIng: \"talking\",\r\n\t\t\t\tv2: \"talked\",\r\n\t\t\t\tv3: \"talked\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tv1: \"walk\",\r\n\t\t\t\tvSnob: \"walks\",\r\n\t\t\t\tvIng: \"walking\",\r\n\t\t\t\tv2: \"walked\",\r\n\t\t\t\tv3: \"walked\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tv1: \"look\",\r\n\t\t\t\tvSnob: \"looks\",\r\n\t\t\t\tvIng: \"looking\",\r\n\t\t\t\tv2: \"looked\",\r\n\t\t\t\tv3: \"looked\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tv1: \"ask\",\r\n\t\t\t\tvSnob: \"asks\",\r\n\t\t\t\tvIng: \"asking\",\r\n\t\t\t\tv2: \"asked\",\r\n\t\t\t\tv3: \"asked\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tv1: \"answer\",\r\n\t\t\t\tvSnob: \"answers\",\r\n\t\t\t\tvIng: \"answering\",\r\n\t\t\t\tv2: \"answered\",\r\n\t\t\t\tv3: \"answered\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t//maybe should be moved because its vSnob has \"es\" suffix\r\n\t\t\t\tv1: \"guess\",\r\n\t\t\t\tvSnob: \"guesses\",\r\n\t\t\t\tvIng: \"guessing\",\r\n\t\t\t\tv2: \"guessed\",\r\n\t\t\t\tv3: \"guessed\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tv1: \"succeed\",\r\n\t\t\t\tvSnob: \"succeeds\",\r\n\t\t\t\tvIng: \"succeeding\",\r\n\t\t\t\tv2: \"succeeded\",\r\n\t\t\t\tv3: \"succeeded\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tv1: \"fail\",\r\n\t\t\t\tvSnob: \"fails\",\r\n\t\t\t\tvIng: \"failing\",\r\n\t\t\t\tv2: \"failed\",\r\n\t\t\t\tv3: \"failed\"\r\n\t\t\t}\r\n\t\t]\r\n\t},\r\n\tED_CVC_DOUBLE: {\r\n\t\tregular: true,\r\n\t\tsuffix: \"ed\",\r\n\t\tformula: \"V + double the last letter + ed\",\r\n\t\tverbs: [\r\n\t\t\t{\r\n\t\t\t\tv1: \"stop\",\r\n\t\t\t\tvSnob: \"stops\",\r\n\t\t\t\tvIng: \"stopping\",\r\n\t\t\t\tv2: \"stopped\",\r\n\t\t\t\tv3: \"stopped\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tv1: \"pat\",\r\n\t\t\t\tvSnob: \"pats\",\r\n\t\t\t\tvIng: \"patting\",\r\n\t\t\t\tv2: \"patted\",\r\n\t\t\t\tv3: \"patted\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tv1: \"hop\",\r\n\t\t\t\tvSnob: \"hops\",\r\n\t\t\t\tvIng: \"hopping\",\r\n\t\t\t\tv2: \"hopped\",\r\n\t\t\t\tv3: \"hopped\"\r\n\t\t\t}\r\n\t\t]\r\n\t},\r\n\tED_CVC_DONT_DOUBLE: {\r\n\t\tregular: true,\r\n\t\tsuffix: \"ed\",\r\n\t\tformula: \"V + ed\",\r\n\t\tverbs: [\r\n\t\t\t{\r\n\t\t\t\tv1: \"flow\",\r\n\t\t\t\tvSnob: \"flows\",\r\n\t\t\t\tvIng: \"flowing\",\r\n\t\t\t\tv2: \"flowed\",\r\n\t\t\t\tv3: \"flowed\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tv1: \"glow\",\r\n\t\t\t\tvSnob: \"glows\",\r\n\t\t\t\tvIng: \"glowing\",\r\n\t\t\t\tv2: \"glowed\",\r\n\t\t\t\tv3: \"glowed\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tv1: \"fix\",\r\n\t\t\t\tvSnob: \"fixes\",\r\n\t\t\t\tvIng: \"fixing\",\r\n\t\t\t\tv2: \"fixed\",\r\n\t\t\t\tv3: \"fixed\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tv1: \"mix\",\r\n\t\t\t\tvSnob: \"mixes\",\r\n\t\t\t\tvIng: \"mixing\",\r\n\t\t\t\tv2: \"mixed\",\r\n\t\t\t\tv3: \"mixed\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tv1: \"delay\",\r\n\t\t\t\tvSnob: \"delays\",\r\n\t\t\t\tvIng: \"delaying\",\r\n\t\t\t\tv2: \"delayed\",\r\n\t\t\t\tv3: \"delayed\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tv1: \"employ\",\r\n\t\t\t\tvSnob: \"employs\",\r\n\t\t\t\tvIng: \"employing\",\r\n\t\t\t\tv2: \"employed\",\r\n\t\t\t\tv3: \"employed\"\r\n\t\t\t}\r\n\t\t]\r\n\t},\r\n\tD: {\r\n\t\tregular: true,\r\n\t\tformula: \"V + d\",\r\n\t\tsuffix: \"d\",\r\n\t\tverbs: [\r\n\t\t\t{\r\n\t\t\t\tv1: \"like\",\r\n\t\t\t\tvSnob: \"likes\",\r\n\t\t\t\tvIng: \"liking\",\r\n\t\t\t\tv2: \"liked\",\r\n\t\t\t\tv3: \"liked\"\r\n\t\t\t},\r\n\r\n\t\t\t{\r\n\t\t\t\tv1: \"smile\",\r\n\t\t\t\tvSnob: \"smiles\",\r\n\t\t\t\tvIng: \"smiling\",\r\n\t\t\t\tv2: \"smiled\",\r\n\t\t\t\tv3: \"smiled\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tv1: \"surprise\",\r\n\t\t\t\tvSnob: \"surprises\",\r\n\t\t\t\tvIng: \"surprising\",\r\n\t\t\t\tv2: \"surprised\",\r\n\t\t\t\tv3: \"surprised\"\r\n\t\t\t},\r\n\r\n\t\t\t{\r\n\t\t\t\tv1: \"save\",\r\n\t\t\t\tvSnob: \"saves\",\r\n\t\t\t\tvIng: \"saving\",\r\n\t\t\t\tv2: \"saved\",\r\n\t\t\t\tv3: \"saved\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tv1: \"taste\",\r\n\t\t\t\tvSnob: \"tastes\",\r\n\t\t\t\tvIng: \"tasting\",\r\n\t\t\t\tv2: \"tasted\",\r\n\t\t\t\tv3: \"tasted\"\r\n\t\t\t},\r\n\r\n\t\t\t{\r\n\t\t\t\tv1: \"hope\",\r\n\t\t\t\tvSnob: \"hopes\",\r\n\t\t\t\tvIng: \"hoping\",\r\n\t\t\t\tv2: \"hoped\",\r\n\t\t\t\tv3: \"hoped\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tv1: \"live\",\r\n\t\t\t\tvSnob: \"lives\",\r\n\t\t\t\tvIng: \"living\",\r\n\t\t\t\tv2: \"lived\",\r\n\t\t\t\tv3: \"lived\"\r\n\t\t\t},\r\n\r\n\t\t\t{\r\n\t\t\t\tv1: \"compete\",\r\n\t\t\t\tvSnob: \"competes\",\r\n\t\t\t\tvIng: \"competing\",\r\n\t\t\t\tv2: \"competed\",\r\n\t\t\t\tv3: \"competed\"\r\n\t\t\t}\r\n\t\t]\r\n\t},\r\n\tY_IED: {\r\n\t\tregular: true,\r\n\t\tsuffix: \"ied\",\r\n\t\tformula: \"V - y + ied\",\r\n\t\tverbs: [\r\n\t\t\t{\r\n\t\t\t\tv1: \"try\",\r\n\t\t\t\tvSnob: \"tries\",\r\n\t\t\t\tvIng: \"trying\",\r\n\t\t\t\tv2: \"tried\",\r\n\t\t\t\tv3: \"tried\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tv1: \"cry\",\r\n\t\t\t\tvSnob: \"cries\",\r\n\t\t\t\tvIng: \"crying\",\r\n\t\t\t\tv2: \"cried\",\r\n\t\t\t\tv3: \"cried\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tv1: \"study\",\r\n\t\t\t\tvSnob: \"studies\",\r\n\t\t\t\tvIng: \"studying\",\r\n\t\t\t\tv2: \"studied\",\r\n\t\t\t\tv3: \"studied\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tv1: \"tidy\",\r\n\t\t\t\tvSnob: \"tidies\",\r\n\t\t\t\tvIng: \"tidying\",\r\n\t\t\t\tv2: \"tidied\",\r\n\t\t\t\tv3: \"tidied\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tv1: \"hurry\",\r\n\t\t\t\tvSnob: \"hurries\",\r\n\t\t\t\tvIng: \"hurrying\",\r\n\t\t\t\tv2: \"hurried\",\r\n\t\t\t\tv3: \"hurried\"\r\n\t\t\t}\r\n\t\t]\r\n\t},\r\n\tY__ED: {\r\n\t\tregular: true,\r\n\t\tformula: \"V + ed\",\r\n\t\tsuffix: \"ed\",\r\n\t\tverbs: [\r\n\t\t\t{\r\n\t\t\t\tv1: \"play\",\r\n\t\t\t\tvSnob: \"plays\",\r\n\t\t\t\tvIng: \"playing\",\r\n\t\t\t\tv2: \"played\",\r\n\t\t\t\tv3: \"played\"\r\n\t\t\t},\r\n\r\n\t\t\t{\r\n\t\t\t\tv1: \"stay\",\r\n\t\t\t\tvSnob: \"stays\",\r\n\t\t\t\tvIng: \"staying\",\r\n\t\t\t\tv2: \"stayed\",\r\n\t\t\t\tv3: \"stayed\"\r\n\t\t\t},\r\n\r\n\t\t\t{\r\n\t\t\t\tv1: \"enjoy\",\r\n\t\t\t\tvSnob: \"enjoys\",\r\n\t\t\t\tvIng: \"enjoying\",\r\n\t\t\t\tv2: \"enjoyed\",\r\n\t\t\t\tv3: \"enjoyed\"\r\n\t\t\t},\r\n\r\n\t\t\t{\r\n\t\t\t\tv1: \"destroy\",\r\n\t\t\t\tvSnob: \"destroys\",\r\n\t\t\t\tvIng: \"destroying\",\r\n\t\t\t\tv2: \"destroyed\",\r\n\t\t\t\tv3: \"destroyed\"\r\n\t\t\t}\r\n\t\t]\r\n\t},\r\n\r\n\t//irregular\r\n\tY_ALL_SAME: {\r\n\t\tformula: \"No change!\",\r\n\t\tverbs: [\r\n\t\t\t{\r\n\t\t\t\tv1: \"cost\",\r\n\t\t\t\tvSnob: \"cost\",\r\n\t\t\t\tvIng: \"cost\",\r\n\t\t\t\tv2: \"cost\",\r\n\t\t\t\tv3: \"cost\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tv1: \"put\",\r\n\t\t\t\tvSnob: \"put\",\r\n\t\t\t\tvIng: \"put\",\r\n\t\t\t\tv2: \"put\",\r\n\t\t\t\tv3: \"put\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tv1: \"hit\",\r\n\t\t\t\tvSnob: \"hit\",\r\n\t\t\t\tvIng: \"hit\",\r\n\t\t\t\tv2: \"hit\",\r\n\t\t\t\tv3: \"hit\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tv1: \"set\",\r\n\t\t\t\tvSnob: \"set\",\r\n\t\t\t\tvIng: \"set\",\r\n\t\t\t\tv2: \"set\",\r\n\t\t\t\tv3: \"set\"\r\n\t\t\t},\r\n\r\n\t\t\t{\r\n\t\t\t\tv1: \"bet\",\r\n\t\t\t\tvSnob: \"bet\",\r\n\t\t\t\tvIng: \"bet\",\r\n\t\t\t\tv2: \"bet\",\r\n\t\t\t\tv3: \"bet\"\r\n\t\t\t},\r\n\r\n\t\t\t{\r\n\t\t\t\tv1: \"hurt\",\r\n\t\t\t\tvSnob: \"hurt\",\r\n\t\t\t\tvIng: \"hurt\",\r\n\t\t\t\tv2: \"hurt\",\r\n\t\t\t\tv3: \"hurt\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tv1: \"burst\",\r\n\t\t\t\tvSnob: \"burst\",\r\n\t\t\t\tvIng: \"burst\",\r\n\t\t\t\tv2: \"burst\",\r\n\t\t\t\tv3: \"burst\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tv1: \"shut\",\r\n\t\t\t\tvSnob: \"shut\",\r\n\t\t\t\tvIng: \"shut\",\r\n\t\t\t\tv2: \"shut\",\r\n\t\t\t\tv3: \"shut\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tv1: \"cut\",\r\n\t\t\t\tvSnob: \"cut\",\r\n\t\t\t\tvIng: \"cut\",\r\n\t\t\t\tv2: \"cut\",\r\n\t\t\t\tv3: \"cut\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tv1: \"let\",\r\n\t\t\t\tvSnob: \"let\",\r\n\t\t\t\tvIng: \"let\",\r\n\t\t\t\tv2: \"let\",\r\n\t\t\t\tv3: \"let\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tv1: \"spread\",\r\n\t\t\t\tvSnob: \"spread\",\r\n\t\t\t\tvIng: \"spread\",\r\n\t\t\t\tv2: \"spread\",\r\n\t\t\t\tv3: \"spread\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tv1: \"read\",\r\n\t\t\t\tvSnob: \"read\",\r\n\t\t\t\tvIng: \"read\",\r\n\t\t\t\tv2: `read (\"red\")`,\r\n\t\t\t\tv3: `read (\"red\")`\r\n\t\t\t}\r\n\t\t]\r\n\t},\r\n\r\n\tMOST_COMMON: {\r\n\t\tverbs: [\r\n\t\t\t{\r\n\t\t\t\tv1: \"be / am / is / are\",\r\n\t\t\t\tvSnob: \"is\",\r\n\t\t\t\tvIng: \"being\",\r\n\t\t\t\tv2: \"was / were\",\r\n\t\t\t\tv3: \"been\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tv1: \"do\",\r\n\t\t\t\tvSnob: \"does\",\r\n\t\t\t\tvIng: \"doing\",\r\n\t\t\t\tv2: \"did\",\r\n\t\t\t\tv3: \"done\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tv1: \"have\",\r\n\t\t\t\tvSnob: \"has\",\r\n\t\t\t\tvIng: \"having\",\r\n\t\t\t\tv2: \"had\",\r\n\t\t\t\tv3: \"had\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tv1: \"make\",\r\n\t\t\t\tvSnob: \"makes\",\r\n\t\t\t\tvIng: \"making\",\r\n\t\t\t\tv2: \"made\",\r\n\t\t\t\tv3: \"made\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tv1: \"get\",\r\n\t\t\t\tvSnob: \"gets\",\r\n\t\t\t\tvIng: \"getting\",\r\n\t\t\t\tv2: \"got\",\r\n\t\t\t\tv3: \"got / gotten\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tv1: \"go\",\r\n\t\t\t\tvSnob: \"gpes\",\r\n\t\t\t\tvIng: \"going\",\r\n\t\t\t\tv2: \"went\",\r\n\t\t\t\tv3: \"gone\"\r\n\t\t\t},\r\n\r\n\t\t\t{\r\n\t\t\t\tv1: \"see\",\r\n\t\t\t\tvSnob: \"sees\",\r\n\t\t\t\tvIng: \"seeing\",\r\n\t\t\t\tv2: \"saw\",\r\n\t\t\t\tv3: \"seen\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tv1: \"eat\",\r\n\t\t\t\tvSnob: \"eats\",\r\n\t\t\t\tvIng: \"eating\",\r\n\t\t\t\tv2: \"ate\",\r\n\t\t\t\tv3: \"eaten\"\r\n\t\t\t}\r\n\t\t]\r\n\t},\r\n\tOLD: {\r\n\t\tformula: \"ell => old\",\r\n\t\tverbs: [\r\n\t\t\t{\r\n\t\t\t\tv1: \"tell\",\r\n\t\t\t\tvSnob: \"tells\",\r\n\t\t\t\tvIng: \"telling\",\r\n\t\t\t\tv2: \"told\",\r\n\t\t\t\tv3: \"told\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tv1: \"sell\",\r\n\t\t\t\tvSnob: \"sells\",\r\n\t\t\t\tvIng: \"selling\",\r\n\t\t\t\tv2: \"sold\",\r\n\t\t\t\tv3: \"sold\"\r\n\t\t\t}\r\n\t\t]\r\n\t},\r\n\tOOD: {\r\n\t\tverbs: [\r\n\t\t\t{\r\n\t\t\t\tv1: \"stand\",\r\n\t\t\t\tvSnob: \"stands\",\r\n\t\t\t\tvIng: \"standing\",\r\n\t\t\t\tv2: \"stood\",\r\n\t\t\t\tv3: \"stood\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tv1: \"understand\",\r\n\t\t\t\tvSnob: \"understands\",\r\n\t\t\t\tvIng: \"understanding\",\r\n\t\t\t\tv2: \"understood\",\r\n\t\t\t\tv3: \"understood\"\r\n\t\t\t}\r\n\t\t]\r\n\t},\r\n\r\n\tHALF: {\r\n\t\tverbs: [\r\n\t\t\t{\r\n\t\t\t\tv1: \"meet\",\r\n\t\t\t\tvSnob: \"meets\",\r\n\t\t\t\tvIng: \"meeting\",\r\n\t\t\t\tv2: \"met\",\r\n\t\t\t\tv3: \"met\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tv1: \"shoot\",\r\n\t\t\t\tvSnob: \"shoots\",\r\n\t\t\t\tvIng: \"shooting\",\r\n\t\t\t\tv2: \"shot\",\r\n\t\t\t\tv3: \"shot\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tv1: \"feed\",\r\n\t\t\t\tvSnob: \"feeds\",\r\n\t\t\t\tvIng: \"feeding\",\r\n\t\t\t\tv2: \"fed\",\r\n\t\t\t\tv3: \"fed\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tv1: \"bleed\",\r\n\t\t\t\tvSnob: \"bleeds\",\r\n\t\t\t\tvIng: \"bleeding\",\r\n\t\t\t\tv2: \"bled\",\r\n\t\t\t\tv3: \"bled\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tv1: \"lead\",\r\n\t\t\t\tvSnob: \"leads\",\r\n\t\t\t\tvIng: \"leading\",\r\n\t\t\t\tv2: \"led\",\r\n\t\t\t\tv3: \"led\"\r\n\t\t\t}\r\n\t\t]\r\n\t},\r\n\tHALF_PLUS_T: {\r\n\t\tverbs: [\r\n\t\t\t{\r\n\t\t\t\tv1: \"sleep\",\r\n\t\t\t\tvSnob: \"sleeps\",\r\n\t\t\t\tvIng: \"sleeping\",\r\n\t\t\t\tv2: \"slept\",\r\n\t\t\t\tv3: \"slept\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tv1: \"feel\",\r\n\t\t\t\tvSnob: \"feels\",\r\n\t\t\t\tvIng: \"feeling\",\r\n\t\t\t\tv2: \"felt\",\r\n\t\t\t\tv3: \"felt\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tv1: \"keep\",\r\n\t\t\t\tvSnob: \"keeps\",\r\n\t\t\t\tvIng: \"keeping\",\r\n\t\t\t\tv2: \"kept\",\r\n\t\t\t\tv3: \"kept\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tv1: \"sweep\",\r\n\t\t\t\tvSnob: \"sweeps\",\r\n\t\t\t\tvIng: \"sweeping\",\r\n\t\t\t\tv2: \"swept\",\r\n\t\t\t\tv3: \"swept\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tv1: \"weep\",\r\n\t\t\t\tvSnob: \"weeps\",\r\n\t\t\t\tvIng: \"weeping\",\r\n\t\t\t\tv2: \"wept\",\r\n\t\t\t\tv3: \"wept\"\r\n\t\t\t}\r\n\t\t]\r\n\t},\r\n\r\n\tD_TO_T: {\r\n\t\tverbs: [\r\n\t\t\t{\r\n\t\t\t\tv1: \"send\",\r\n\t\t\t\tvSnob: \"sends\",\r\n\t\t\t\tvIng: \"sending\",\r\n\t\t\t\tv2: \"sent\",\r\n\t\t\t\tv3: \"sent\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tv1: \"spend\",\r\n\t\t\t\tvSnob: \"spends\",\r\n\t\t\t\tvIng: \"spending\",\r\n\t\t\t\tv2: \"spent\",\r\n\t\t\t\tv3: \"spent\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tv1: \"build\",\r\n\t\t\t\tvSnob: \"builds\",\r\n\t\t\t\tvIng: \"building\",\r\n\t\t\t\tv2: \"built\",\r\n\t\t\t\tv3: \"built\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tv1: \"bend\",\r\n\t\t\t\tvSnob: \"bends\",\r\n\t\t\t\tvIng: \"bending\",\r\n\t\t\t\tv2: \"bent\",\r\n\t\t\t\tv3: \"bent\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tv1: \"feed\",\r\n\t\t\t\tvSnob: \"feeds\",\r\n\t\t\t\tvIng: \"feeding\",\r\n\t\t\t\tv2: \"fed\",\r\n\t\t\t\tv3: \"fed\"\r\n\t\t\t}\r\n\t\t]\r\n\t},\r\n\r\n\tAID: {\r\n\t\tverbs: [\r\n\t\t\t{\r\n\t\t\t\tv1: \"say\",\r\n\t\t\t\tvSnob: \"says\",\r\n\t\t\t\tvIng: \"saying\",\r\n\t\t\t\tv2: \"said\",\r\n\t\t\t\tv3: \"said\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tv1: \"pay\",\r\n\t\t\t\tvSnob: \"pays\",\r\n\t\t\t\tvIng: \"paying\",\r\n\t\t\t\tv2: \"paid\",\r\n\t\t\t\tv3: \"paid\"\r\n\t\t\t}\r\n\t\t]\r\n\t},\r\n\tOUND: {\r\n\t\tverbs: [\r\n\t\t\t{\r\n\t\t\t\tv1: \"find\",\r\n\t\t\t\tvSnob: \"finds\",\r\n\t\t\t\tvIng: \"finding\",\r\n\t\t\t\tv2: \"found\",\r\n\t\t\t\tv3: \"found\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tv1: \"bind\",\r\n\t\t\t\tvSnob: \"binds\",\r\n\t\t\t\tvIng: \"binding\",\r\n\t\t\t\tv2: \"bound\",\r\n\t\t\t\tv3: \"bound\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tv1: \"grind\",\r\n\t\t\t\tvSnob: \"grinds\",\r\n\t\t\t\tvIng: \"grinding\",\r\n\t\t\t\tv2: \"ground\",\r\n\t\t\t\tv3: \"ground\"\r\n\t\t\t}\r\n\t\t]\r\n\t},\r\n\tU: {\r\n\t\tverbs: [\r\n\t\t\t{\r\n\t\t\t\tv1: \"stick\",\r\n\t\t\t\tvSnob: \"sticks\",\r\n\t\t\t\tvIng: \"sticking\",\r\n\t\t\t\tv2: \"stuck\",\r\n\t\t\t\tv3: \"stuck\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tv1: \"sting\",\r\n\t\t\t\tvSnob: \"stings\",\r\n\t\t\t\tvIng: \"stinging\",\r\n\t\t\t\tv2: \"stung\",\r\n\t\t\t\tv3: \"stung\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tv1: \"dig\",\r\n\t\t\t\tvSnob: \"digs\",\r\n\t\t\t\tvIng: \"digging\",\r\n\t\t\t\tv2: \"dug\",\r\n\t\t\t\tv3: \"dug\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tv1: \"swing\",\r\n\t\t\t\tvSnob: \"swings\",\r\n\t\t\t\tvIng: \"swinging\",\r\n\t\t\t\tv2: \"swung\",\r\n\t\t\t\tv3: \"swung\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tv1: \"shrink\",\r\n\t\t\t\tvSnob: \"shrinks\",\r\n\t\t\t\tvIng: \"shrinking\",\r\n\t\t\t\tv2: \"shrunk\",\r\n\t\t\t\tv3: \"shrunk\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tv1: \"hang\",\r\n\t\t\t\tvSnob: \"hangs\",\r\n\t\t\t\tvIng: \"hanging\",\r\n\t\t\t\tv2: \"hung\",\r\n\t\t\t\tv3: \"hung\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tv1: \"strike\",\r\n\t\t\t\tvSnob: \"strikes\",\r\n\t\t\t\tvIng: \"striking\",\r\n\t\t\t\tv2: \"struck\",\r\n\t\t\t\tv3: \"struck\"\r\n\t\t\t}\r\n\t\t]\r\n\t},\r\n\r\n\tAT: {\r\n\t\tverbs: [\r\n\t\t\t{\r\n\t\t\t\tv1: \"sit\",\r\n\t\t\t\tvSnob: \"sits\",\r\n\t\t\t\tvIng: \"sitting\",\r\n\t\t\t\tv2: \"sat\",\r\n\t\t\t\tv3: \"sat\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tv1: \"spit\",\r\n\t\t\t\tvSnob: \"spits\",\r\n\t\t\t\tvIng: \"spitting\",\r\n\t\t\t\tv2: \"spat\",\r\n\t\t\t\tv3: \"spat\"\r\n\t\t\t}\r\n\t\t]\r\n\t},\r\n\tT: {\r\n\t\tverbs: [\r\n\t\t\t{\r\n\t\t\t\tv1: \"hear\",\r\n\t\t\t\tvSnob: \"hears\",\r\n\t\t\t\tvIng: \"hearing\",\r\n\t\t\t\tv2: \"heard\",\r\n\t\t\t\tv3: \"heard\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tv1: \"mean\",\r\n\t\t\t\tvSnob: \"means\",\r\n\t\t\t\tvIng: \"meaning\",\r\n\t\t\t\tv2: \"meant\",\r\n\t\t\t\tv3: \"meant\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tv1: \"dream\",\r\n\t\t\t\tvSnob: \"dreams\",\r\n\t\t\t\tvIng: \"dreaming\",\r\n\t\t\t\tv2: \"dreamt / dreamed\",\r\n\t\t\t\tv3: \"dreamt / dreamed\"\r\n\t\t\t}\r\n\t\t]\r\n\t},\r\n\r\n\tCOMEBACK: {\r\n\t\tverbs: [\r\n\t\t\t{\r\n\t\t\t\tv1: \"come\",\r\n\t\t\t\tvSnob: \"comes\",\r\n\t\t\t\tvIng: \"coming\",\r\n\t\t\t\tv2: \"came\",\r\n\t\t\t\tv3: \"come\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tv1: \"become\",\r\n\t\t\t\tvSnob: \"becomes\",\r\n\t\t\t\tvIng: \"becoming\",\r\n\t\t\t\tv2: \"became\",\r\n\t\t\t\tv3: \"become\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tv1: \"run\",\r\n\t\t\t\tvSnob: \"runs\",\r\n\t\t\t\tvIng: \"running\",\r\n\t\t\t\tv2: \"ran\",\r\n\t\t\t\tv3: \"run\"\r\n\t\t\t}\r\n\t\t]\r\n\t},\r\n\r\n\tELD: {\r\n\t\tverbs: [\r\n\t\t\t{\r\n\t\t\t\tv1: \"hold\",\r\n\t\t\t\tvSnob: \"holds\",\r\n\t\t\t\tvIng: \"holding\",\r\n\t\t\t\tv2: \"held\",\r\n\t\t\t\tv3: \"held\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tv1: \"behold\",\r\n\t\t\t\tvSnob: \"beholds\",\r\n\t\t\t\tvIng: \"beholding\",\r\n\t\t\t\tv2: \"beheld\",\r\n\t\t\t\tv3: \"beheld\"\r\n\t\t\t}\r\n\t\t]\r\n\t},\r\n\r\n\tOUGHT: {\r\n\t\tverbs: [\r\n\t\t\t{\r\n\t\t\t\tv1: \"think\",\r\n\t\t\t\tvSnob: \"thinks\",\r\n\t\t\t\tvIng: \"thinking\",\r\n\t\t\t\tv2: \"thought\",\r\n\t\t\t\tv3: \"thought\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tv1: \"bring\",\r\n\t\t\t\tvSnob: \"brings\",\r\n\t\t\t\tvIng: \"bringing\",\r\n\t\t\t\tv2: \"brought\",\r\n\t\t\t\tv3: \"brought\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tv1: \"fight\",\r\n\t\t\t\tvSnob: \"fights\",\r\n\t\t\t\tvIng: \"fighting\",\r\n\t\t\t\tv2: \"fought\",\r\n\t\t\t\tv3: \"fought\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tv1: \"catch\",\r\n\t\t\t\tvSnob: \"catches\",\r\n\t\t\t\tvIng: \"catching\",\r\n\t\t\t\tv2: \"caught\",\r\n\t\t\t\tv3: \"caught\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tv1: \"teach\",\r\n\t\t\t\tvSnob: \"teaches\",\r\n\t\t\t\tvIng: \"teaching\",\r\n\t\t\t\tv2: \"taught\",\r\n\t\t\t\tv3: \"taught\"\r\n\t\t\t}\r\n\t\t]\r\n\t},\r\n\r\n\tEN: {\r\n\t\tverbs: [\r\n\t\t\t{\r\n\t\t\t\tv1: \"take\",\r\n\t\t\t\tvSnob: \"takes\",\r\n\t\t\t\tvIng: \"taking\",\r\n\t\t\t\tv2: \"took\",\r\n\t\t\t\tv3: \"taken\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tv1: \"give\",\r\n\t\t\t\tvSnob: \"gives\",\r\n\t\t\t\tvIng: \"giving\",\r\n\t\t\t\tv2: \"gave\",\r\n\t\t\t\tv3: \"given\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tv1: \"forgive\",\r\n\t\t\t\tvSnob: \"forgives\",\r\n\t\t\t\tvIng: \"forgiving\",\r\n\t\t\t\tv2: \"forgave\",\r\n\t\t\t\tv3: \"forgiven\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tv1: \"forget\",\r\n\t\t\t\tvSnob: \"forgets\",\r\n\t\t\t\tvIng: \"forgetting\",\r\n\t\t\t\tv2: \"forgot\",\r\n\t\t\t\tv3: \"forgotton\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tv1: \"speak\",\r\n\t\t\t\tvSnob: \"speaks\",\r\n\t\t\t\tvIng: \"speaking\",\r\n\t\t\t\tv2: \"spoke\",\r\n\t\t\t\tv3: \"spoken\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tv1: \"choose\",\r\n\t\t\t\tvSnob: \"chooses\",\r\n\t\t\t\tvIng: \"choosing\",\r\n\t\t\t\tv2: \"chose\",\r\n\t\t\t\tv3: \"chosen\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tv1: \"freeze\",\r\n\t\t\t\tvSnob: \"freezes\",\r\n\t\t\t\tvIng: \"freezing\",\r\n\t\t\t\tv2: \"froze\",\r\n\t\t\t\tv3: \"frozen\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tv1: \"break\",\r\n\t\t\t\tvSnob: \"breaks\",\r\n\t\t\t\tvIng: \"breaking\",\r\n\t\t\t\tv2: \"broke\",\r\n\t\t\t\tv3: \"broken\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tv1: \"wake\",\r\n\t\t\t\tvSnob: \"wakes\",\r\n\t\t\t\tvIng: \"waking\",\r\n\t\t\t\tv2: \"woke\",\r\n\t\t\t\tv3: \"awaken\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tv1: \"steal\",\r\n\t\t\t\tvSnob: \"steals\",\r\n\t\t\t\tvIng: \"stealing\",\r\n\t\t\t\tv2: \"stole\",\r\n\t\t\t\tv3: \"stolen\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tv1: \"rise\",\r\n\t\t\t\tvSnob: \"rises\",\r\n\t\t\t\tvIng: \"rising\",\r\n\t\t\t\tv2: \"rose\",\r\n\t\t\t\tv3: \"risen\"\r\n\t\t\t}\r\n\t\t]\r\n\t},\r\n\r\n\tUN: {\r\n\t\tverbs: [\r\n\t\t\t{\r\n\t\t\t\tv1: \"begin\",\r\n\t\t\t\tvSnob: \"begins\",\r\n\t\t\t\tvIng: \"beginning\",\r\n\t\t\t\tv2: \"began\",\r\n\t\t\t\tv3: \"begun\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tv1: \"sing\",\r\n\t\t\t\tvSnob: \"sings\",\r\n\t\t\t\tvIng: \"singing\",\r\n\t\t\t\tv2: \"sang\",\r\n\t\t\t\tv3: \"sung\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tv1: \"ring\",\r\n\t\t\t\tvSnob: \"rings\",\r\n\t\t\t\tvIng: \"ringing\",\r\n\t\t\t\tv2: \"rang\",\r\n\t\t\t\tv3: \"rung\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tv1: \"sink\",\r\n\t\t\t\tvSnob: \"sinks\",\r\n\t\t\t\tvIng: \"sinking\",\r\n\t\t\t\tv2: \"sank\",\r\n\t\t\t\tv3: \"sunk\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tv1: \"drink\",\r\n\t\t\t\tvSnob: \"drinks\",\r\n\t\t\t\tvIng: \"drinking\",\r\n\t\t\t\tv2: \"drank\",\r\n\t\t\t\tv3: \"drunk\"\r\n\t\t\t}\r\n\t\t]\r\n\t},\r\n\r\n\tOWN: {\r\n\t\tverbs: [\r\n\t\t\t{\r\n\t\t\t\tv1: \"know\",\r\n\t\t\t\tvSnob: \"knows\",\r\n\t\t\t\tvIng: \"knowing\",\r\n\t\t\t\tv2: \"knew\",\r\n\t\t\t\tv3: \"known\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tv1: \"grow\",\r\n\t\t\t\tvSnob: \"grows\",\r\n\t\t\t\tvIng: \"growing\",\r\n\t\t\t\tv2: \"grew\",\r\n\t\t\t\tv3: \"grown\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tv1: \"throw\",\r\n\t\t\t\tvSnob: \"throws\",\r\n\t\t\t\tvIng: \"throwing\",\r\n\t\t\t\tv2: \"threw\",\r\n\t\t\t\tv3: \"thrown\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tv1: \"fly\",\r\n\t\t\t\tvSnob: \"flies\",\r\n\t\t\t\tvIng: \"flying\",\r\n\t\t\t\tv2: \"flew\",\r\n\t\t\t\tv3: \"flown\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tv1: \"blow\",\r\n\t\t\t\tvSnob: \"blows\",\r\n\t\t\t\tvIng: \"blowing\",\r\n\t\t\t\tv2: \"blew\",\r\n\t\t\t\tv3: \"blown\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tv1: \"draw\",\r\n\t\t\t\tvSnob: \"draws\",\r\n\t\t\t\tvIng: \"drawing\",\r\n\t\t\t\tv2: \"drew\",\r\n\t\t\t\tv3: \"drawn\"\r\n\t\t\t}\r\n\t\t]\r\n\t},\r\n\r\n\tITTEN: {\r\n\t\tverbs: [\r\n\t\t\t{\r\n\t\t\t\tv1: \"write\",\r\n\t\t\t\tvSnob: \"writes\",\r\n\t\t\t\tvIng: \"writing\",\r\n\t\t\t\tv2: \"wrote\",\r\n\t\t\t\tv3: \"written\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tv1: \"ride\",\r\n\t\t\t\tvSnob: \"rides\",\r\n\t\t\t\tvIng: \"riding\",\r\n\t\t\t\tv2: \"rode\",\r\n\t\t\t\tv3: \"ridden\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tv1: \"bite\",\r\n\t\t\t\tvSnob: \"bites\",\r\n\t\t\t\tvIng: \"biting\",\r\n\t\t\t\tv2: \"bit\",\r\n\t\t\t\tv3: \"bitten\"\r\n\t\t\t}\r\n\t\t]\r\n\t},\r\n\r\n\tN: {\r\n\t\tverbs: [\r\n\t\t\t{\r\n\t\t\t\tv1: \"show\",\r\n\t\t\t\tvSnob: \"shows\",\r\n\t\t\t\tvIng: \"showing\",\r\n\t\t\t\tv2: \"showed\",\r\n\t\t\t\tv3: \"shown\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tv1: \"sew\",\r\n\t\t\t\tvSnob: \"sews\",\r\n\t\t\t\tvIng: \"sewing\",\r\n\t\t\t\tv2: \"sewed\",\r\n\t\t\t\tv3: \"sewn\"\r\n\t\t\t}\r\n\t\t]\r\n\t},\r\n\r\n\tORN: {\r\n\t\tverbs: [\r\n\t\t\t{\r\n\t\t\t\tv1: \"wear\",\r\n\t\t\t\tvSnob: \"wears\",\r\n\t\t\t\tvIng: \"wearing\",\r\n\t\t\t\tv2: \"wore\",\r\n\t\t\t\tv3: \"worn\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tv1: \"swear\",\r\n\t\t\t\tvSnob: \"swears\",\r\n\t\t\t\tvIng: \"swearing\",\r\n\t\t\t\tv2: \"swore\",\r\n\t\t\t\tv3: \"sworn\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tv1: \"tear\",\r\n\t\t\t\tvSnob: \"tears\",\r\n\t\t\t\tvIng: \"tearing\",\r\n\t\t\t\tv2: \"tore\",\r\n\t\t\t\tv3: \"torn\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tv1: \"bear\",\r\n\t\t\t\tvSnob: \"bears\",\r\n\t\t\t\tvIng: \"bearing\",\r\n\t\t\t\tv2: \"bore\",\r\n\t\t\t\tv3: \"born\"\r\n\t\t\t}\r\n\t\t]\r\n\t},\r\n\tLIE: {\r\n\t\tverbs: [\r\n\t\t\t{\r\n\t\t\t\tv1: \"lie\",\r\n\t\t\t\tvSnob: \"lies\",\r\n\t\t\t\tvIng: \"lying\",\r\n\t\t\t\tv2: \"lied\",\r\n\t\t\t\tv3: \"lied\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tv1: \"lie\",\r\n\t\t\t\tvSnob: \"lies\",\r\n\t\t\t\tvIng: \"lying\",\r\n\t\t\t\tv2: \"lay\",\r\n\t\t\t\tv3: \"lain\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tv1: \"lay\",\r\n\t\t\t\tvSnob: \"lays\",\r\n\t\t\t\tvIng: \"laying\",\r\n\t\t\t\tv2: \"laid\",\r\n\t\t\t\tv3: \"laid\"\r\n\t\t\t}\r\n\t\t]\r\n\t}\r\n};\r\n\r\nconst VERB_LIST = [];\r\nlet i = 0;\r\nfor (let [key, value] of Object.entries(VERBS)) {\r\n\t// value.title = VERB_GROUP_NAMES[i];\r\n\tvalue.groupName = VERB_GROUP_NAMES[i];\r\n\tVERB_LIST[i] = value;\r\n\ti++;\r\n}\r\n\r\nexport { VERB_LIST as VERB_GROUPS, VERB_GROUP_NAMES };\r\n","import React, {\n  useState,\n  useContext,\n  useCallback,\n  useEffect,\n  useRef,\n} from \"react\";\nimport PropTypes from \"prop-types\";\nimport clsx from \"clsx\";\n\nimport Button from \"@material-ui/core/Button\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Divider from \"@material-ui/core/Divider\";\nimport Drawer from \"@material-ui/core/Drawer\";\nimport Hidden from \"@material-ui/core/Hidden\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport Home from \"@material-ui/icons/Home\";\nimport Refresh from \"@material-ui/icons/Refresh\";\nimport MenuIcon from \"@material-ui/icons/Menu\";\nimport FilterDrama from \"@material-ui/icons/FilterDrama\";\nimport Chat from \"@material-ui/icons/Chat\";\nimport Close from \"@material-ui/icons/Close\";\n\nimport TextField from \"@material-ui/core/TextField\";\nimport AccountCircle from \"@material-ui/icons/AccountCircle\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport Menu from \"@material-ui/core/Menu\";\nimport List from \"@material-ui/core/List\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport Typography from \"@material-ui/core/Typography\";\nimport InputBase from \"@material-ui/core/InputBase\";\nimport { fade, makeStyles } from \"@material-ui/core/styles\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport FormatListNumbered from \"@material-ui/icons/FormatListNumbered\";\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\n\nimport { VERB_GROUP_NAMES } from \"../../esl/verbs.js\";\nimport { useTheme } from \"@material-ui/styles\";\nimport { withRouter } from \"react-router\";\nimport { AppContext } from \"../../contexts/AppContext.jsx\";\nimport { DeviceContext } from \"../../contexts/DeviceContext.jsx\";\nimport userState from \"../../store/user.atom.js\";\nimport {\n  // atom,\n  // selector,\n  useRecoilState,\n  useRecoilValue,\n  useSetRecoilState,\n} from \"recoil\";\n\nimport ENDPOINTS from \"../../AJAX/ajax-endpoints.js\";\n\nimport \"./_Appbar.scss\";\n\nconst APP_ROUTE = \"/\";\n\nconst mainLinks = [\n  { title: \"Home\", path: `${APP_ROUTE}`, Icon: Home },\n  {\n    title: \"Classrooms\",\n    path: `${APP_ROUTE}client-type-select`,\n    Icon: Chat,\n    adminOnly: false,\n  },\n];\n\nconst secondaryLinks = [\n  {\n    title: \"Advice\",\n    path: `${APP_ROUTE}advice`,\n    Icon: FilterDrama, //it's actually a cloud icon :)\n    adminOnly: true,\n  },\n  {\n    title: \"Reload\",\n    callback: () => window.location.reload(true),\n    Icon: Refresh,\n  },\n];\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    flexGrow: 1,\n  },\n  // menuButton: {\n  //   marginRight: theme.spacing(2)\n  // },\n  title: {\n    flexGrow: 1,\n    display: \"none\",\n    [theme.breakpoints.up(\"sm\")]: {\n      display: \"block\",\n    },\n  },\n  search: {\n    position: \"relative\",\n    borderRadius: theme.shape.borderRadius,\n    backgroundColor: fade(theme.palette.primary.main, 0.025),\n    \"&:hover\": {\n      backgroundColor: fade(theme.palette.primary.main, 0.075),\n    },\n    marginLeft: 0,\n    width: \"100%\",\n    [theme.breakpoints.up(\"sm\")]: {\n      marginLeft: theme.spacing(1),\n      width: \"auto\",\n    },\n  },\n  autoComplete: {\n    // position: \"relative\",\n    // borderRadius: theme.shape.borderRadius,\n    // backgroundColor: fade(theme.palette.primary.main, 0.15),\n    // \"&:hover\": {\n    //   backgroundColor: fade(theme.palette.primary.main, 0.25)\n    // },\n    // marginLeft: 0,\n    // width: \"100%\",\n    // [theme.breakpoints.up(\"sm\")]: {\n    //   marginLeft: theme.spacing(1),\n    //   width: \"auto\"\n    // }\n    // padding: theme.spacing(1, 1, 1, 7),\n    transition: theme.transitions.create(\"width\"),\n    width: \"100%\",\n\n    [theme.breakpoints.up(\"sm\")]: {\n      width: 200,\n      \"&:focus\": {\n        width: 800,\n      },\n    },\n  },\n  searchIcon: {\n    width: theme.spacing(7),\n\n    height: \"100%\",\n    position: \"absolute\",\n    pointerEvents: \"none\",\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n  inputRoot: {\n    color: \"inherit\",\n    // paddingLeft: theme.spacing(0, 0, 0, 2)\n  },\n  inputInput: {\n    padding: theme.spacing(1, 1, 1, 7),\n    transition: theme.transitions.create(\"width\"),\n    width: \"100%\",\n    [theme.breakpoints.up(\"sm\")]: {\n      width: 120,\n      \"&:focus\": {\n        width: 200,\n      },\n    },\n  },\n\n  drawer: {\n    width: theme.layout.drawerWidth,\n    flexShrink: 0,\n    // fontSize: \"1.25rem\"\n  },\n  drawerPaper: {\n    width: theme.layout.drawerWidth,\n  },\n  appBar: ({ device }) => ({\n    width: \"100%\",\n    marginLeft: 0,\n    backgroundColor: theme.palette.background.paper,\n    color: theme.palette.primary.main,\n  }),\n  appBarText: {\n    // width: \"45%\", //just so it doesn't get clippeed by the login button on the right\n    // fontSize: \"1rem\",\n    flexGrow: 1,\n    color: \"inherit\",\n    whiteSpace: \"nowrap\",\n    textOverflow: \"ellipsis\",\n    // textOverflow: \"hidden\"\n  },\n  iconButton: {\n    marginRight: theme.spacing(2),\n    display: \"block\",\n  },\n  toolbar: theme.mixins.toolbar,\n\n  icon: {\n    fill: theme.palette.secondary.main,\n  },\n  settings_bar: {\n    width: \"100%\", //as much as available, so that it reaches all the way to the right end\n    height: \"var(--appbar-height)\",\n    position: \"relative\",\n  },\n  loginBtn: {\n    fontSize: \"0.75rem\",\n  },\n  avatar: {\n    marginRight: \"calc(2 * var(--spacing))\",\n    backgroundColor: \"var(--secondary)\",\n    width: \"24px\",\n    height: \"24px\",\n  },\n}));\n\nconst renderPrimaryListItemText = (title = \"\") => (\n  <ListItemText\n    primary={title}\n    className={title.length > 7 ? \"long-text\" : \"short-text\"}\n  />\n);\nconst renderSecondaryListItemText = (title = \"\") => (\n  <ListItemText\n    secondary={title}\n    className={title.length > 7 ? \"long-text\" : \"short-text\"}\n  />\n);\n\nlet logg;\nlet loggError;\nlet animationFrame;\nlet promiseKeeper;\nconst label = \"AppBar\";\n\nconst ResponsiveDrawer = (props) => {\n  const { match } = props;\n\n  const [mobileOpen, setMobileOpen] = useState(false);\n  const theme = useTheme();\n  const [appUtils, appState] = useContext(AppContext);\n  const {\n    Logger,\n    PromiseKeeper,\n    navigateTo,\n    DURATIONS,\n    request,\n    getRandomUpTo,\n    DEBUGGING,\n    EMPTY_FUNC,\n  } = appUtils;\n\n  const [searchOptions, setSearchOptions] = useState([]);\n  const [getOptionLabel, setGetOptionLabel] = useState(EMPTY_FUNC);\n\n  const sharedRefs = useRef(props.sharedRefs?.current || {});\n  const [anchorEl, setAnchorEl] = React.useState(null);\n  const open = Boolean(anchorEl);\n  const mediaContext = useContext(DeviceContext);\n  const [visible, setVisible] = useState(true);\n  const classes = useStyles(mediaContext);\n\n  const [user, setUser] = useRecoilState(userState);\n\n  const appBarSearchables = Object.assign({}, mainLinks, secondaryLinks);\n\n  const handleDrawerToggle = () => {\n    animationFrame = window.requestAnimationFrame(() => {\n      setMobileOpen((prevState) => !prevState);\n    });\n  };\n\n  const closeLink = {\n    title: \"\",\n    path: \"\",\n    Icon: Close,\n    callback: handleDrawerToggle,\n  };\n\n  const handleLinkClick = (path) => {\n    setMobileOpen(false);\n    if (!path || !props.history) return null;\n    promiseKeeper.stall(DURATIONS.exit, \"navigate to page\").then(() => {\n      animationFrame = window.requestAnimationFrame(() => {\n        navigateTo(path, props.history);\n      });\n    });\n  };\n\n  const handleUserMenuClick = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleUserMenuClose = () => {\n    setAnchorEl(null);\n  };\n\n  const handleUserMenuNav = (ev) => {\n    const menuitem = ev.target.getAttribute(\"menuitem\");\n    handleUserMenuClose();\n    promiseKeeper.stall(DURATIONS.exit || 300, \"user menu nav\").then(() => {\n      animationFrame = window.requestAnimationFrame(() => {\n        switch (menuitem) {\n          case \"logout\":\n            // handleLinkClick(\"/login\");\n            // appState.setUser(null);\n            setUser(null);\n            navigateTo(\"/login\", props.history);\n            break;\n        }\n      });\n    });\n  };\n\n  useEffect(() => {\n    const logger = new Logger({ label });\n    logg = logger.logg;\n    loggError = logger.loggError;\n    promiseKeeper = new PromiseKeeper({ label });\n    return () => {\n      window.cancelAnimationFrame(animationFrame);\n    };\n  }, []);\n\n  useEffect(() => {\n    const { searchables } = appState;\n    if (!searchables) {\n      loggError(\"No searchables items in appState ?\");\n      return;\n    }\n\n    if (!appState.searchables.options.length) {\n      const linkList = [];\n      [mainLinks, secondaryLinks].forEach((linkGroup, i) => {\n        for (let [linkName, link] of Object.entries(linkGroup)) {\n          link.groupName = i === 0 ? \"Main Links\" : \"Secondary Links\";\n          linkList.push(link);\n        }\n      });\n\n      //if there are no searchable items, add the various screens (pages) as searchable items\n      appState.setSearchables({\n        options: linkList,\n        selected: linkList[0],\n        getOptionLabel: (option) => option.title,\n        onChange: (option) => {\n          if (!option) return;\n          navigateTo(`${match.path}${option.path}`, props.history);\n        },\n      });\n    }\n\n    setSearchOptions(searchables.options?.flat() || []);\n    setGetOptionLabel(searchables.getOptionLabel);\n  }, [appState]);\n\n  const renderMenuList = useCallback((menuItems, secondary = false) => {\n    return menuItems.map(\n      ({ title, path, Icon, adminOnly, callback }, index) => {\n        if (adminOnly && !(user && user.role === \"admin\")) return null;\n        return (\n          <ListItem\n            button\n            key={title}\n            className={`menu-item menu-item--${path ? path.slice(4) : \"basic\"}`}\n            onClick={(ev) => {\n              path\n                ? handleLinkClick(`${match.path}${path}`)\n                : callback\n                ? callback(ev)\n                : logg(\n                    `No path or callback function were provided for menu item titled \"${title}\"`\n                  );\n            }}\n          >\n            <ListItemIcon>\n              <Icon\n                className={`${classes.icon} menu-item--icon ${\n                  secondary ? \"secondary\" : \"primary\"\n                }-menu-icon`}\n              />\n            </ListItemIcon>\n            {secondary\n              ? renderSecondaryListItemText(title)\n              : renderPrimaryListItemText(title)}\n          </ListItem>\n        );\n      }\n    );\n  });\n\n  const drawer = (\n    <div className={\"appbar--drawer\"}>\n      <div\n        className={`appbar--drawer--bar ${classes.drawer}`}\n        onClick={(ev) => ev.stopPropagation()}\n      >\n        {renderMenuList([closeLink])}\n      </div>\n\n      <Divider />\n      <List>{renderMenuList(mainLinks)}</List>\n      <Divider />\n      {renderMenuList(secondaryLinks, \"secondary\")}\n    </div>\n  );\n\n  return (\n    <div className={clsx(\"appbar-container unselectable\")}>\n      <AppBar className={`${classes.appBar} appbar`} elevation={1}>\n        <Toolbar className={\"appbar--toolbar\"}>\n          <IconButton\n            color=\"inherit\"\n            aria-label=\"Open drawer\"\n            onClick={handleDrawerToggle}\n            className={clsx(classes.iconButton, mobileOpen && \"menu--open\")}\n          >\n            <MenuIcon className={classes.menuButton} />\n          </IconButton>\n\n          <Typography\n            className={clsx(\n              `title nowrap ${classes.appBarText} readable`,\n              classes.title\n            )}\n            color=\"inherit\"\n            noWrap\n            onClick={() => handleLinkClick(`${match.path}${APP_ROUTE}`)}\n          >\n            Weiss English\n          </Typography>\n\n          <div className={clsx(\"search\", classes.search)}>\n            <Autocomplete\n              className={clsx(classes.autoComplete, \"auto-complete\")}\n              classes={{\n                root: classes.inputRoot,\n              }}\n              options={searchOptions}\n              groupBy={appState.searchables.groupBy}\n              //defaultValue={appState.searchables.list[0]}\n              getOptionsLabel={(option) => {\n                return option.title || option.name || option.v1;\n              }}\n              //TODO: fix this.. it doesnt get the updated getOptionLabel after appState.setSearchables()\n              autoComplete={true}\n              placeholder={searchOptions.placeholder || \"Search…\"}\n              autoHighlight={true}\n              autoSelect={true}\n              clearOnEscape={false}\n              disableClearable={false}\n              disableCloseOnSelect={false}\n              disabled={false}\n              loading={false}\n              loadingText={\"working..\"}\n              noOptionsText={\"Nothing was found.\"}\n              renderInput={(params) => (\n                <React.Fragment>\n                  <div className={clsx(\"search-icon\", classes.searchIcon)}>\n                    <SearchIcon />\n                  </div>\n\n                  <TextField\n                    {...params}\n                    // label=\"search-term\"\n                    variant=\"outlined\"\n                    fullWidth\n                  />\n                </React.Fragment>\n              )}\n              onChange={(ev, searchable) => {\n                sharedRefs.current.selectedSearchable = searchable;\n                logg(\"selected searchable: \", searchable);\n                if (appState.searchables.onChange) {\n                  appState.searchables.onChange(searchable);\n                }\n              }}\n              aria-label=\"search\"\n            ></Autocomplete>\n          </div>\n\n          {user ? (\n            <div>\n              <IconButton\n                aria-label=\"user account\"\n                aria-controls=\"menu-appbar\"\n                aria-haspopup=\"true\"\n                onClick={handleUserMenuClick}\n                color=\"inherit\"\n              >\n                <AccountCircle />\n              </IconButton>\n              <Menu\n                id=\"menu-appbar\"\n                anchorEl={anchorEl}\n                anchorOrigin={{\n                  vertical: \"top\",\n                  horizontal: \"right\",\n                }}\n                keepMounted\n                transformOrigin={{\n                  vertical: \"top\",\n                  horizontal: \"right\",\n                }}\n                open={open}\n                onClose={handleUserMenuClose}\n              >\n                <MenuItem disabled onClick={handleUserMenuClose}>\n                  Profile\n                </MenuItem>\n                <MenuItem disabled onClick={handleUserMenuClose}>\n                  My account\n                </MenuItem>\n                <MenuItem menuitem=\"logout\" onClick={handleUserMenuNav}>\n                  Log out\n                </MenuItem>\n              </Menu>\n            </div>\n          ) : (\n            <Button\n              className={clsx(\"login-btn\", classes.loginBtn)}\n              color=\"inherit\"\n              variant=\"outlined\"\n              size=\"small\"\n              onClick={() => handleLinkClick(`${match.path}${APP_ROUTE}login`)}\n            >\n              Login\n            </Button>\n          )}\n        </Toolbar>\n      </AppBar>\n      <nav className={clsx(\"appbar--nav\", classes.drawer)}>\n        {/* The implementation can be swapped with js to avoid SEO duplication of links. */}\n        {/* phone & tablet */}\n        <Hidden xlUp implementation=\"css\">\n          <Drawer\n            variant=\"temporary\"\n            container={props.container}\n            anchor={theme.direction === \"rtl\" ? \"right\" : \"left\"}\n            open={mobileOpen}\n            onClose={(ev) => setMobileOpen(false)}\n          >\n            {drawer}\n          </Drawer>\n        </Hidden>\n      </nav>\n    </div>\n  );\n};\n\nResponsiveDrawer.propTypes = {\n  history: PropTypes.object,\n};\n\nexport default withRouter(ResponsiveDrawer);\n\n/*\n <div className={clsx(\"settings_bar\", classes.settings_bar)}> </div>\n <Avatar\n                alt={user.first_name}\n                src={user.avatar}\n                className={classes.avatar}\n                onClick={() => handleLinkClick(\"/login\")}\n              />\n*/\n\n/*\n<InputBase\n              placeholder=\"Search…\"\n              classes={{\n                root: classes.inputRoot,\n                input: classes.inputInput\n              }}\n              inputProps={{ \"aria-label\": \"search\" }}\n            />\n*/\n","import React, { useContext, useEffect } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { AppContext } from \"../../contexts/AppContext.jsx\";\r\nimport { DeviceContext } from \"../../contexts/DeviceContext.jsx\";\r\nimport AppBar from \"../layout/AppBar.jsx\";\r\n\r\nimport clsx from \"clsx\";\r\n\r\nlet logg;\r\nconst label = \"EntireView\";\r\n\r\n/*\r\n--appbar-height-sm: 48px;\r\n--appbar-height-md: 56px;\r\n--appbar-height-lg: 64px;\r\n--appbar-height: 48px;\r\n\r\n*/\r\n\r\nconst EntireView = (props) => {\r\n\tconst [UTILS, appState] = useContext(AppContext);\r\n\t// const { isAppbarVisible } = appState;\r\n\tconst responsiveData = useContext(DeviceContext);\r\n\tconst { Logger, setDomProperty, synthVoice, climbFrom } = UTILS;\r\n\tlogg = logg || new Logger({ label }).logg;\r\n\tconst { className = \"\", children } = props;\r\n\r\n\tconst {\r\n\t\tisMobile,\r\n\t\torientation,\r\n\t\tscreenSize,\r\n\t\tisAppbarVisible,\r\n\t} = responsiveData;\r\n\tlet { device } = responsiveData;\r\n\tdevice =\r\n\t\tdevice === \"largeScreen\"\r\n\t\t\t? \"large-screen\"\r\n\t\t\t: device === \"xlScreen\"\r\n\t\t\t? \"xl-screen\"\r\n\t\t\t: device;\r\n\r\n\treturn (\r\n\t\t<div\r\n\t\t\tclassName={clsx(\r\n\t\t\t\t\"max-vh--portrait fullscreen\",\r\n\t\t\t\tisMobile ? \"mobile\" : \"desktop-or-laptop\",\r\n\t\t\t\tdevice && device,\r\n\t\t\t\torientation,\r\n\t\t\t\tscreenSize && `screen-size--${screenSize}`,\r\n\t\t\t\t// isMenuDrawerPermanent && \"menu-drawer--is-permanent\",\r\n\t\t\t\tclassName && className,\r\n\t\t\t\t`appbar--${isAppbarVisible ? \"visible\" : \"hidden\"}`\r\n\t\t\t)}\r\n\t\t\tonContextMenu={async (ev) => {\r\n\t\t\t\t//right click handler\r\n\t\t\t\tev.preventDefault();\r\n\t\t\t\tconst { target } = ev;\r\n\t\t\t\tif (!target) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconst readableElem = climbFrom(target).upTo({\r\n\t\t\t\t\tclassName: \"readable\",\r\n\t\t\t\t\tmaxIterations: 6,\r\n\t\t\t\t});\r\n\r\n\t\t\t\t// const readableElem = climbFrom(target).upTo({\r\n\t\t\t\t// \tclassName: \"readable\",\r\n\t\t\t\t// \tmaxIterations: 6,\r\n\t\t\t\t// });\r\n\t\t\t\tif (!readableElem) {\r\n\t\t\t\t\tev.stopPropagation();\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconst text = readableElem.textContent;\r\n\t\t\t\tif (!text) {\r\n\t\t\t\t\tev.stopPropagation();\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tawait synthVoice.say(text);\r\n\t\t\t\treturn;\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t<AppBar />\r\n\t\t\t{children}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nEntireView.propTypes = {\r\n\tclassName: PropTypes.string,\r\n\tchildren: PropTypes.oneOfType([\r\n\t\tPropTypes.arrayOf(PropTypes.node),\r\n\t\tPropTypes.node,\r\n\t]).isRequired,\r\n};\r\n\r\nexport default EntireView;\r\n","import React, { Component } from \"react\";\r\n\r\nimport View from \"../../components/layout/View.jsx\";\r\nimport Logger from \"../../lib/logg.js\";\r\nimport SageAdvice from \"../SageAdvice/SageAdvice.jsx\";\r\n\r\nconst label = \"ErrorBoundary\";\r\nconst { loggError } = new Logger({ label });\r\n\r\nclass ErrorBoundary extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { hasError: false };\r\n  }\r\n\r\n  static getDerivedStateFromError(error) {\r\n    // Update state so the next render will show the fallback UI.\r\n    return { hasError: true };\r\n  }\r\n\r\n  componentDidCatch(error, info) {\r\n    // You can also log the error to an error reporting service\r\n    loggError(\"Something went wrong! Displaying fallback UI\", error, info);\r\n  }\r\n\r\n  render() {\r\n    const { debug } = this.props;\r\n    if (this.state.hasError || debug) {\r\n      return (\r\n        <View animateChildren={true} responsive={true} key=\"error-view\">\r\n          <SageAdvice />\r\n        </View>\r\n      );\r\n    }\r\n\r\n    //no error, so show normal pages\r\n    return this.props.children;\r\n  }\r\n}\r\n\r\nexport default ErrorBoundary;\r\n","import React, { useState, useEffect, useContext } from \"react\";\r\nimport { AppContext } from \"../contexts/AppContext.jsx\";\r\n\r\nconst usePromiseKeeper = (config = {}) => {\r\n\t// e.g. : config: {label: \"componentlabel\"}\r\n\tconst [appUtils, appState, setAppState] = useContext(AppContext);\r\n\tconst { PromiseKeeper } = appUtils;\r\n\tconst promiseKeeper = new PromiseKeeper(config);\r\n\treturn promiseKeeper; //this gets return from the call to usePromiseKeeper(config)\r\n};\r\n\r\nexport default usePromiseKeeper;\r\n","import { gql } from \"@apollo/client\";\r\nexport const GetSlides = gql`\r\n\tquery GetSlides {\r\n\t\tslides {\r\n\t\t\tid\r\n\t\t\theader\r\n\t\t\tsubheader\r\n\t\t\tp1\r\n\t\t\tp2\r\n\t\t\timg {\r\n\t\t\t\turl\r\n\t\t\t}\r\n\t\t\tgif {\r\n\t\t\t\turl\r\n\t\t\t}\r\n\t\t\tvideo {\r\n\t\t\t\turl\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n`;\r\n","import { gql } from \"@apollo/client\";\r\n\r\nexport const GetRooms = gql`\r\n\tquery GetRooms {\r\n\t\trooms {\r\n\t\t\tname\r\n\t\t\troomKey\r\n\t\t\tstudents {\r\n\t\t\t\tid\r\n\t\t\t\tfirst_name\r\n\t\t\t\tlast_name\r\n\t\t\t}\r\n\t\t\tteachers {\r\n\t\t\t\tid\r\n\t\t\t\tfirst_name\r\n\t\t\t\tlast_name\r\n\t\t\t\timg {\r\n\t\t\t\t\turl\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tplatforms {\r\n\t\t\t\tid\r\n\t\t\t}\r\n\t\t\timg {\r\n\t\t\t\turl\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n`;\r\n","import {\r\n\tatom,\r\n\t//selector,\r\n\t// useRecoilState,\r\n\t//useRecoilValue,\r\n\t// RecoilRoot,\r\n} from \"recoil\";\r\n\r\nconst recoilState = atom({\r\n\tkey: \"roomsState\",\r\n\tdefault: [],\r\n});\r\n\r\nexport default recoilState;\r\n","import {\r\n\tatom,\r\n\t//selector,\r\n} from \"recoil\";\r\n\r\nconst recoilState = atom({\r\n\tkey: \"roomState\",\r\n\tdefault: {\r\n\t\troomKey: \"\",\r\n\t\tname: \"\",\r\n\t\ttitle: \"\",\r\n\t\tslides: [],\r\n\t\timg: {},\r\n\t\tvideo: {},\r\n\t\tgif: {},\r\n\t\tstudents: [],\r\n\t\tteachers: [],\r\n\t\tplatforms: [],\r\n\t\tcurrentSlideIndex: 0,\r\n\t},\r\n});\r\n\r\nexport default recoilState;\r\n","export const CONNECTION_STATES = {\r\n\tIS_NOT_READY: \"inactive\",\r\n\tIDLE: \"isIdle\",\r\n\tCONNECTING: \"isConnecting\",\r\n\tENTERING_ROOM: \"isEnteringRoom\",\r\n\tALREADY_INSIDE_ROOM: \"isAlreadyConnected\",\r\n\tENTERED_ROOM: \"isConnected\",\r\n\tCONNECTION_FAILED: \"connectionFailed\",\r\n\tDISCONNECTED: \"isDisconnected\",\r\n};\r\n","import {\r\n\tatom,\r\n\t//selector,\r\n\t// useRecoilState,\r\n\t//useRecoilValue,\r\n\t// RecoilRoot,\r\n} from \"recoil\";\r\n\r\nimport { CONNECTION_STATES } from \"../store/CONNECTION_STATES\";\r\n\r\nconst recoilState = atom({\r\n\tkey: \"socketState\", // unique ID (with respect to other atoms/selectors)\r\n\tdefault: CONNECTION_STATES.IS_NOT_READY,\r\n\t// default value (aka initial value),\r\n\tdangerouslyAllowMutability: true, //to allow adding event handlers (on()) and emitting events (emit())\r\n});\r\n\r\nexport default recoilState;\r\n","import {\r\n\tatom,\r\n\t// selector,\r\n} from \"recoil\";\r\n\r\nconst recoilState = atom({\r\n\tkey: \"client\",\r\n\tdefault: { id: \"\", type: \"student\" },\r\n});\r\n\r\nexport default recoilState;\r\n","import {\r\n\tatom,\r\n\t//selector,\r\n} from \"recoil\";\r\n\r\nconst recoilState = atom({\r\n\tkey: \"lessonState\",\r\n\tdefault: {\r\n\t\tcurrentSlideIndex: 0,\r\n\t\tslides: [],\r\n\t},\r\n});\r\n\r\nexport default recoilState;\r\n","import {\r\n\tatom,\r\n\t// selector,\r\n} from \"recoil\";\r\n\r\nconst recoilState = atom({\r\n\tkey: \"refs\",\r\n\tdefault: { current: {} },\r\n});\r\n\r\nexport default recoilState;\r\n","import { atom } from \"recoil\";\r\n\r\nconst state = atom({\r\n\tkey: \"socketConnection\", // unique ID (with respect to other atoms/selectors)\r\n\tdefault: null, // default value (aka initial value)\r\n});\r\n\r\nexport default state;\r\n","import React, {\r\n\tuseState,\r\n\tuseContext,\r\n\tuseRef,\r\n\tuseEffect,\r\n\t//useCallback,\r\n} from \"react\";\r\nimport { AppContext } from \"../../contexts/AppContext.jsx\";\r\nimport useLogg from \"../../hooks/useLogg.jsx\";\r\nimport usePromiseKeeper from \"../../hooks/usePromiseKeeper.jsx\";\r\n\r\nimport PropTypes from \"prop-types\";\r\nimport clsx from \"clsx\";\r\n\r\nimport ReactPlayer from \"react-player\";\r\n\r\nimport View from \"../layout/View.jsx\";\r\nimport \"./_VideoPlayer.scss\";\r\n\r\nconst CLOUD_VIDEOS = [\r\n\t{\r\n\t\toriginalTitle: \"Flying Above the Clouds\",\r\n\t\turl: \"https://www.youtube.com/watch?v=6AJl7DsL-1Y\",\r\n\t\tstartSecond: 15,\r\n\t\tstopSecond: 60 * 5 + 50,\r\n\t},\r\n];\r\n\r\nconst DEFAULT_VIDEO = CLOUD_VIDEOS[0];\r\n\r\nlet animationFrame;\r\nconst label = \"VideoPlayer\";\r\n\r\nconst VideoPlayer = React.forwardRef((props, ref) => {\r\n\t// const { startSecond = 0, stopSecond } = props;\r\n\tconst [appUtils] = useContext(AppContext);\r\n\tconst { DURATIONS } = appUtils;\r\n\tconst { loggError } = useLogg({ label });\r\n\tconst promiseKeeper = usePromiseKeeper({ label });\r\n\r\n\tconst refs = useRef({ videoPlayer: {} });\r\n\tconst [isPlaying, setIsPlaying] = useState(false);\r\n\tconst [video, setVideo] = useState(props.video || {});\r\n\r\n\t// const [url, setUrl] = useState(props.video?.url || DEFAULT_VIDEO.url);\r\n\t//const [pip, setPip] = useState(false);\r\n\tconst [playing] = useState(props.playing);\r\n\tconst [controls] = useState(props.controls || props.controls === undefined);\r\n\tconst [light] = useState(props.light);\r\n\tconst [volume] = useState(props.volume || 0.8);\r\n\tconst [muted] = useState(props.muted || false);\r\n\t//const [played, setPlayed] = useState(0);\r\n\t//const [loaded, setLoaded] = useState(0);\r\n\t//const [duration, setDuration] = useState(0);\r\n\t//const [playbackRate, setPlaybackRate] = useState(1.0);\r\n\tconst [loop] = useState(props.loop);\r\n\tconst [faded, setFaded] = useState(true);\r\n\tconst [fadeFromEnd] = useState(props.fadeFromEnd);\r\n\tconst [fadeInWhenReady] = useState(\r\n\t\tprops.fadeInWhenReady || props.fadeInWhenReady === undefined\r\n\t);\r\n\tconst [noInteraction] = useState(props.noInteraction);\r\n\r\n\tconst handleReady = (reactPlayerComponent) => {\r\n\t\t//put the current player in a closure\r\n\t\tconst _player = reactPlayerComponent;\r\n\t\t//jump to start position, if one was specified\r\n\t\tif (!video.startSecond || video.startSecond === 0) {\r\n\t\t\tpromiseKeeper.stall(DURATIONS.enter * 4, \"seekStart\").then(() => {\r\n\t\t\t\tsetFaded(false);\r\n\t\t\t});\r\n\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tconst _startSecond = video.startSecond;\r\n\r\n\t\twindow.requestAnimationFrame(() => {\r\n\t\t\t// setFaded(true);\r\n\t\t\tpromiseKeeper.stall(DURATIONS.enter * 2, \"seekStart\").then(() => {\r\n\t\t\t\t_player.seekTo(_startSecond, \"seconds\");\r\n\t\t\t\tanimationFrame = window.requestAnimationFrame(() => {\r\n\t\t\t\t\tpromiseKeeper\r\n\t\t\t\t\t\t.stall(DURATIONS.enter * 2, \"fadeIn\")\r\n\t\t\t\t\t\t.then(() => {\r\n\t\t\t\t\t\t\t//set the opacity of the current video opacity according to custom setting\r\n\t\t\t\t\t\t\trefs.current.videoPlayer.ref.wrapper.style.setProperty(\r\n\t\t\t\t\t\t\t\t\"opacity\",\r\n\t\t\t\t\t\t\t\tprops.video.opacity || 1\r\n\t\t\t\t\t\t\t);\r\n\r\n\t\t\t\t\t\t\t//and now finally show the video\r\n\t\t\t\t\t\t\tsetFaded(false);\r\n\t\t\t\t\t\t\tif (props.onReady) props.onReady(_startSecond);\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.catch((reason) => {\r\n\t\t\t\t\t\t\t// setFaded(false);\r\n\t\t\t\t\t\t\tloggError(reason);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t});\r\n\t};\r\n\r\n\tconst handleEnded = () => {\r\n\t\tconst { startSecond } = video;\r\n\t\tif (startSecond) {\r\n\t\t\tif (fadeFromEnd) {\r\n\t\t\t\twindow.requestAnimationFrame(() => {\r\n\t\t\t\t\tsetFaded(true);\r\n\t\t\t\t\tpromiseKeeper\r\n\t\t\t\t\t\t.stall(DURATIONS.enter * 10, \"fadeFromEnd\")\r\n\t\t\t\t\t\t.then(() => {\r\n\t\t\t\t\t\t\trefs.current.videoPlayer.ref.seekTo(\r\n\t\t\t\t\t\t\t\tstartSecond,\r\n\t\t\t\t\t\t\t\t\"seconds\"\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\tsetFaded(false);\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.catch((reason) => {\r\n\t\t\t\t\t\t\tloggError(reason);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t});\r\n\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\trefs.current.videoPlayer.ref.seekTo(startSecond, \"seconds\");\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleProgress = ({\r\n\t\tplayedSeconds,\r\n\t\tplayed,\r\n\t\tloadedSeconds,\r\n\t\tloaded,\r\n\t}) => {\r\n\t\tconst { stopSecond, startSecond } = video;\r\n\t\tif (stopSecond && playedSeconds >= stopSecond) {\r\n\t\t\tif (!refs.current.videoPlayer) {\r\n\t\t\t\tloggError(\r\n\t\t\t\t\t\"Can't seek back to provided startTime. Reason: videoPlayer is not stored inside refs.\"\r\n\t\t\t\t);\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t\tif (fadeFromEnd) {\r\n\t\t\t\tsetFaded(true);\r\n\t\t\t\twindow.requestAnimationFrame((timestamp) => {\r\n\t\t\t\t\trefs.current.videoPlayer.ref.seekTo(\r\n\t\t\t\t\t\tstartSecond || 0,\r\n\t\t\t\t\t\t\"seconds\"\r\n\t\t\t\t\t);\r\n\t\t\t\t\tpromiseKeeper\r\n\t\t\t\t\t\t.stall(DURATIONS.enter * 10, \"fadeFromEnd\")\r\n\t\t\t\t\t\t.then(() => {\r\n\t\t\t\t\t\t\twindow.requestAnimationFrame((timestamp) => {\r\n\t\t\t\t\t\t\t\tsetFaded(false);\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.catch((reason) => {\r\n\t\t\t\t\t\t\tloggError(reason);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t});\r\n\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\trefs.current.videoPlayer.ref.seekTo(startSecond || 0, \"seconds\");\r\n\t\t}\r\n\t};\r\n\r\n\tconst handlePlay = () => {\r\n\t\tsetIsPlaying(true);\r\n\t\t// setFaded(false);\r\n\t\tif (props.onPlay) props.onPlay();\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\treturn () => {\r\n\t\t\twindow.cancelAnimationFrame(animationFrame);\r\n\t\t};\r\n\t}, []);\r\n\r\n\tuseEffect(() => {\r\n\t\tconst sfx = props?.sfx?.url;\r\n\t\tif (props.video?.url) {\r\n\t\t\tif (fadeInWhenReady) {\r\n\t\t\t\tsetFaded(true);\r\n\t\t\t}\r\n\t\t\tsetVideo(props.video);\r\n\t\t}\r\n\t}, [props.video]);\r\n\r\n\treturn (\r\n\t\t<View\r\n\t\t\tfullsize={false}\r\n\t\t\tclassName={clsx(\r\n\t\t\t\t\"VideoPlayer\",\r\n\t\t\t\tisPlaying && \"react-player--playing\",\r\n\t\t\t\t(props.fullHeight === undefined || props.fullHeight) &&\r\n\t\t\t\t\t\"react-player--full-height\",\r\n\t\t\t\tprops.scaleToFitViewport &&\r\n\t\t\t\t\t\"react-player--scale-to-fit-viewport\",\r\n\t\t\t\tnoInteraction && \"react-player--no-interaction\",\r\n\t\t\t\tfaded && \"video-player--faded\"\r\n\t\t\t)}\r\n\t\t\tref={ref}\r\n\t\t\t{...props}\r\n\t\t>\r\n\t\t\t<ReactPlayer\r\n\t\t\t\tclassName={clsx(\"react-player\")}\r\n\t\t\t\turl={props?.sfx?.url || video.url}\r\n\t\t\t\twidth=\"100%\"\r\n\t\t\t\theight=\"100%\"\r\n\t\t\t\tplaying={playing}\r\n\t\t\t\tloop={loop}\r\n\t\t\t\tonPlay={handlePlay}\r\n\t\t\t\tref={(ref) => {\r\n\t\t\t\t\tif (!ref) return;\r\n\t\t\t\t\trefs.current.videoPlayer.ref = ref;\r\n\t\t\t\t}}\r\n\t\t\t\tonReady={handleReady}\r\n\t\t\t\tonSeek={props.handleSeek}\r\n\t\t\t\tonEnded={handleEnded}\r\n\t\t\t\tmuted={muted}\r\n\t\t\t\tvolume={volume}\r\n\t\t\t\tonProgress={handleProgress}\r\n\t\t\t\tlight={light} //light player means that it starts with only a thumbnail and await clicking on it\r\n\t\t\t\t//width=\"100%\"\r\n\t\t\t\tcontrols={controls}\r\n\t\t\t>\r\n\t\t\t\t{props.children}\r\n\t\t\t</ReactPlayer>\r\n\t\t</View>\r\n\t);\r\n});\r\n\r\nVideoPlayer.propTypes = {\r\n\tstartSecond: PropTypes.number,\r\n};\r\n\r\nexport default VideoPlayer;\r\n","const cardStyle = {\n  card: {\n    border: \"0\",\n    marginBottom: \"30px\",\n    marginTop: \"30px\",\n    borderRadius: \"6px\",\n    color: \"rgba(0, 0, 0, 0.87)\",\n    background: \"#fff\",\n    width: \"100%\",\n    boxShadow:\n      \"0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 1px 5px 0 rgba(0, 0, 0, 0.12)\",\n    position: \"relative\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    minWidth: \"0\",\n    wordWrap: \"break-word\",\n    fontSize: \".875rem\",\n    transition: \"all 300ms linear\"\n  },\n  cardPlain: {\n    background: \"transparent\",\n    boxShadow: \"none\"\n  },\n  cardCarousel: {\n    overflow: \"hidden\"\n  }\n};\n\nexport default cardStyle;\n","import React from \"react\";\n// nodejs library that concatenates classes\nimport classNames from \"classnames\";\n// nodejs library to set properties for components\nimport PropTypes from \"prop-types\";\n// @material-ui/core components\nimport { makeStyles } from \"@material-ui/core/styles\";\n// @material-ui/icons\n\n// core components\nimport styles from \"./cardStyle.js\";\n\nconst useStyles = makeStyles(styles);\n\nexport default function Card(props) {\n  const classes = useStyles();\n  const { className, children, plain, carousel, ...rest } = props;\n  const cardClasses = classNames({\n    [classes.card]: true,\n    [classes.cardPlain]: plain,\n    [classes.cardCarousel]: carousel,\n    [className]: className !== undefined,\n  });\n  return (\n    <div className={cardClasses} {...rest}>\n      {children}\n    </div>\n  );\n}\n\nCard.propTypes = {\n  className: PropTypes.string,\n  plain: PropTypes.bool,\n  carousel: PropTypes.bool,\n  children: PropTypes.node,\n};\n","import React, { useState, useContext, useEffect } from \"react\";\r\nimport { AppContext } from \"../../contexts/AppContext.jsx\";\r\nimport clsx from \"clsx\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport View from \"../../components/layout/View.jsx\";\r\nimport VideoPlayer from \"../../components/VideoPlayer/VideoPlayer.jsx\";\r\nimport Card from \"../../components/Card/Card.js\";\r\nimport \"./LogoScreen.scss\";\r\n\r\nconst BASE_ROUTE = \"/\";\r\n\r\nconst label = \"LogoScreen\";\r\nlet logg;\r\nlet loggError;\r\nlet promiseKeeper;\r\n\r\n// const musicPath = \"/music/bensound-goinghigher.mp3\";\r\n\r\nconst LogoScreen = (props) => {\r\n\tconst { route, showVideo = true } = props;\r\n\tconst { match } = route;\r\n\tconst [appUtils, appState] = useContext(AppContext);\r\n\tconst { request, Logger, PromiseKeeper, EMPTY_FUNC } = appUtils;\r\n\r\n\tuseEffect(() => {\r\n\t\tconst logger = new Logger({ label });\r\n\t\tlogg = logger.logg;\r\n\t\tloggError = logger.loggError;\r\n\t\tpromiseKeeper = new PromiseKeeper({ label });\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<View\r\n\t\t\tanimate={false}\r\n\t\t\tclassName={clsx(\r\n\t\t\t\t\"logo-screen position--relative\",\r\n\t\t\t\tshowVideo && \"hide-bg\"\r\n\t\t\t)}\r\n\t\t>\r\n\t\t\t<Link className={\"link\"} to={`${BASE_ROUTE}client-type-select`}>\r\n\t\t\t\t<Button\r\n\t\t\t\t\tclassName={\"enter-btn\"}\r\n\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\tcolor={showVideo ? \"secondary\" : \"secondary\"}\r\n\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t>\r\n\t\t\t\t\tEnter\r\n\t\t\t\t</Button>\r\n\t\t\t</Link>\r\n\r\n\t\t\t<h1 className={clsx(\"weiss-title unselectable\")}>\r\n\t\t\t\t<Link\r\n\t\t\t\t\tclassName={\"weiss-title--link\"}\r\n\t\t\t\t\tto={`${BASE_ROUTE}client-type-select`}\r\n\t\t\t\t>\r\n\t\t\t\t\tWeiss\r\n\t\t\t\t</Link>\r\n\t\t\t</h1>\r\n\t\t</View>\r\n\t);\r\n};\r\n\r\nexport default LogoScreen;\r\n","import React from \"react\";\r\nimport FileCopyIcon from \"@material-ui/icons/FileCopyOutlined\";\r\nimport SaveIcon from \"@material-ui/icons/Save\";\r\nimport HelpIcon from \"@material-ui/icons/Help\";\r\nimport PrintIcon from \"@material-ui/icons/Print\";\r\nimport ThumbUpIcon from \"@material-ui/icons/ThumbUp\";\r\nimport ShareIcon from \"@material-ui/icons/Share\";\r\nimport FavoriteIcon from \"@material-ui/icons/Favorite\";\r\nimport PanToolIcon from \"@material-ui/icons/PanTool\";\r\nimport ReportProblemIcon from \"@material-ui/icons/ReportProblem\";\r\n\r\nconst studentActions = {\r\n\traiseHand: {\r\n\t\ticon: <PanToolIcon />,\r\n\t\tlabel: \"Raise Hand\",\r\n\t\tname: \"raiseHand\",\r\n\t\tbodyText: \"🤚 I have something to say. \",\r\n\t},\r\n\t//{ icon: <SaveIcon />, label: \"Save\" },\r\n\t//{ icon: <PrintIcon />, label: \"Print\" },\r\n\t//{ icon: <ShareIcon />, label: \"Share\" },\r\n\tcare: {\r\n\t\ticon: <FavoriteIcon />,\r\n\t\tlabel: \"care\",\r\n\t\tname: \"care\",\r\n\t\tbodyText: \"🤩🤍 This is great!\",\r\n\t},\r\n\tlike: {\r\n\t\ticon: <ThumbUpIcon />,\r\n\t\tlabel: \"Like\",\r\n\t\tname: \"like\",\r\n\t\tbodyText: \"😃👍 I like this!\",\r\n\t},\r\n\thelp: {\r\n\t\ticon: <HelpIcon />,\r\n\t\tlabel: \"Help!\",\r\n\t\tname: \"help\",\r\n\t\tbodyText: \"🙏 please help me out. \",\r\n\t},\r\n};\r\n\r\nconst teacherActions = {\r\n\tbeQuiet: {\r\n\t\ticon: <ReportProblemIcon />,\r\n\t\tlabel: \"Silence\",\r\n\t\tname: \"beQuiet\",\r\n\t\tbodyText: \"🤫 Please be quiet.\",\r\n\t},\r\n\tniceWork: {\r\n\t\ticon: <ThumbUpIcon />,\r\n\t\tlabel: \"Props\",\r\n\t\tname: \"niceWork\",\r\n\t\tbodyText: \"👏😃 Nice work!\",\r\n\t},\r\n\r\n\tcare: {\r\n\t\ticon: <FavoriteIcon />,\r\n\t\tlabel: \"Care\",\r\n\t\tname: \"care\",\r\n\t\tbodyText: \"🤩🤍 This is great!\",\r\n\t},\r\n};\r\n\r\nconst platformActions = {\r\n\t//{ icon: <FileCopyIcon />, name: \"Copy\" },\r\n\r\n\t//{ icon: <SaveIcon />, label: \"Save\" },\r\n\t//{ icon: <PrintIcon />, label: \"Print\" },\r\n\tshare: { icon: <ShareIcon />, label: \"Share\", name: \"share\" },\r\n\t// { icon: <FavoriteIcon />, label: \"Like\", name: \"like\" },\r\n};\r\n\r\nexport { studentActions, teacherActions, platformActions };\r\n","import Logger from \"../../lib/logg.js\";\r\n\r\nconst label = \"clientTypes.js\";\r\n\r\nconst { logg, loggError } = new Logger({ label });\r\n\r\nclass ClassroomClient {\r\n\tclientId;\r\n\temail;\r\n\tfirst_name;\r\n\tlast_name;\r\n\troomKey;\r\n\timg = {};\r\n\tconstructor(config = {}) {\r\n\t\tconst {\r\n\t\t\temail,\r\n\t\t\tfirst_name,\r\n\t\t\tlast_name,\r\n\t\t\tclientId,\r\n\t\t\tuserType,\r\n\t\t\troomKey,\r\n\t\t\timg,\r\n\t\t} = config;\r\n\t\tif (!email || !first_name || !last_name)\r\n\t\t\tthrow new Error(\"Invalid user credentials\");\r\n\t\tObject.assign(this, {\r\n\t\t\temail,\r\n\t\t\tfirst_name,\r\n\t\t\tlast_name,\r\n\t\t\tclientId,\r\n\t\t\tuserType,\r\n\t\t\troomKey,\r\n\t\t\timg,\r\n\t\t});\r\n\t}\r\n\tgetInfo = () => {\r\n\t\tconst { clientId, email, first_name, last_name, roomKey } = this;\r\n\t\treturn { clientId, email, first_name, last_name, roomKey };\r\n\t};\r\n\tgetFullName = () => {\r\n\t\tconst result = `${this.first_name} ${this.last_name}`;\r\n\t\treturn result;\r\n\t};\r\n}\r\n\r\nclass Teacher extends ClassroomClient {\r\n\tconstructor(config = {}) {\r\n\t\tsuper(config);\r\n\t\tthis.clientType = \"teacher\";\r\n\t}\r\n}\r\nclass Student extends ClassroomClient {\r\n\tconstructor(config = {}) {\r\n\t\tsuper(config);\r\n\t\tthis.clientType = \"student\";\r\n\t}\r\n}\r\nclass Platform extends ClassroomClient {\r\n\tconstructor(config = {}) {\r\n\t\tsuper(config);\r\n\t\tthis.clientType = \"platform\";\r\n\t}\r\n}\r\n\r\nclass ClassroomClientList {\r\n\tclients = [];\r\n\tconstructor(config = {}) {\r\n\t\tconst { clientType, clients = [], roomKey } = config;\r\n\t\tif (!clientType) throw new Error(`No client type provided`);\r\n\t\tthis.clientType = clientType;\r\n\t\t//passed clients are Plain ol' JS objects. convert them to dedicated type\r\n\t\tthis.clients = clients.map((basicClient, i) => {\r\n\t\t\treturn new ClassroomClient(basicClient);\r\n\t\t});\r\n\t\tthis.roomKey = roomKey;\r\n\t}\r\n\tgetInfo = () => {\r\n\t\tconst { clients } = this;\r\n\t\tconst clientsInfo = clients.map((client) => {\r\n\t\t\tif (client.getInfo) {\r\n\t\t\t\tconst clientInfo = client.getInfo();\r\n\t\t\t\treturn clientInfo;\r\n\t\t\t} else {\r\n\t\t\t\tloggError(\"NO client.getInfo()\");\r\n\t\t\t}\r\n\t\t\treturn {};\r\n\t\t});\r\n\r\n\t\treturn clientsInfo;\r\n\t};\r\n\tgetClientsNames = () => {\r\n\t\tconst { clients } = this;\r\n\t\tconst clientsNames = clients.map((client) => {\r\n\t\t\tif (client.getFullName) {\r\n\t\t\t\tconst clientFullname = client.getFullName();\r\n\t\t\t\treturn clientFullname;\r\n\t\t\t} else {\r\n\t\t\t\tloggError(\"NO client.getFullName()\");\r\n\t\t\t}\r\n\t\t\treturn {};\r\n\t\t});\r\n\r\n\t\tconst concatenatedNames = clientsNames.join(\", \");\r\n\t\treturn concatenatedNames;\r\n\t};\r\n\taddClient = (client = {}) => {\r\n\t\tconst newClient = new ClassroomClient(client);\r\n\t\tnewClient.roomKey = this.roomKey;\r\n\t\tthis.clients.push(new ClassroomClient(client));\r\n\t\tlogg(\r\n\t\t\t\"classroomClientList.getClientsNames: \",\r\n\t\t\tthis.clients.getClientsNames()\r\n\t\t);\r\n\t};\r\n}\r\n\r\nexport {\r\n\tClassroomClientList,\r\n\tClassroomClient,\r\n\tTeacher,\r\n\tStudent,\r\n\tPlatform,\r\n\tclientTypes,\r\n};\r\n\r\nconst clientTypes = [\"student\", \"teacher\", \"platform\"];\r\n\r\nexport default clientTypes;\r\n","import React from \"react\";\r\nimport clsx from \"clsx\";\r\n\r\nconst FeedbackContent = (props) => {\r\n\tconst { Icon, iconName, headingText, bodyText } = props;\r\n\r\n\treturn (\r\n\t\t<div\r\n\t\t\tclassName={clsx(\r\n\t\t\t\t\"feedback--content\",\r\n\t\t\t\t`feedback--content---${iconName}`,\r\n\t\t\t\ticonName === \"like\" && \"gradient-mix\"\r\n\t\t\t)}\r\n\t\t>\r\n\t\t\t<Icon className={`feedback--icon`} />\r\n\t\t\t<div className=\"headingText stroke\">{headingText}</div>\r\n\t\t\t<div className=\"bodyText shadow\">{bodyText}</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default FeedbackContent;\r\n","import React, {\r\n\tuseContext,\r\n\tuseState,\r\n\tuseEffect,\r\n\tuseRef,\r\n\tSuspense,\r\n\tuseCallback,\r\n\tFragment,\r\n\tlazy,\r\n} from \"react\";\r\n\r\nimport { AppContext } from \"../../contexts/AppContext.jsx\";\r\n\r\n//import PropTypes from \"prop-types\";\r\n// import clsx from \"clsx\";\r\n\r\nimport useLogg from \"../../hooks/useLogg.jsx\";\r\nimport usePromiseKeeper from \"../../hooks/usePromiseKeeper.jsx\";\r\nimport { useQuery, gql } from \"@apollo/client\";\r\nimport { GetSlides } from \"../../gql/queries/GetSlides\";\r\nimport { GetRooms } from \"../../gql/queries/GetRooms\";\r\nimport {\r\n\t// atom,\r\n\t// selector,\r\n\tuseRecoilState,\r\n\tuseRecoilValue,\r\n\tuseSetRecoilState,\r\n} from \"recoil\";\r\nimport roomsState from \"../../store/rooms.atom.js\";\r\nimport roomState from \"../../store/room.atom.js\";\r\nimport socketState from \"../../store/socket.atom.js\";\r\nimport userState from \"../../store/user.atom.js\";\r\nimport clientState from \"../../store/client.atom.js\";\r\nimport lessonState from \"../../store/lesson.atom.js\";\r\nimport refsState from \"../../store/refs.atom.js\";\r\nimport socketConnectionState from \"../../store/socketConnection.atom.js\";\r\nimport { CONNECTION_STATES } from \"../../store/CONNECTION_STATES.js\";\r\nimport * as io from \"socket.io-client\";\r\nimport { localStorage } from \"../../lib/issy/index.js\";\r\nimport VideoPlayer from \"../VideoPlayer/VideoPlayer.jsx\";\r\nimport LOCAL_STORAGE_KEY from \"../../constants/localStorageKey.js\";\r\nimport LogoScreen from \"../../pages/LogoScreen/LogoScreen.jsx\";\r\nimport ErrorBoundary from \"../../pages/ErrorPage/ErrorPage.jsx\";\r\nimport \"./_RealtimeManager.scss\";\r\nimport ENDPOINTS from \"../../AJAX/ajax-endpoints.js\";\r\nimport {\r\n\tstudentActions,\r\n\tteacherActions,\r\n\tplatformActions,\r\n} from \"./clientActionTypes\";\r\nimport { Teacher } from \"./clientTypes.js\";\r\nimport clsx from \"clsx\";\r\nimport ThumbUpIcon from \"@material-ui/icons/ThumbUp\";\r\nimport FavoriteIcon from \"@material-ui/icons/Favorite\";\r\n\r\nimport FeedbackContent from \"./FeedbackContent.js\";\r\n\r\nimport { ToastContainer, toast } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\n\r\nconst baseRoute = \"/\";\r\nconst label = \"RealtimeIndex\";\r\nconst SECTION_ROUTE = `rt/`;\r\n\r\nlet isSocketInitialized = false;\r\n\r\nconst CLIENT_STORAGE_KEY = `${LOCAL_STORAGE_KEY}__client`;\r\nconst USER_STORAGE_KEY = `${LOCAL_STORAGE_KEY}__user`;\r\n\r\nconst Realtime = (props) => {\r\n\tconst [appUtils] = useContext(AppContext);\r\n\tconst {\r\n\t\tPromiseKeeper,\r\n\t\tLogger,\r\n\t\tgetUniqueString,\r\n\t\tCLIENT_ONLY,\r\n\t\tgetRandomUpTo,\r\n\t\trequest,\r\n\t} = appUtils;\r\n\r\n\tconst { logg, loggError } = useLogg({ label });\r\n\tconst promiseKeeper = usePromiseKeeper({ label });\r\n\r\n\tconst refs = useRef({ viewRef: {} });\r\n\r\n\t// const { loading, error, data } = useQuery(GetRooms);\r\n\r\n\tconst setRooms = useSetRecoilState(roomsState);\r\n\tconst [room, setRoom] = useRecoilState(roomState);\r\n\r\n\tconst [socket, setSocket] = useRecoilState(socketState);\r\n\tconst [user, setUser] = useRecoilState(userState);\r\n\tconst setLesson = useSetRecoilState(lessonState);\r\n\tconst [client, setClient] = useRecoilState(clientState);\r\n\tconst { slides } = useRecoilValue(lessonState);\r\n\r\n\tconst keepServersAwake = useCallback(async (serversUris = []) => {\r\n\t\ttry {\r\n\t\t\tlet ninjaCode = 0;\r\n\t\t\treturn promiseKeeper.every(\r\n\t\t\t\t5 * 1000,\r\n\t\t\t\t() => {\r\n\t\t\t\t\tninjaCode = getRandomUpTo(100);\r\n\t\t\t\t\tObject.values(serversUris).map(async (serverUri) => {\r\n\t\t\t\t\t\tconst postNinjaCode = await request(\"POST\", serverUri, {\r\n\t\t\t\t\t\t\tninjaCode,\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t});\r\n\t\t\t\t},\r\n\t\t\t\t\"keepServerAwake\"\r\n\t\t\t);\r\n\t\t} catch (err) {\r\n\t\t\tloggError(err);\r\n\t\t}\r\n\t}, []);\r\n\r\n\tconst toastNotification = useCallback(\r\n\t\tasync ({ actionName, teacher, bodyText, actions }) => {\r\n\t\t\tconst _bodyText = bodyText || actions[actionName]?.bodyText;\r\n\t\t\tif (!_bodyText) {\r\n\t\t\t\tloggError(\"no body text\");\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t\ttoast(_bodyText, {\r\n\t\t\t\tposition: \"top-left\",\r\n\t\t\t\tautoClose: 6000,\r\n\t\t\t\thideProgressBar: false,\r\n\t\t\t\tcloseOnClick: true,\r\n\t\t\t\tpauseOnHover: true,\r\n\t\t\t\tdraggable: true,\r\n\t\t\t\tclassName: `toast--${actionName}`,\r\n\t\t\t});\r\n\t\t},\r\n\t\t[]\r\n\t);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (user) return;\r\n\t\tconst localStorageUser = localStorage.getObj(USER_STORAGE_KEY);\r\n\t\tsetUser(localStorageUser);\r\n\t\tconst localStorageClient = localStorage.getObj(CLIENT_STORAGE_KEY);\r\n\t\tsetClient(localStorageClient);\r\n\t\tconst promiseTokeepServerAwake = keepServersAwake([\r\n\t\t\tENDPOINTS.ninjaCode.POST.ninjaCodeUser.path,\r\n\t\t\tENDPOINTS.ninjaCode.POST.ninjaCodeDomestic.path,\r\n\t\t]);\r\n\r\n\t\treturn () => {\r\n\t\t\tpromiseTokeepServerAwake.reject(\"component unmounts\");\r\n\t\t};\r\n\t}, []);\r\n\r\n\tuseEffect(() => {\r\n\t\tlocalStorage.setObj(CLIENT_STORAGE_KEY, client);\r\n\t\trefs.current.client = client;\r\n\t\tlogg(\"client: \", client);\r\n\t}, [client]);\r\n\r\n\tuseEffect(() => {\r\n\t\tlocalStorage.setObj(USER_STORAGE_KEY, user);\r\n\t\trefs.current.user = user;\r\n\t\tlogg(\"user: \", user);\r\n\t}, [user]);\r\n\r\n\tuseEffect(() => {\r\n\t\tlocalStorage.setObj(\"room\", room);\r\n\t\trefs.current.room = room;\r\n\t\tlogg(\"room: \", room);\r\n\t}, [room]);\r\n\r\n\t// useEffect(() => {\r\n\t// \tif (data?.rooms) {\r\n\t// \t\tsetRooms(data.rooms);\r\n\t// \t\tlogg(\"rooms: \", data.rooms);\r\n\t// \t}\r\n\t// }, [data]);\r\n\r\n\tconst initSocket = useCallback(({ user }) => {\r\n\t\ttry {\r\n\t\t\tif (!user) {\r\n\t\t\t\tconsole.log(`no user in initsocket(): `, user);\r\n\t\t\t\tthrow new Error(`no user provided`);\r\n\t\t\t}\r\n\t\t\tconst { email, password, role, first_name, last_name } = user;\r\n\r\n\t\t\t// setConnecting(true);\r\n\t\t\t// setFeedbackType(\"idle\");\r\n\r\n\t\t\tconst socket = io(\"/classrooms\");\r\n\r\n\t\t\t// promiseKeeper.stall(10 * 1000, \"connection timeout\").then(() => {\r\n\t\t\t// \t//if connected, this promise will not resolve and the callback will not execute\r\n\t\t\t// \t// setConnectionStatus(CONNECTION_STATES.IDLE);\r\n\t\t\t// \t// setServerMsg(\r\n\t\t\t// \t// \t\"Could not connect for some reason. Please check your internet connection and try again.\"\r\n\t\t\t// \t// );\r\n\t\t\t// });\r\n\r\n\t\t\tsocket.on(\"server__failedAuth\", ({ error }) => {\r\n\t\t\t\tdebugger;\r\n\t\t\t\t// setConnectionStatus(CONNECTION_STATES.CONNECTED);\r\n\t\t\t\t// animationFrame = window.requestAnimationFrame(() => {\r\n\t\t\t\t// \tsetServerMsg(content);\r\n\t\t\t\t// });\r\n\t\t\t});\r\n\r\n\t\t\tsocket.on(\"re:client__selectsRoom\", ({ classroom, lesson }) => {\r\n\t\t\t\tif (!classroom) {\r\n\t\t\t\t\tloggError(\r\n\t\t\t\t\t\t\"client__selectsRoom: Did not receive a classroom\"\r\n\t\t\t\t\t);\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tsetRoom(classroom);\r\n\t\t\t});\r\n\r\n\t\t\tsocket.on(\"server__authedClient\", ({ classrooms, client }) => {\r\n\t\t\t\tlogg(\"server__authedClient\", client);\r\n\r\n\t\t\t\tsetClient((_client) => ({ ..._client, id: client.id }));\r\n\t\t\t\tsetRooms(classrooms);\r\n\t\t\t});\r\n\r\n\t\t\tsocket.on(\"server__setsState\", ({ state, stateName }) => {\r\n\t\t\t\tswitch (stateName) {\r\n\t\t\t\t\tcase \"lesson\":\r\n\t\t\t\t\t\tsetLesson(state);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"rooms\":\r\n\t\t\t\t\t\tsetRooms(state);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"room\":\r\n\t\t\t\t\t\tsetRoom(state);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"user\":\r\n\t\t\t\t\t\tsetUser(state);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"client\":\r\n\t\t\t\t\t\tsetClient(state);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\tlogg(`server__setsState: ${stateName} state is now ${state}`);\r\n\t\t\t});\r\n\r\n\t\t\tsocket.on(\"server__teacherSendsAction\", (payload) => {\r\n\t\t\t\ttoastNotification({ ...payload, actions: teacherActions });\r\n\t\t\t});\r\n\t\t\tsocket.on(\"server__studentSendsAction\", (payload) => {\r\n\t\t\t\ttoastNotification({ ...payload, actions: studentActions });\r\n\t\t\t});\r\n\r\n\t\t\tsocket.on(\"connect\", function(msg) {\r\n\t\t\t\tconst content = `User ${email} has connected to realtime room.`;\r\n\t\t\t\t// setConnectionStatus(\r\n\t\t\t\t// \tCONNECTION_STATES.CONNECTING_FINAL_STAGE\r\n\t\t\t\t// );\r\n\t\t\t\tlogg(content);\r\n\r\n\t\t\t\tsocket.emit(\"userConnected\", {\r\n\t\t\t\t\tcontent,\r\n\t\t\t\t\temail,\r\n\t\t\t\t\tpassword,\r\n\t\t\t\t\t// clientType: clientType.toLowerCase(),\r\n\t\t\t\t});\r\n\r\n\t\t\t\tsocket.emit(\"client__providesCredentials\", {\r\n\t\t\t\t\tuser: {\r\n\t\t\t\t\t\temail,\r\n\t\t\t\t\t\tpassword,\r\n\t\t\t\t\t\tfirst_name,\r\n\t\t\t\t\t\tlast_name,\r\n\t\t\t\t\t\trole,\r\n\t\t\t\t\t},\r\n\t\t\t\t\t// clientType: clientType.toLowerCase(),\r\n\t\t\t\t\tclientType: client.type,\r\n\t\t\t\t});\r\n\t\t\t});\r\n\r\n\t\t\tsocket.on(\"server__sendsSlideIndex\", function(payload) {\r\n\t\t\t\tconst { currentSlideIndex } = payload;\r\n\t\t\t\tconst content = \"Received slide: \" + currentSlideIndex;\r\n\t\t\t\tlogg(payload);\r\n\t\t\t\tdebugger;\r\n\t\t\t});\r\n\r\n\t\t\tsocket.on(\"server__sendsRooms\", function(payload) {\r\n\t\t\t\tconst { rooms } = payload;\r\n\t\t\t\tdebugger;\r\n\t\t\t\t//todo : setRooms\r\n\t\t\t\tconst content = \"Received rooms: \";\r\n\t\t\t\tlogg(content, rooms);\r\n\t\t\t});\r\n\r\n\t\t\tsocket.on(\"disconnect\", function(msg) {\r\n\t\t\t\tlogg(\"Disconnected from realtime room. \\n\", msg);\r\n\t\t\t\t// setConnectionStatus(CONNECTION_STATES.DISCONNECTED);\r\n\t\t\t});\r\n\t\t\tsocket.on(\"user joined\", function(msg) {\r\n\t\t\t\tlogg(\"A user joined the RTEntrance room. \\n\", msg);\r\n\t\t\t});\r\n\r\n\t\t\treturn socket;\r\n\t\t} catch (err) {\r\n\t\t\tloggError(err.message);\r\n\t\t\tconsole.error(`error in initsocket(): `, err);\r\n\t\t}\r\n\t}, []);\r\n\r\n\tuseEffect(() => {\r\n\t\ttry {\r\n\t\t\tif (isSocketInitialized || !user) return;\r\n\t\t\tconst _socket = initSocket({\r\n\t\t\t\tuser,\r\n\t\t\t});\r\n\t\t\tisSocketInitialized = true;\r\n\t\t\tsetSocket(_socket);\r\n\t\t} catch (err) {\r\n\t\t\tconsole.log(err);\r\n\t\t}\r\n\t}, [user]);\r\n\r\n\treturn (\r\n\t\t<React.Fragment>\r\n\t\t\t<ToastContainer\r\n\t\t\t\tposition=\"top-left\"\r\n\t\t\t\tautoClose={500 * 6000}\r\n\t\t\t\thideProgressBar={false}\r\n\t\t\t\tnewestOnTop={false}\r\n\t\t\t\tcloseOnClick\r\n\t\t\t\trtl={false}\r\n\t\t\t\tpauseOnFocusLoss\r\n\t\t\t\tdraggable\r\n\t\t\t\tpauseOnHover\r\n\t\t\t/>\r\n\r\n\t\t\t{props.children}\r\n\t\t</React.Fragment>\r\n\t);\r\n};\r\n\r\nexport default Realtime;\r\n","const LOCAL_STORAGE_KEY = \"weissClass\";\r\nexport default LOCAL_STORAGE_KEY;\r\n","import React, {\r\n  useState,\r\n  useContext,\r\n  useRef,\r\n  useEffect,\r\n  //useCallback\r\n} from \"react\";\r\nimport PieChart from \"react-minimal-pie-chart\";\r\n//import FlightTakeoff from \"@material-ui/icons/FlightTakeoff\";\r\nimport { AppContext } from \"../../contexts/AppContext.jsx\";\r\nimport PropTypes from \"prop-types\";\r\nimport clsx from \"clsx\";\r\nimport DURATIONS from \"../../constants/durations.js\";\r\nimport \"./_PieChart.scss\";\r\n\r\nconst defaultData = [\r\n  {\r\n    color: \"var(--primary)\",\r\n    title: \"Student\",\r\n    value: 100,\r\n  },\r\n];\r\n\r\nlet animationFrame;\r\nlet logg;\r\n// let loggError;\r\n// let promiseKeeper;\r\nconst componentlabel = \"PieChart\";\r\n\r\nconst CustomPieChart = React.forwardRef((props, ref) => {\r\n  const {\r\n    data,\r\n    className = \"\",\r\n    animate = true,\r\n    animationDuration = DURATIONS.enter,\r\n    animationEasing = \"ease-out\", //or \"all\"\r\n    //animationEasing = \"all\",\r\n    //transition=\"all\"\r\n    cx = 50,\r\n    cy = 50,\r\n    labelStyle = {\r\n      fontFamily: \"inherit\",\r\n    },\r\n    //segmentsStyle = {},\r\n    //label={\"donut\"}\r\n    //label = \"\",\r\n    labelPosition = 55,\r\n    lengthAngle = 360,\r\n    lineWidth = 75,\r\n    onClick,\r\n    onMouseOut,\r\n    onMouseOver,\r\n    paddingAngle = 2,\r\n    radius = 45,\r\n    rounded = false,\r\n    startAngle = 180,\r\n    startReveal = 100,\r\n    viewBoxSize = [100, 100],\r\n    background = \"var(--white)\",\r\n\r\n    active = true,\r\n    showHoverAnimation = true,\r\n    animateSelected = true,\r\n    pauseAnimation = false,\r\n  } = props;\r\n\r\n  const [appUtils] = useContext(AppContext);\r\n  const { Logger } = appUtils;\r\n\r\n  // const [reveal] = useState(startReveal);\r\n  // const [selected, setSelected] = useState(\"\");\r\n  const [selectedSegment, setSelectedSegment] = useState(null);\r\n  const [selectedIndex, setSelectedIndex] = useState(-3);\r\n  const [hoveredIndex, setHoveredIndex] = useState(-3);\r\n  const [lastHoveredIndex, setLastHoveredIndex] = useState(-3);\r\n\r\n  const refs = useRef({ active: false });\r\n\r\n  const handleMouseOver = (ev, _data, sectionIndex) => {\r\n    setHoveredIndex(sectionIndex);\r\n    if (onMouseOver) onMouseOver(ev, _data, sectionIndex);\r\n  };\r\n\r\n  const handleMouseOut = (ev, _data, sectionIndex) => {\r\n    setLastHoveredIndex(sectionIndex);\r\n    if (onMouseOut) onMouseOut(ev, _data, sectionIndex);\r\n  };\r\n\r\n  const handleClick = (ev, chartData, sectionIndex) => {\r\n    if (!refs.current.active) return null;\r\n    const _selectedSeg = chartData[sectionIndex];\r\n    setSelectedSegment(_selectedSeg);\r\n    setSelectedIndex(sectionIndex);\r\n    if (onClick) {\r\n      onClick({\r\n        ev,\r\n        chartData,\r\n        sectionIndex,\r\n        title: _selectedSeg.title,\r\n      });\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    const logger = new Logger({ label: componentlabel });\r\n    logg = logger.logg;\r\n    // loggError = logger.loggError;\r\n    //promiseKeeper = new PromiseKeeper({ label: componentlabel });\r\n    return () => {\r\n      window.cancelAnimationFrame(animationFrame);\r\n    };\r\n  }, [Logger]);\r\n\r\n  useEffect(() => {\r\n    refs.current.active = active;\r\n  }, [active]);\r\n\r\n  useEffect(() => {\r\n    refs.current.lastHoveredIndex = lastHoveredIndex;\r\n  }, [lastHoveredIndex]);\r\n\r\n  useEffect(() => {\r\n    refs.current.hoveredIndex = hoveredIndex;\r\n  }, [hoveredIndex]);\r\n\r\n  useEffect(() => {\r\n    refs.current.selectedIndex = selectedIndex;\r\n  }, [selectedIndex]);\r\n\r\n  useEffect(() => {\r\n    refs.current.selectedSegment = selectedSegment;\r\n  }, [selectedSegment]);\r\n\r\n  useEffect(() => {}, [pauseAnimation]);\r\n\r\n  useEffect(() => {}, [animateSelected]);\r\n\r\n  useEffect(() => {\r\n    logg(\"data: \", data);\r\n  }, [data]);\r\n\r\n  return (\r\n    <PieChart\r\n      data={data || defaultData}\r\n      className={clsx(\r\n        \"PieChart fullsize\",\r\n        className && className,\r\n        active ? \"active\" : \"inactive\",\r\n        showHoverAnimation && \"showHoverAnimation\",\r\n        animateSelected && `animate-segment--${selectedIndex + 1}`,\r\n        pauseAnimation && \"pause-animation\",\r\n        `hovered-index--${hoveredIndex}`,\r\n        `last-hovered-index--${lastHoveredIndex}`,\r\n        `selected-index--${selectedIndex}`,\r\n        `selected-child-index--${selectedIndex + 1}`\r\n      )}\r\n      animate={animate}\r\n      animationDuration={animationDuration || DURATIONS.enter}\r\n      animationEasing={animationEasing}\r\n      //transition=\"all\"\r\n      cx={cx}\r\n      cy={cy}\r\n      labelStyle={labelStyle}\r\n      //label={\"donut\"}\r\n      label={(labelProps) => {\r\n        const { dataIndex } = labelProps;\r\n        return data?.[dataIndex]?.title?.toLowerCase?.() ?? {};\r\n      }}\r\n      labelPosition={labelPosition}\r\n      lengthAngle={lengthAngle}\r\n      lineWidth={lineWidth}\r\n      onClick={handleClick}\r\n      onMouseOut={handleMouseOut}\r\n      onMouseOver={handleMouseOver}\r\n      paddingAngle={paddingAngle}\r\n      radius={radius}\r\n      rounded={rounded}\r\n      startAngle={startAngle}\r\n      reveal={startReveal}\r\n      viewBoxSize={viewBoxSize}\r\n      background={background}\r\n      active={active}\r\n    />\r\n  );\r\n});\r\n\r\nCustomPieChart.propTypes = {\r\n  data: PropTypes.arrayOf(PropTypes.object),\r\n  onClick: PropTypes.func,\r\n  onMouseOver: PropTypes.func,\r\n  onMouseOut: PropTypes.func,\r\n  active: PropTypes.bool,\r\n  showHoverAnimation: PropTypes.bool,\r\n  animateSelected: PropTypes.bool,\r\n  pauseAnimation: PropTypes.bool,\r\n  className: PropTypes.string,\r\n  paddingAngle: PropTypes.number,\r\n};\r\n\r\nexport default CustomPieChart;\r\n","import {\r\n\tatom,\r\n\t//selector,\r\n\t// useRecoilState,\r\n\t//useRecoilValue,\r\n\t// RecoilRoot,\r\n} from \"recoil\";\r\n\r\nconst recoilState = atom({\r\n\tkey: \"soundState\",\r\n\tdefault: {\r\n\t\tisSoundOn: true,\r\n\t},\r\n});\r\n\r\nexport default recoilState;\r\n","import soundState from \"./soundState.atom.js\";\r\n\r\nimport {\r\n\t// atom,\r\n\tselector,\r\n} from \"recoil\";\r\n\r\nconst recoilState = selector({\r\n\tkey: \"isSlideOnSelector\",\r\n\tdefault: false,\r\n\tget: ({ get }) => {\r\n\t\tconst { isSoundOn } = get(soundState);\r\n\t\treturn isSoundOn;\r\n\t},\r\n});\r\n\r\nexport default recoilState;\r\n","import styled from \"styled-components\";\r\n\r\nexport const Heading1 = styled.h1`\r\n\tmargin: 0;\r\n\tposition-relative;\r\n\tmargin: 0;\r\n    font-size: 1.75rem;\r\n    overflow: visible;\r\n\r\n\t.letter {\r\n\t\tfont-size: 2.5rem;\r\n\t\ttext-align: center;\r\n\t\tuser-select: none;\r\n\t}\r\n\toverflow-wrap: anywhere;\r\n`;\r\n\r\nexport const Heading2 = styled.h2`\r\n\tmargin: 0;\r\n\tposition-relative;\r\n\tmargin-bottom: calc(4 * var(--spacing));\r\n\tmargin-top: 1rem;\r\n\t overflow: visible;\r\n\t.letter {\r\n\t\tfont-size: 1.5rem;\r\n\t\ttext-align: center;\r\n\t\tuser-select: none;\r\n\t}\r\n\toverflow-wrap: anywhere;\r\n`;\r\n","import React, {\r\n\tuseState,\r\n\tuseContext,\r\n\tuseRef,\r\n\tuseEffect,\r\n\tuseCallback,\r\n} from \"react\";\r\n\r\nimport PropTypes from \"prop-types\";\r\nimport Container from \"@material-ui/core/Container\";\r\nimport DURATIONS from \"../../constants/durations.js\";\r\nimport SplitText from \"react-pose-text\";\r\nimport { POSES } from \"../../constants/poses.js\";\r\nimport useLogg from \"../../hooks/useLogg.jsx\";\r\nimport {\r\n\tHeading1 as StyledHeading1,\r\n\tHeading2 as StyledHeading2,\r\n} from \"./Heading.styles.js\";\r\nimport clsx from \"clsx\";\r\n\r\nlet animationFrame;\r\nlet logg;\r\nlet loggError;\r\nlet promiseKeeper;\r\nconst label = \"Header\";\r\nconst CHAR_POSES = {\r\n\texit: {\r\n\t\topacity: 0,\r\n\t\tx: ({ charInWordIndex, numCharsInWord }) => {\r\n\t\t\tif (charInWordIndex < numCharsInWord / 2) {\r\n\t\t\t\treturn \"-100%\";\r\n\t\t\t}\r\n\t\t\treturn \"100%\";\r\n\t\t},\r\n\r\n\t\ty: ({ charInWordIndex }) => {\r\n\t\t\tif (charInWordIndex % 2 === 0) {\r\n\t\t\t\treturn \"-100%\";\r\n\t\t\t}\r\n\t\t\treturn \"100%\";\r\n\t\t},\r\n\t\t// color: ({ exitColor = COLORS.black }) => exitColor,\r\n\t\ttransition: ({\r\n\t\t\twordIndex,\r\n\t\t\tnumWords,\r\n\t\t\tcharIndex,\r\n\t\t\tnumChars,\r\n\t\t\tcharInWordIndex,\r\n\t\t\tnumCharsInWord,\r\n\t\t}) => ({\r\n\t\t\tduration: DURATIONS.exit * 1,\r\n\t\t}),\r\n\t},\r\n\r\n\tenter: {\r\n\t\topacity: 1,\r\n\t\tx: 0,\r\n\t\ty: 0,\r\n\t\tdelay: ({\r\n\t\t\twordIndex,\r\n\t\t\tnumWords,\r\n\t\t\tcharIndex,\r\n\t\t\tspeechRate,\r\n\t\t\tdelayPerWord = DURATIONS.enter * 0.1,\r\n\t\t}) => wordIndex * delayPerWord,\r\n\t\ttransition: ({\r\n\t\t\twordIndex,\r\n\t\t\tnumWords,\r\n\t\t\tcharIndex,\r\n\t\t\tnumChars,\r\n\t\t\tcharInWordIndex,\r\n\t\t\tnumCharsInWord,\r\n\t\t\tappearDuration = DURATIONS.enter,\r\n\t\t}) => ({\r\n\t\t\tduration: appearDuration * 3,\r\n\t\t\ttype: \"spring\",\r\n\t\t\tmass: 0.5,\r\n\t\t}),\r\n\t},\r\n\tdrag: {\r\n\t\ty: 0,\r\n\t\ttransition: ({ charInWordIndex }) => ({\r\n\t\t\ttype: \"spring\",\r\n\t\t\tvelocity: 150 * Math.sin(1 + charInWordIndex),\r\n\t\t\tdamping: 0,\r\n\t\t}),\r\n\t\t// background: \"rgba(257, 20, 0, 0)\"\r\n\t},\r\n\tdragEnd: {\r\n\t\ty: 0,\r\n\t\tx: 0,\r\n\t\ttransition: {\r\n\t\t\ttype: \"spring\",\r\n\t\t\tdamping: 10,\r\n\t\t\tstiffness: 750,\r\n\t\t},\r\n\t},\r\n};\r\n\r\nconst HEADER_VARIANTS = [\"h1\", \"h2\", \"marquee\", \"sub-marquee\"];\r\n\r\nconst SHADOW_VARIANTS = [\"none\", \"dark\"];\r\nconst TEXT_LOOKS = [\"cloudy\", \"flat\"];\r\n\r\nconst Header = React.forwardRef(\r\n\t(\r\n\t\t{\r\n\t\t\th = \"1\",\r\n\t\t\tcentered = false,\r\n\t\t\tvariant = HEADER_VARIANTS[0],\r\n\t\t\tshadow = SHADOW_VARIANTS[0],\r\n\t\t\ttextLook = TEXT_LOOKS[0],\r\n\t\t\tchildren,\r\n\t\t},\r\n\t\tref\r\n\t) => {\r\n\t\t// const [appUtils] = useContext(AppContext);\r\n\t\t// const { Logger, PromiseKeeper } = appUtils;\r\n\r\n\t\tconst { logg, loggError } = useLogg({ label });\r\n\r\n\t\tconst onTitleClick = useCallback((ev) => {\r\n\t\t\tlogg(\"title clicked\");\r\n\t\t}, []);\r\n\r\n\t\tconst StyledHeading = h == \"1\" ? StyledHeading1 : StyledHeading2;\r\n\r\n\t\treturn (\r\n\t\t\t<Container\r\n\t\t\t\tmaxWidth=\"sm\"\r\n\t\t\t\tclassName={`heading-container ${variant} stroke ${\r\n\t\t\t\t\tcentered ? \"centered\" : \"\"\r\n\t\t\t\t}`}\r\n\t\t\t\tstyle={{ overflow: \"visible\" }}\r\n\t\t\t\tonClick={onTitleClick}\r\n\t\t\t>\r\n\t\t\t\t<StyledHeading\r\n\t\t\t\t\tclassName={`heading heading-${h} h${h} shadow--${shadow} textLook--${textLook} readable`}\r\n\t\t\t\t>\r\n\t\t\t\t\t<SplitText\r\n\t\t\t\t\t\tcharPoses={CHAR_POSES}\r\n\t\t\t\t\t\twordPoses={POSES.word__draggable}\r\n\t\t\t\t\t\tclassName={`letter cursor--grab`}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{children}\r\n\t\t\t\t\t</SplitText>\r\n\t\t\t\t</StyledHeading>\r\n\t\t\t</Container>\r\n\t\t);\r\n\t}\r\n);\r\n\r\nHeader.propTypes = {\r\n\ttext: PropTypes.string,\r\n};\r\n\r\nexport default Header;\r\n","import { Howl, Howler } from \"howler\";\r\nconst SFX_DIR = \"/sfx/\";\r\n\r\nconst mainClickSound = new Howl({\r\n\tsrc: [`${SFX_DIR}sound_ex_machina_Button_Tick.mp3`],\r\n\tvolume: 0.4,\r\n});\r\n\r\nconst attentionSound = new Howl({\r\n\tsrc: [`${SFX_DIR}app_alert_tone_024.mp3`],\r\n\tvolume: 0.4,\r\n});\r\n\r\nconst toastSound = new Howl({\r\n\tsrc: [`${SFX_DIR}sound_ex_machina_Button_Tick.mp3`],\r\n\tvolume: 0.4,\r\n});\r\n\r\nexport { mainClickSound, attentionSound, toastSound };\r\n\r\n// const mainClickSound = new Howl({\r\n// \tsrc: [\"/sfx/multimedia_button_click_029.mp3\"],\r\n// \tvolume: 0.5,\r\n// });\r\n","import React, {\r\n\tuseState,\r\n\tuseContext,\r\n\tuseEffect,\r\n\tuseCallback,\r\n\tuseRef,\r\n} from \"react\";\r\nimport { AppContext } from \"../../contexts/AppContext.jsx\";\r\nimport clsx from \"clsx\";\r\nimport posed, { PoseGroup } from \"react-pose\";\r\nimport DURATIONS from \"../../constants/durations.js\";\r\nimport View from \"../../components/layout/View.jsx\";\r\nimport PieChart from \"../../components/PieChart/PieChart.jsx\";\r\n\r\nimport { useRecoilState, useRecoilValue } from \"recoil\";\r\n\r\nimport userState from \"../../store/user.atom.js\";\r\nimport isSoundOnState from \"../../store/isSoundOn.selector.js\";\r\nimport socketState from \"../../store/socket.atom.js\";\r\nimport socketConnectionState from \"../../store/socketConnection.atom.js\";\r\nimport clientState from \"../../store/client.atom.js\";\r\nimport { CONNECTION_STATES } from \"../../store/CONNECTION_STATES.js\";\r\n\r\nimport \"./Realtime.entrance.jsx\";\r\n\r\nimport Heading from \"../../components/Heading/Heading.js\";\r\n\r\nimport { Howl, Howler } from \"howler\";\r\nimport { mainClickSound } from \"../../constants/sounds.js\";\r\nimport Container from \"@material-ui/core/Container\";\r\nimport \"./_ClientTypeSelect.scss\";\r\n\r\nconst scaleInPoses = {\r\n\tenter: {\r\n\t\tscale: 1,\r\n\t\trotateZ: \"0deg\",\r\n\t\topacity: 1,\r\n\t\ttransition: { duration: 400 },\r\n\t},\r\n\texit: {\r\n\t\tscale: 0,\r\n\t\trotateZ: \"12deg\",\r\n\t\topacity: 0,\r\n\t\ttransition: { duration: 400 },\r\n\t},\r\n};\r\nconst ScaleIn = posed.div(scaleInPoses);\r\n\r\nlet animationFrame;\r\nlet logg;\r\nlet socketIOlogg;\r\nlet loggError;\r\nlet promiseKeeper;\r\nconst label = \"RTEntrance\";\r\n\r\nlet clientID;\r\n\r\nconst PIE_ENTER_DURATION = DURATIONS.enter * 2;\r\nconst CONNECTION_TIMEOUT_MS = 10 * 1000;\r\n\r\nconst pieChartPoses = {\r\n\tenter: {\r\n\t\topacity: 1,\r\n\t\t// x: \"0vw\",\r\n\t\trotateZ: \"0deg\",\r\n\t\t//delay: DURATIONS.enter * 4,\r\n\t\tscale: 1,\r\n\t\ttransition: {\r\n\t\t\tduration: PIE_ENTER_DURATION,\r\n\t\t\ttype: \"spring\",\r\n\t\t\tdamping: 200,\r\n\t\t\tstiffness: 100,\r\n\t\t},\r\n\t},\r\n\texit: {\r\n\t\topacity: 0,\r\n\t\t// x: \"100vw\",\r\n\t\trotateZ: \"270deg\",\r\n\t\tscale: 0,\r\n\t\tdelay: 0,\r\n\r\n\t\ttransition: {\r\n\t\t\tduration: DURATIONS.enter,\r\n\t\t\ttype: \"spring\",\r\n\t\t\tdelay: 0,\r\n\t\t},\r\n\t},\r\n};\r\n\r\nconst PosedPieContainer = posed.div(pieChartPoses);\r\n\r\nconst titlePoses = {\r\n\tenter: {\r\n\t\topacity: 1,\r\n\t\tx: \"0vw\",\r\n\t\tscale: 1,\r\n\t\tdelay: DURATIONS.enter * 2,\r\n\t\t// scale: 1,\r\n\t\ttransition: {\r\n\t\t\tduration: DURATIONS.enter,\r\n\t\t\tdelay: 0,\r\n\t\t\ttype: \"spring\",\r\n\t\t\tstiffness: 100,\r\n\t\t\tmass: 0.25,\r\n\t\t},\r\n\t},\r\n\texit: {\r\n\t\topacity: 0,\r\n\t\tx: \"100vw\",\r\n\t\tscale: 0,\r\n\t\tdelay: 0,\r\n\t\ttransition: {\r\n\t\t\tduration: DURATIONS.exit,\r\n\t\t\tdelay: 0,\r\n\t\t},\r\n\t},\r\n};\r\n\r\nconst PosedTitle = posed.div(titlePoses);\r\n\r\nconst feedbackPoses = {\r\n\tenter: {\r\n\t\topacity: 1,\r\n\t\trotateY: \"0deg\",\r\n\t\t// scale: 1,\r\n\t\t// scale: 1,\r\n\t\ttransition: {\r\n\t\t\tduration: DURATIONS.enter,\r\n\t\t},\r\n\t},\r\n\texit: {\r\n\t\topacity: 0,\r\n\t\tdelay: 0,\r\n\t\trotateY: \"180deg\",\r\n\t\t// scale: 0,\r\n\t\ttransition: {\r\n\t\t\tduration: DURATIONS.exit,\r\n\t\t\tdelay: 0,\r\n\t\t},\r\n\t},\r\n};\r\n\r\nconst PosedFeedback = posed.div(feedbackPoses);\r\n\r\nconst initialPieData = [\r\n\t{\r\n\t\tcolor: \"var(--primary)\",\r\n\t\ttitle: \"Student\",\r\n\t\tvalue: 50,\r\n\t},\r\n\t{\r\n\t\t// color: \"var(--primary)\",\r\n\t\tcolor: \"var(--secondary)\",\r\n\t\ttitle: \"Teacher\",\r\n\t\tvalue: 30,\r\n\t},\r\n\r\n\t{\r\n\t\tcolor: \"var(--canvas)\",\r\n\t\ttitle: \"Platform\",\r\n\t\tvalue: 20,\r\n\t},\r\n];\r\n\r\nconst CONNECTION_TIMEOUT_LABEL = \"connectionTimeout\";\r\n\r\nconst RTEntrance = (props) => {\r\n\tconst { route } = props;\r\n\tconst { match, location, history } = route;\r\n\tconst [appUtils, appState, setAppState] = useContext(AppContext);\r\n\tconst {\r\n\t\tPromiseKeeper,\r\n\t\tLogger,\r\n\t\tgetUniqueString,\r\n\t\tCLIENT_ONLY,\r\n\t\tnavigateTo,\r\n\t\tDEBUGGING,\r\n\t} = appUtils;\r\n\r\n\tconst {\r\n\t\tIS_NOT_READY,\r\n\t\tIDLE,\r\n\t\tCONNECTING,\r\n\t\tENTERING_ROOM,\r\n\t\tALREADY_INSIDE_ROOM,\r\n\t\tENTERED_ROOM,\r\n\t\tCONNECTION_FAILED,\r\n\t\tUNAUTHORIZED,\r\n\t\tDISCONNECTED,\r\n\t} = CONNECTION_STATES;\r\n\r\n\tconst user = useRecoilValue(userState);\r\n\tconst isSoundOn = useRecoilValue(isSoundOnState);\r\n\r\n\tconst [feedback, setFeedback] = useState(\"\");\r\n\tconst [connectionStatus, setConnectionStatus] = useRecoilState(\r\n\t\tsocketConnectionState\r\n\t);\r\n\tconst [isPieActive, setIsPieActive] = useState(false);\r\n\tconst [showRooms, setShowRooms] = useState(false);\r\n\tconst [showPieChart, setShowPieChart] = useState(false);\r\n\tconst [pieReveal, setPieReveal] = useState(100);\r\n\tconst [pieData, setPieData] = useState(props.pieData || initialPieData);\r\n\tconst [piePaddingAngle, setPiePaddingAngle] = useState(2);\r\n\r\n\tconst [client, setClient] = useRecoilState(clientState);\r\n\r\n\tconst socket = useRecoilValue(socketState);\r\n\r\n\tconst [showHeading, setShowHeading] = useState(false);\r\n\tconst [showGlass, setShowGlass] = useState(false);\r\n\r\n\tconst [animatedSegmentIndex, setAnimatedSegmentIndex] = useState(0);\r\n\r\n\tconst [hideElements, setHideElements] = useState(false);\r\n\r\n\t// const refs = useRecoilValue(refsState);\r\n\r\n\tconst navigateToClassroomSelect = useCallback((delay = 0) => {\r\n\t\tlogg(\"About to navigate to classroom\");\r\n\t\tpromiseKeeper.stall(delay, \"navigate to classroom\").then(() => {\r\n\t\t\tnavigateTo(`/classroom-select`, history);\r\n\t\t});\r\n\t});\r\n\r\n\tuseEffect(() => {\r\n\t\tconst logger = new Logger({ label });\r\n\t\tlogg = logger.logg;\r\n\t\tsocketIOlogg = new Logger({\r\n\t\t\tlabel: \"socketIOlogg\",\r\n\t\t\tstylePreset: \"orange\",\r\n\t\t}).logg;\r\n\t\tloggError = logger.loggError;\r\n\t\tpromiseKeeper = new PromiseKeeper({ label });\r\n\t\tclientID = getUniqueString();\r\n\t\tif (!appState.realtime) {\r\n\t\t\tloggError(\"No realtime state..?\");\r\n\t\t} else {\r\n\t\t\tappState.realtime.clientID = clientID;\r\n\t\t}\r\n\r\n\t\tpromiseKeeper.stall(0.5 * 1000, \"show PieChart\").then(() => {\r\n\t\t\tsetShowPieChart(true);\r\n\t\t\tpromiseKeeper.stall(1 * 1000, \"show glass\").then(() => {\r\n\t\t\t\tsetShowGlass(true);\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\tpromiseKeeper.stall(PIE_ENTER_DURATION).then(() => {\r\n\t\t\tsetConnectionStatus(CONNECTION_STATES.IDLE);\r\n\t\t});\r\n\r\n\t\treturn () => {\r\n\t\t\twindow.cancelAnimationFrame(animationFrame);\r\n\r\n\t\t\tpromiseKeeper.rejectAll();\r\n\t\t};\r\n\t}, []);\r\n\r\n\tuseEffect(() => {\r\n\t\t// refs.current.connectionStatus = connectionStatus;\r\n\t\tlet newFeedback = \"\";\r\n\t\tswitch (connectionStatus) {\r\n\t\t\tcase IS_NOT_READY:\r\n\t\t\t\t// setFeedback(\"\");\r\n\t\t\t\tnewFeedback = \"\";\r\n\t\t\t\tsetIsPieActive(false);\r\n\t\t\t\tbreak;\r\n\t\t\tcase IDLE:\r\n\t\t\t\t// setFeedback(\"\");\r\n\t\t\t\tnewFeedback = \"\";\r\n\t\t\t\tsetIsPieActive(true);\r\n\t\t\t\tbreak;\r\n\t\t\tcase CONNECTING:\r\n\t\t\t\tsetIsPieActive(false);\r\n\t\t\t\t//setFeedback(\"Connecting..\");\r\n\t\t\t\tnewFeedback = \"Connecting..\";\r\n\t\t\t\tbreak;\r\n\t\t\tcase ENTERING_ROOM:\r\n\t\t\t\tnewFeedback = \"Almost there..\";\r\n\t\t\t\t// setFeedback(\"Almost there..\");\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase ALREADY_INSIDE_ROOM:\r\n\t\t\t\tpromiseKeeper.reject(\r\n\t\t\t\t\tCONNECTION_TIMEOUT_LABEL,\r\n\t\t\t\t\t\"connection is active.\"\r\n\t\t\t\t);\r\n\t\t\t\tnewFeedback = \"We're already inside :) \";\r\n\t\t\t\tpromiseKeeper\r\n\t\t\t\t\t.stall(DURATIONS.enter * 3, \"hide pie chart\")\r\n\t\t\t\t\t.then(() => {\r\n\t\t\t\t\t\t// setShowPieChart(false);\r\n\r\n\t\t\t\t\t\t// animationFrame = window.requestAnimationFrame(() => {\r\n\r\n\t\t\t\t\t\tdebugger;\r\n\t\t\t\t\t\t// navigateToClassroomSelect();\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t// });\r\n\t\t\t\treturn;\r\n\t\t\t\tbreak;\r\n\t\t\tcase ENTERED_ROOM:\r\n\t\t\t\tnewFeedback = \"We're online! :D \";\r\n\t\t\t\tpromiseKeeper.reject(\r\n\t\t\t\t\tCONNECTION_TIMEOUT_LABEL,\r\n\t\t\t\t\t\"connection established\"\r\n\t\t\t\t);\r\n\t\t\t\tdebugger;\r\n\r\n\t\t\t\tsetShowGlass(true);\r\n\t\t\t\t// animationFrame = window.requestAnimationFrame(() => {\r\n\t\t\t\t// return navigateToClassroomSelect();\r\n\t\t\t\t// });\r\n\t\t\t\tpromiseKeeper\r\n\t\t\t\t\t.stall(DURATIONS.enter * 1, \"hide PieChart\")\r\n\t\t\t\t\t.then(() => {\r\n\t\t\t\t\t\tsetShowPieChart(false);\r\n\t\t\t\t\t\tpromiseKeeper\r\n\t\t\t\t\t\t\t.stall(1 * 1000, \"navigate to classroom\")\r\n\t\t\t\t\t\t\t.then(() => {\r\n\t\t\t\t\t\t\t\t//debugger;\r\n\t\t\t\t\t\t\t\t// navigateToClassroomSelect(DURATIONS.enter * 1);\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t});\r\n\t\t\t\treturn;\r\n\r\n\t\t\t\tbreak;\r\n\t\t\tcase CONNECTION_FAILED:\r\n\t\t\t\t// setFeedback(\r\n\t\t\t\t// \t\"Could not connect. \\nPlease check your internet connection and try again.\"\r\n\t\t\t\t// );\r\n\t\t\t\tnewFeedback =\r\n\t\t\t\t\t\"Could not connect. \\nPlease check your internet connection and try again.\";\r\n\t\t\t\tsetIsPieActive(true);\r\n\t\t\t\tpromiseKeeper.stall(12 * 1000).then(() => {\r\n\t\t\t\t\tsetConnectionStatus(IDLE);\r\n\t\t\t\t});\r\n\t\t\t\tbreak;\r\n\t\t\tcase UNAUTHORIZED:\r\n\t\t\t\tnewFeedback = \"You are not authorized to enter :O \";\r\n\t\t\t\t//todo: nav to login page\r\n\t\t\t\tsetIsPieActive(true);\r\n\t\t\t\tpromiseKeeper.stall(12 * 1000).then(() => {\r\n\t\t\t\t\tsetConnectionStatus(IDLE);\r\n\t\t\t\t});\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase DISCONNECTED:\r\n\t\t\t\t// setFeedback(\"...aaaand we're offline :P \\nReconnecting...\");\r\n\t\t\t\tnewFeedback = \"Reconnecting...\";\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tloggError(\"Unsupported connection status!\");\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t\tsetFeedback(newFeedback);\r\n\t}, [connectionStatus]);\r\n\r\n\treturn (\r\n\t\t<View\r\n\t\t\tclassName={clsx(\r\n\t\t\t\t\"realtime-entrance vh-max--portrait---minus-appbar\",\r\n\t\t\t\tconnectionStatus\r\n\t\t\t)}\r\n\t\t\tanimate={false}\r\n\t\t\tfullsize={false}\r\n\t\t>\r\n\t\t\t<div\r\n\t\t\t\tclassName={clsx(\r\n\t\t\t\t\t\"background\",\r\n\t\t\t\t\tconnectionStatus === CONNECTION_STATES.CONNECTING\r\n\t\t\t\t\t\t? \"running\"\r\n\t\t\t\t\t\t: \"paused\"\r\n\t\t\t\t)}\r\n\t\t\t></div>\r\n\r\n\t\t\t<div className={clsx(\"section section--header flex\")}>\r\n\t\t\t\t<Container maxWidth=\"sm\">\r\n\t\t\t\t\t<ScaleIn\r\n\t\t\t\t\t\tinitialPose=\"exit\"\r\n\t\t\t\t\t\tpose={hideElements ? \"exit\" : \"enter\"}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Heading h=\"1\">What are you, exactly?</Heading>\r\n\t\t\t\t\t</ScaleIn>\r\n\t\t\t\t</Container>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className={clsx(\"section section--pie\")}>\r\n\t\t\t\t<PosedPieContainer\r\n\t\t\t\t\tclassName={clsx(\r\n\t\t\t\t\t\t\"pie-container fullsize\",\r\n\t\t\t\t\t\t[ENTERED_ROOM, ALREADY_INSIDE_ROOM].includes(\r\n\t\t\t\t\t\t\tconnectionStatus\r\n\t\t\t\t\t\t) && \"pause-children\"\r\n\t\t\t\t\t)}\r\n\t\t\t\t\tpose={showPieChart ? \"enter\" : \"exit\"}\r\n\t\t\t\t\tinitialPose=\"exit\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<PieChart\r\n\t\t\t\t\t\tactive={isPieActive}\r\n\t\t\t\t\t\treveal={pieReveal}\r\n\t\t\t\t\t\tstartReveal={pieReveal}\r\n\t\t\t\t\t\tpaddingAngle={piePaddingAngle}\r\n\t\t\t\t\t\tclassName={clsx(showGlass && \"glass-container\")}\r\n\t\t\t\t\t\tanimateSelected={\r\n\t\t\t\t\t\t\tanimatedSegmentIndex > 0 ||\r\n\t\t\t\t\t\t\tBoolean(\r\n\t\t\t\t\t\t\t\t[\r\n\t\t\t\t\t\t\t\t\tCONNECTING,\r\n\t\t\t\t\t\t\t\t\tENTERING_ROOM,\r\n\t\t\t\t\t\t\t\t\tENTERED_ROOM,\r\n\t\t\t\t\t\t\t\t\tALREADY_INSIDE_ROOM,\r\n\t\t\t\t\t\t\t\t].includes(connectionStatus)\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tshowHoverAnimation={Boolean(\r\n\t\t\t\t\t\t\t[IDLE].includes(connectionStatus)\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\tdata={pieData}\r\n\t\t\t\t\t\tonClick={({ chartData, sectionIndex, title }) => {\r\n\t\t\t\t\t\t\tif (\r\n\t\t\t\t\t\t\t\t[ENTERED_ROOM, ALREADY_INSIDE_ROOM].includes(\r\n\t\t\t\t\t\t\t\t\tconnectionStatus\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t) {\r\n\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tisSoundOn && mainClickSound.play();\r\n\r\n\t\t\t\t\t\t\tif (!user) {\r\n\t\t\t\t\t\t\t\tloggError(\r\n\t\t\t\t\t\t\t\t\t\"Cannot connect to socket without being logged in.\"\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\treturn navigateTo(\"./login\", history);\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tconst type = title?.toLowerCase() ?? \"\";\r\n\r\n\t\t\t\t\t\t\tsetClient((_client) => ({\r\n\t\t\t\t\t\t\t\t..._client,\r\n\t\t\t\t\t\t\t\ttype,\r\n\t\t\t\t\t\t\t}));\r\n\r\n\t\t\t\t\t\t\t//animate the selected section of PieChart\r\n\t\t\t\t\t\t\tsetAnimatedSegmentIndex(sectionIndex + 1);\r\n\r\n\t\t\t\t\t\t\tpromiseKeeper\r\n\t\t\t\t\t\t\t\t.stall(1000 * 0.2, \"hide glass\")\r\n\t\t\t\t\t\t\t\t.andThen(() => {\r\n\t\t\t\t\t\t\t\t\tsetShowGlass(false);\r\n\r\n\t\t\t\t\t\t\t\t\tpromiseKeeper\r\n\t\t\t\t\t\t\t\t\t\t.stall(1 * 1000, \"hide pie chart\")\r\n\t\t\t\t\t\t\t\t\t\t.then(() => {\r\n\t\t\t\t\t\t\t\t\t\t\tsetShowPieChart(false);\r\n\t\t\t\t\t\t\t\t\t\t\tsetHideElements(true);\r\n\r\n\t\t\t\t\t\t\t\t\t\t\tnavigateToClassroomSelect(\r\n\t\t\t\t\t\t\t\t\t\t\t\tDURATIONS.enter * 1\r\n\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t\t// setConnectionStatus(CONNECTION_STATES.ENTERED_ROOM);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t></PieChart>\r\n\t\t\t\t</PosedPieContainer>\r\n\t\t\t</div>\r\n\t\t\t<div className={clsx(\"section section--feedback flex\")}>\r\n\t\t\t\t<PoseGroup>\r\n\t\t\t\t\t{connectionStatus !== CONNECTION_STATES.IDLE && (\r\n\t\t\t\t\t\t<PosedFeedback key=\"server-msg--container\">\r\n\t\t\t\t\t\t\t<pre\r\n\t\t\t\t\t\t\t\tclassName={clsx(\r\n\t\t\t\t\t\t\t\t\t\"server-msg--container wrap-entire-lines\",\r\n\t\t\t\t\t\t\t\t\tconnectionStatus\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{feedback}\r\n\t\t\t\t\t\t\t</pre>\r\n\t\t\t\t\t\t</PosedFeedback>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</PoseGroup>\r\n\t\t\t</div>\r\n\t\t</View>\r\n\t);\r\n};\r\n\r\nexport default RTEntrance;\r\n","import React from \"react\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\nimport View from \"../layout/View.jsx\";\r\nimport { makeStyles } from \"@material-ui/styles\";\r\nimport \"./_Spinner.scss\";\r\nimport clsx from \"clsx\";\r\n\r\nimport posed from \"react-pose\";\r\nimport { POSES } from \"../../constants/poses.js\";\r\n\r\nconst DRAGGABLE_POSE = {\r\n\tdraggable: true,\r\n\tdragEnd: {\r\n\t\tx: 0,\r\n\t\ty: 0, //spring back to original position\r\n\t\ttransition: {\r\n\t\t\ttype: \"spring\",\r\n\t\t\tmass: 2,\r\n\t\t},\r\n\t},\r\n};\r\n\r\nconst PosedContainer = posed.div(DRAGGABLE_POSE);\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\tspinner: (props) => ({\r\n\t\tbackgroundImage:\r\n\t\t\t\"linear-gradient(345deg, var(--white), var(--transparent-secondary))\",\r\n\t\tbackgroundOrigin: \"border-box\",\r\n\t\tborderRadius: \"50%\",\r\n\t\tpadding: 0.8,\r\n\t\tmargin: \"auto\",\r\n\t\topacity: 1,\r\n\t\tcolor: \"white\",\r\n\t\t\"& svg\": {\r\n\t\t\t// color: \"white\",\r\n\t\t\topacity: 0.5,\r\n\t\t},\r\n\t}),\r\n}));\r\n\r\nconst WeissSpinner = (props) => {\r\n\tconst { className, style } = props;\r\n\tconst classes = useStyles();\r\n\treturn (\r\n\t\t<View\r\n\t\t\t//animate={true}\r\n\t\t\t//transition={\"fadeIn\"}\r\n\t\t\tclassName={clsx(\r\n\t\t\t\t\"spinner-view flex cloud-up centered fixed\",\r\n\t\t\t\tclassName && className\r\n\t\t\t)}\r\n\t\t\tstyle={style || {}}\r\n\t\t>\r\n\t\t\t<PosedContainer>\r\n\t\t\t\t<div className=\"tight-container\">\r\n\t\t\t\t\t<CircularProgress\r\n\t\t\t\t\t\tclassName={clsx(\"weiss-spinner\", classes.spinner)}\r\n\t\t\t\t\t\tsize={60}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t</PosedContainer>\r\n\t\t</View>\r\n\t);\r\n};\r\n\r\nexport default WeissSpinner;\r\n","import roomState from \"./room.atom.js\";\r\n\r\nimport {\r\n\t// atom,\r\n\tselector,\r\n} from \"recoil\";\r\n\r\nconst recoilState = selector({\r\n\tkey: \"currentSlideState\",\r\n\tdefault: {},\r\n\tget: ({ get }) => {\r\n\t\tconst { slides, currentSlideIndex = 0 } = get(roomState);\r\n\r\n\t\tif (!slides || !slides[currentSlideIndex]) return null;\r\n\t\treturn slides[currentSlideIndex];\r\n\t},\r\n});\r\n\r\nexport default recoilState;\r\n","const clientsTypes = [\"teachers\", \"students\", \"platforms\"];\r\nexport default clientsTypes;\r\n","import React, {\r\n\tuseContext,\r\n\tuseEffect,\r\n\tuseState,\r\n\tuseRef,\r\n\tSuspense,\r\n\tuseCallback,\r\n} from \"react\";\r\n\r\nimport useLogg from \"../../hooks/useLogg.jsx\";\r\nimport usePromiseKeeper from \"../../hooks/usePromiseKeeper.jsx\";\r\nimport SpeedDial from \"@material-ui/lab/SpeedDial\";\r\nimport Backdrop from \"@material-ui/core/Backdrop\";\r\nimport SpeedDialIcon from \"@material-ui/lab/SpeedDialIcon\";\r\nimport SpeedDialAction from \"@material-ui/lab/SpeedDialAction\";\r\nimport {\r\n\t// atom,\r\n\t// selector,\r\n\tuseRecoilState,\r\n\tuseRecoilValue,\r\n\tuseSetRecoilState,\r\n} from \"recoil\";\r\nimport socketState from \"../../store/socket.atom.js\";\r\nimport clientState from \"../../store/client.atom.js\";\r\nimport roomState from \"../../store/room.atom.js\";\r\nimport isSoundOnState from \"../../store/isSoundOn.selector.js\";\r\nimport {\r\n\tstudentActions,\r\n\tteacherActions,\r\n\tplatformActions,\r\n} from \"../RealtimeManager/clientActionTypes.js\";\r\nimport clsx from \"clsx\";\r\nimport { Howl, Howler } from \"howler\";\r\nimport \"./SpeedDial.scss\";\r\n\r\nimport { attentionSound } from \"../../constants/sounds.js\";\r\n\r\nconst label = \"Text\";\r\nconst Text = ({ children = \"\" }) => {\r\n\t// const [appUtils] = useContext(AppContext);\r\n\t// const { PromiseKeeper, Logger } = appUtils;\r\n\r\n\tconst { logg, loggError } = useLogg({ label });\r\n\tconst [clientActions, setClientActions] = useState(studentActions);\r\n\tconst promiseKeeper = usePromiseKeeper({ label });\r\n\r\n\tconst [isBackdropVisible, setIsBackgroundVisible] = useState(false);\r\n\tconst [isSpeedDialOpen, setIsSpeedDialOpen] = useState(false);\r\n\tconst refs = useRef({ selectedAction: {} });\r\n\r\n\tconst socket = useRecoilValue(socketState);\r\n\tconst client = useRecoilValue(clientState);\r\n\tconst room = useRecoilValue(roomState);\r\n\tconst isSoundOn = useRecoilValue(isSoundOnState);\r\n\r\n\tconst [selectedAction, setSelectedAction] = useState(null);\r\n\r\n\tconst handleVisibility = () => {\r\n\t\tsetIsBackgroundVisible((prevHidden) => !prevHidden);\r\n\t};\r\n\r\n\tconst handleSpeedDialOpen = () => {\r\n\t\tsetIsSpeedDialOpen(true);\r\n\t};\r\n\r\n\tconst handleSpeedDialClose = () => {\r\n\t\tsetIsSpeedDialOpen(false);\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tif (!isSpeedDialOpen) {\r\n\t\t\tsetSelectedAction(null);\r\n\t\t}\r\n\t}, [isSpeedDialOpen]);\r\n\r\n\tuseEffect(() => {\r\n\t\trefs.current.selectedAction = selectedAction;\r\n\t}, [selectedAction]);\r\n\r\n\tuseEffect(() => {\r\n\t\trefs.current.client = client;\r\n\r\n\t\tlet clientActions;\r\n\t\tswitch (client.type) {\r\n\t\t\tcase \"student\":\r\n\t\t\t\tclientActions = studentActions;\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"teacher\":\r\n\t\t\t\tclientActions = teacherActions;\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"platform\":\r\n\t\t\t\tclientActions = platformActions;\r\n\t\t\tdefault:\r\n\t\t\t\tclientActions = studentActions;\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t\trefs.current.clientActions = clientActions;\r\n\t\tsetClientActions(clientActions);\r\n\t}, [client]);\r\n\r\n\tconst handleActionClick = ({ action, clientId, clientType, type } = {}) => {\r\n\t\tif (!action) {\r\n\t\t\tloggError(\r\n\t\t\t\t\"handleActionClick was called without an action. Returning.\"\r\n\t\t\t);\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\tif (refs.current.selectedAction) return;\r\n\r\n\t\tconst payload = {\r\n\t\t\tclientId: client.id,\r\n\t\t\troomKey: room.roomKey,\r\n\t\t\tactionName: action.name,\r\n\t\t\ttoAllStudents: true,\r\n\t\t\tteacherClientId: client.id,\r\n\t\t};\r\n\r\n\t\tlet eventName;\r\n\t\tswitch (clientType) {\r\n\t\t\tcase \"student\":\r\n\t\t\t\teventName = \"client__studentSendsAction\";\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"teacher\":\r\n\t\t\t\teventName = \"client__teacherSendsAction\";\r\n\t\t\t\tpayload.teacherClientId = client.id;\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"platform\":\r\n\t\t\t\teventName = \"client__platformSendsAction\";\r\n\t\t\tdefault:\r\n\t\t\t\tdebugger;\r\n\t\t\t\tloggError(\"unrecognized client type\");\r\n\t\t\t\teventName = studentActions;\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\tsocket.emit(eventName, payload);\r\n\t\tsetSelectedAction(action);\r\n\t\trefs.current.selectedAction = action;\r\n\r\n\t\tif (isSoundOn) {\r\n\t\t\tattentionSound.play();\r\n\t\t}\r\n\t\tconst minimizeIcon = promiseKeeper\r\n\t\t\t.stall(2.25 * 1000)\r\n\t\t\t.andThen((promise) => {\r\n\t\t\t\tsetSelectedAction(null);\r\n\t\t\t\trefs.current.selectedAction = null;\r\n\t\t\t});\r\n\t\tminimizeIcon.catch((err) => {\r\n\t\t\tsetSelectedAction(null);\r\n\t\t\trefs.current.selectedAction = null;\r\n\t\t});\r\n\r\n\t\t// handleSpeedDialClose();\r\n\t};\r\n\r\n\treturn (\r\n\t\t<React.Fragment>\r\n\t\t\t<SpeedDial\r\n\t\t\t\tariaLabel=\"SpeedDial tooltip\"\r\n\t\t\t\tclassName=\"SpeedDial\"\r\n\t\t\t\thidden={false}\r\n\t\t\t\ticon={<SpeedDialIcon />}\r\n\t\t\t\tonClose={handleSpeedDialClose}\r\n\t\t\t\tonOpen={handleSpeedDialOpen}\r\n\t\t\t\topen={isSpeedDialOpen}\r\n\t\t\t\tstyle={{\r\n\t\t\t\t\tposition: \"absolute\",\r\n\t\t\t\t\tbottom: \"calc( 2 * var(--spacing))\",\r\n\t\t\t\t\tright: \"calc( 2 * var(--spacing))\",\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t{Object.values(clientActions).map((action, actionIndex) => {\r\n\t\t\t\t\tconst isSelected = selectedAction === action;\r\n\r\n\t\t\t\t\tconst { name, icon, label } = action;\r\n\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<SpeedDialAction\r\n\t\t\t\t\t\t\tclassName={clsx(\r\n\t\t\t\t\t\t\t\t\"SpeedDialAction\",\r\n\t\t\t\t\t\t\t\t`SpeedDialAction--${name}`,\r\n\t\t\t\t\t\t\t\t`SpeedDialAction--${actionIndex}`,\r\n\t\t\t\t\t\t\t\tisSelected && \"selected\"\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\tkey={label}\r\n\t\t\t\t\t\t\ticon={icon}\r\n\t\t\t\t\t\t\ttooltipTitle={label}\r\n\t\t\t\t\t\t\ttooltipOpen\r\n\t\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\t\thandleActionClick({\r\n\t\t\t\t\t\t\t\t\taction,\r\n\t\t\t\t\t\t\t\t\tclientId: client.id,\r\n\t\t\t\t\t\t\t\t\tclientType: client.type,\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t);\r\n\t\t\t\t})}\r\n\t\t\t</SpeedDial>\r\n\t\t\t<Backdrop\r\n\t\t\t\topen={isSpeedDialOpen}\r\n\t\t\t\tstyle={{\r\n\t\t\t\t\tzIndex: 1000,\r\n\t\t\t\t}}\r\n\t\t\t/>\r\n\t\t</React.Fragment>\r\n\t);\r\n};\r\n\r\nexport default Text;\r\n","import styled from \"styled-components\";\r\n\r\nexport default styled.div`\r\n\tmin-height: 100%;\r\n\tposition: relative;\r\n\tpadding: 0;\r\n\r\n\t.Page {\r\n\t\tpadding: calc(2 * var(--spacing)) 0;\r\n\t\tposition: static;\r\n\t}\r\n\r\n\t.Page--centered-headings {\r\n\t\theight: auto;\r\n\t\twidth: 100%;\r\n\t}\r\n\r\n\t.Page--centered-headings,\r\n\t.Page--bottom-third-caption,\r\n\t.Page--text1 {\r\n\t\toverflow: visible;\r\n\t}\r\n\r\n\t.marquee {\r\n\t\ttext-align: left;\r\n\t\twidth: auto;\r\n\t\ttop: 0;\r\n\t\tleft: 0;\r\n\t\tpadding: var(--spacing);\r\n\t\tpadding-left: 0;\r\n\r\n\t\tmargin-top: 0;\r\n\t\tmargin-bottom: calc(2 * var(--spacing));\r\n\t\tmargin-left:0;\r\n\r\n\t\t.letter {\r\n\t\t\tfont-size: 1.25rem;\r\n\t\t\tmargin: 0;\r\n\t\t\tfont-family: Nunito;\r\n\t\t\tfont-weight: bold;\r\n\r\n\t\t\ttext-transform: uppercase;\r\n\t\t\tcolor: var(--white);\r\n\t\t\tline-height: 1;\r\n\t\t}\r\n\r\n\t\t.heading {\r\n\t\t\tdisplay: inline;\r\n\t\t\tpadding: 0 calc(var(--spacing) * 2);\r\n\t\t\tmargin-top: 0;\r\n\t\t}\r\n\t}\r\n\r\n\t.sub-marquee {\r\n\t\tfont-size: 1rem;\r\n\t\ttext-align: left;\r\n\t\tmargin: 0;\r\n\t\tmargin-top: calc(2.5 * var(--spacing));\r\n\t\tpadding: 0 var(--spacing);\r\n\t\tpadding-left: calc(2 * var(--spacing));\r\n\t\twidth: auto;\r\n\t\tmargin: 0;\r\n\t\tline-height: 1;\r\n\r\n\r\n\r\n\t\t.letter {\r\n\t\t\tfont-size: 1.25rem;\r\n\t\t\tmargin: 0;\r\n\t\t\tfont-family: Nunito;\r\n\t\t\tfont-weight: bold;\r\n\r\n\t\t\ttext-transform: uppercase;\r\n\t\t\tcolor: var(--white);\r\n\t\t\tline-height: 1;\r\n\t\t}\r\n\t\t.heading {\r\n\t\t\tmargin: 0;\r\n\t\t\tdisplay: inline;\r\n\t\t\tpadding: 0 calc(var(--spacing) * 2);\r\n\t\t\t\r\n\r\n}\r\n\t\t\t// margin-bottom: calc(4 * var(--spacing));\r\n\t\t\t// margin-top: 1rem;\r\n\t\t\tline-height: 0.5;\r\n\t\t\ttext-align: left;\r\n\t\t}\r\n\t}\r\n`;\r\n","import styled from \"styled-components\";\r\n\r\nexport default styled.div`\r\n\twidth: 100%;\r\n`;\r\n","import styled from \"styled-components\";\r\n\r\nexport default styled.div`\r\n\tmargin: 0 1em;\r\n\tmargin: 0.5rem auto;\r\n\tpadding: 0;\r\n\toverflow-wrap: anywhere;\r\n\tmargin: auto;\r\n\tbackground-size: cover;\r\n\r\n\t.letter {\r\n\t\tuser-select: none;\r\n\t}\r\n\r\n\t.heading_1 {\r\n\t\tfont-size: 2rem;\r\n\t\ttext-align: center;\r\n\t}\r\n\theading_2 {\r\n\t\tfont-size: 1.75rem;\r\n\t\ttext-align: center;\r\n\t}\r\n\r\n\t.text__uppercase {\r\n\t\ttext-transform: uppercase;\r\n\t\tline-height: 1;\r\n\t}\r\n\r\n\t.text__shadow {\r\n\t\tcolor: var(--color, white);\r\n\t\ttext-shadow: 2px 2px 4px var(--shadow-color, black);\r\n\t}\r\n\r\n\t.text__shadow___dark {\r\n\t\ttext-shadow: 1px 1px 2px var(--shadow-color, #000);\r\n\t}\r\n\r\n\t.text__shadow___cloudy {\r\n\t\ttext-shadow: 2px 2px 12px var(--shadow-color, black);\r\n\t}\r\n\r\n\t.bottom {\r\n\t\tbottom: 0;\r\n\t}\r\n\r\n\t.text {\r\n\t\tdisplay: inline;\r\n\t\tline-height: 2;\r\n\t\tfont-size: 1.2rem;\r\n\t\tfont-family: Nunito;\r\n\t\ttext-align: left;\r\n\t\tpadding: calc(0.75 * var(--spacing));\r\n\t\ttransform: all 0.2s;\r\n\r\n\t\t&:hover {\r\n\t\t\ttransform: scale(1.2) !important;\r\n\t\t}\r\n\r\n\t\t&.glass {\r\n\t\t\t&:hover {\r\n\t\t\t\tcolor: black;\r\n\t\t\t\tborder-radius: 8px;\r\n\t\t\t\tpadding: 20px;\r\n\t\t\t\tbackground: linear-gradient(\r\n\t\t\t\t\t75deg,\r\n\t\t\t\t\tvar(--secondary-lighter-2) 0%,\r\n\t\t\t\t\tvar(--primary-lighter-2) 100%\r\n\t\t\t\t);\r\n\t\t\t\tborder: none;\r\n\t\t\t\tcolor: white;\r\n\t\t\t\t-webkit-backdrop-filter: blur(20px);\r\n\t\t\t\tbackdrop-filter: blur(20px);\r\n\t\t\t\ttransform: scale(1.2);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t&.cloudy {\r\n\t\t\tcolor: var(--white);\r\n\t\t\ttransition: all 0.2s;\r\n\t\t\tbackground-color: rgba(0, 0, 0, 0.8);\r\n\t\t\t&:hover {\r\n\t\t\t\t// color: black;\r\n\t\t\t\tbackground-color: rgba(0, 0, 0, 0.95);\r\n\t\t\t\ttransform: scale(1.2);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n`;\r\n","import React, {\r\n\tuseContext,\r\n\tuseEffect,\r\n\tuseRef,\r\n\tSuspense,\r\n\tuseCallback,\r\n} from \"react\";\r\n\r\nimport StyledText from \"./Text.styles.js\";\r\n\r\nconst Text = (props) => {\r\n\tconst {\r\n\t\tchildren,\r\n\t\tpClassName = \"\",\r\n\t\treadable = false,\r\n\t\tvariant = \"cloudy\",\r\n\t} = props;\r\n\treturn (\r\n\t\t<StyledText\r\n\t\t\tclassName={`Text-Container ${readable ? \"readable\" : \"\"}`}\r\n\t\t\t{...props}\r\n\t\t>\r\n\t\t\t<p className={`text ${variant} ${pClassName}`}>{children}</p>\r\n\t\t</StyledText>\r\n\t);\r\n};\r\n\r\nexport default Text;\r\n","import styled from \"styled-components\";\r\n\r\nexport default styled.div`\r\n\toverflow-y: auto;\r\n\theight: 100%;\r\n\tmargin: 0 1em;\r\n\t// padding: calc(var(--spacing) * 2) 0;\r\n\tbackground-position-x: center;\r\n\tbackground-position-y: center;\r\n\r\n\t\r\n\tpadding:0;\r\n\r\n\tmargin: auto;\r\n\tbackground-size: cover;\r\n\r\n\t.heading {\r\n\t\ttext-align: center;\r\n\t}\r\n\r\n\t.heading_1 {\r\n\t\tfont-size: 2rem;\r\n\t\t\r\n\t}\r\n\t.heading_2 {\r\n\t\tfont-size: 1.5rem;\r\n\t}\r\n\r\n\t.bold {\r\n\t\tfont-weight: bold;\r\n\t\r\n\r\n\tp {\r\n\t\tfont-size: 1.25rem;\r\n\t\tfont-family: inherit;\r\n\r\n\t}\r\n\r\n\t\r\n\r\n\r\n`;\r\n","import React, {\r\n\tuseContext,\r\n\tuseEffect,\r\n\tuseRef,\r\n\tSuspense,\r\n\tuseCallback,\r\n} from \"react\";\r\nimport CenteredContainer from \"../CenteredContainer/CenteredContainer.js\";\r\nimport Heading from \"../Heading/Heading.js\";\r\nimport View from \"../layout/View.jsx\";\r\nimport Page from \"../SlidePageTemplates/Page.js\";\r\nimport Text from \"../Text/Text.js\";\r\nimport StyledPage from \"./Slide.styles.js\";\r\n\r\nconst label = \"CenteredHeadings\";\r\n\r\nconst CenteredHeadings = (props) => {\r\n\t// const [appUtils] = useContext(AppContext);\r\n\t// const { PromiseKeeper, Logger } = appUtils;\r\n\tconst {\r\n\t\theading = \"\",\r\n\t\tsubheading = \"\",\r\n\t\tp = [\"\"],\r\n\t\tbgImage = \"\",\r\n\t\tpages = [],\r\n\t} = props;\r\n\r\n\t// const { logg, loggError } = useLogg({ label });\r\n\t// const promiseKeeper = usePromiseKeeper({ label });\r\n\r\n\treturn (\r\n\t\t<StyledPage className={\"Page--centered-headings centered\"}>\r\n\t\t\t<Heading h=\"1\">{heading}</Heading>\r\n\t\t\t<Heading h=\"2\">{subheading}</Heading>\r\n\t\t</StyledPage>\r\n\t);\r\n};\r\n\r\nexport default CenteredHeadings;\r\n\r\n/*\r\n\r\n\r\n\r\n*/\r\n","import styled from \"styled-components\";\r\n\r\nexport default styled.div`\r\n\tcolor: #000;\r\n\twidth: 100%;\r\n\tposition: absolute;\r\n\tbottom: 0;\r\n\tleft: 0;\r\n\tz-index: 1000;\r\n\tpadding: calc(2 * var(--spacing)) calc(2 * var(--spacing));\r\n\tpadding-bottom: calc(7 * var(--spacing));\r\n`;\r\n","import React, {\r\n\tuseContext,\r\n\tuseEffect,\r\n\tuseRef,\r\n\tSuspense,\r\n\tuseCallback,\r\n} from \"react\";\r\n\r\n// import useLogg from \"../../../hooks/useLogg.jsx\";\r\n// import usePromiseKeeper from \"../../../hooks/usePromiseKeeper.jsx\";\r\nimport StyledSubtitle from \"./Subtitle.styles.js\";\r\nimport Text from \"../Text/Text.js\";\r\n\r\nconst label = \"Subtitle\";\r\n\r\nconst Subtitle = ({ paragraphs, children = \"\" }) => {\r\n\treturn (\r\n\t\t<StyledSubtitle className={`${label}`}>\r\n\t\t\t{paragraphs &&\r\n\t\t\t\tparagraphs.map((paragraph) => {\r\n\t\t\t\t\treturn <Text>{paragraph}</Text>;\r\n\t\t\t\t})}\r\n\t\t</StyledSubtitle>\r\n\t);\r\n};\r\n\r\nexport default Subtitle;\r\n","import React, {\r\n\tuseContext,\r\n\tuseEffect,\r\n\tuseRef,\r\n\tSuspense,\r\n\tuseCallback,\r\n} from \"react\";\r\nimport CenteredContainer from \"../CenteredContainer/CenteredContainer.js\";\r\nimport Heading from \"../Heading/Heading.js\";\r\nimport View from \"../layout/View.jsx\";\r\nimport Page from \"./Page.js\";\r\nimport Text from \"../Text/Text.js\";\r\n//import PropTypes from \"prop-types\";\r\n// import clsx from \"clsx\";\r\n\r\n// import useLogg from \"../../../hooks/useLogg.jsx\";\r\n// import usePromiseKeeper from \"../../../hooks/usePromiseKeeper.jsx\";\r\n\r\n// import { localStorage } from \"../../../../lib/issy/index.js\";\r\nimport StyledPage from \"./Page.styles.js\";\r\nimport Subtitle from \"../Subtitle/Subtitle.js\";\r\n\r\nconst label = \"BottomThirdCaption\";\r\n\r\nconst BottomThirdCaption = (props) => {\r\n\t// const [appUtils] = useContext(AppContext);\r\n\t// const { PromiseKeeper, Logger } = appUtils;\r\n\r\n\tconst { heading = \"\", subheading = \"\", p = [\"\"], bgImage = \"\" } = props;\r\n\r\n\t// const { logg, loggError } = useLogg({ label });\r\n\t// const promiseKeeper = usePromiseKeeper({ label });\r\n\r\n\t// const renderTexts = () => {\r\n\t// \tif (!p || !p.length) return null;\r\n\t// \treturn p.map((paragraph) => {\r\n\t// \t\treturn <Text pClassName=\"\">{paragraph}</Text>;\r\n\t// \t});\r\n\t// };\r\n\r\n\treturn (\r\n\t\t<StyledPage className={\"Page Page--bottom-third-caption\"}>\r\n\t\t\t<div className=\"Headings-Container\">\r\n\t\t\t\t<Heading variant=\"marquee\" shadow=\"dark\" textLook=\"flat\">\r\n\t\t\t\t\t{heading}\r\n\t\t\t\t</Heading>\r\n\t\t\t\t<Heading\r\n\t\t\t\t\th=\"2\"\r\n\t\t\t\t\tvariant=\"sub-marquee\"\r\n\t\t\t\t\ttextLook=\"flat\"\r\n\t\t\t\t\tshadow=\"dark\"\r\n\t\t\t\t>\r\n\t\t\t\t\t{subheading}\r\n\t\t\t\t</Heading>\r\n\t\t\t</div>\r\n\r\n\t\t\t<Subtitle paragraphs={p} />\r\n\t\t</StyledPage>\r\n\t);\r\n};\r\n\r\nexport default BottomThirdCaption;\r\n\r\n/*{p && (\r\n\t\t\t\t<Page>\r\n\t\t\t\t\t{p.map((paragraph) => {\r\n\t\t\t\t\t\treturn <Text>{paragraph}</Text>;\r\n\t\t\t\t\t})}\r\n\t\t\t\t</Page>\r\n\t\t\t)}*/\r\n","import React, {\r\n\tuseContext,\r\n\tuseEffect,\r\n\tuseRef,\r\n\tSuspense,\r\n\tuseCallback,\r\n} from \"react\";\r\nimport Heading from \"../Heading/Heading.js\";\r\nimport Text from \"../Text/Text.js\";\r\nimport Page from \"../SlidePageTemplates/Page.js\";\r\nimport CenteredContainer from \"../CenteredContainer/CenteredContainer.js\";\r\nimport StyledSlide from \"./Slide.styles.js\";\r\n\r\nconst label = \"Slide\";\r\n\r\nconst Slide = (props) => {\r\n\t// const [appUtils] = useContext(AppContext);\r\n\t// const { PromiseKeeper, Logger } = appUtils;\r\n\r\n\tconst {\r\n\t\theading = \"\",\r\n\t\tsubheading = \"\",\r\n\t\tp = [\"\"],\r\n\t\tbgImage = \"\",\r\n\t\tmarquee = \"\",\r\n\t\tsubMarquee = \"\",\r\n\t} = props;\r\n\r\n\t// const { logg, loggError } = useLogg({ label });\r\n\t// const promiseKeeper = usePromiseKeeper({ label });\r\n\r\n\treturn (\r\n\t\t<StyledSlide className={\"Page Page--text1\"}>\r\n\t\t\t<Heading>{marquee}</Heading>\r\n\t\t\t<Heading h=\"2\">{subheading}</Heading>\r\n\r\n\t\t\t{p.map((paragraph) => {\r\n\t\t\t\treturn <Text readable={true}>{paragraph}</Text>;\r\n\t\t\t})}\r\n\t\t</StyledSlide>\r\n\t);\r\n};\r\n\r\nexport default Slide;\r\n\r\n/*\r\n\r\n{p.map((paragraph) => {\r\n\t\t\t\t\treturn <Text>{paragraph}</Text>;\r\n\t\t\t\t})}\r\n\r\n*/\r\n","import React, {\r\n\tuseState,\r\n\tuseContext,\r\n\tuseRef,\r\n\tuseEffect,\r\n\tuseCallback,\r\n} from \"react\";\r\n\r\nimport PropTypes from \"prop-types\";\r\nimport Container from \"@material-ui/core/Container\";\r\nimport DURATIONS from \"../../constants/durations.js\";\r\nimport SplitText from \"react-pose-text\";\r\nimport { POSES } from \"../../constants/poses.js\";\r\nimport useLogg from \"../../hooks/useLogg.jsx\";\r\nimport StyledList from \"./_List.scss\";\r\nimport clsx from \"clsx\";\r\nimport Text from \"../Text/Text.js\";\r\n\r\nlet animationFrame;\r\nconst label = \"ListContainer\";\r\n\r\nconst HEADER_VARIANTS = [\"h1\", \"h2\", \"marquee\", \"sub-marquee\"];\r\n\r\nconst SHADOW_VARIANTS = [\"none\", \"dark\"];\r\nconst TEXT_LOOKS = [\"cloudy\", \"flat\"];\r\n\r\nconst ListContainer = React.forwardRef(\r\n\t(\r\n\t\t{\r\n\t\t\th = \"1\",\r\n\t\t\tcentered = false,\r\n\t\t\tvariant = HEADER_VARIANTS[0],\r\n\t\t\tshadow = SHADOW_VARIANTS[0],\r\n\t\t\ttextLook = TEXT_LOOKS[0],\r\n\t\t\tlistItems,\r\n\t\t\tchildren,\r\n\t\t},\r\n\t\tref\r\n\t) => {\r\n\t\t// const [appUtils] = useContext(AppContext);\r\n\t\t// const { Logger, PromiseKeeper } = appUtils;\r\n\r\n\t\tconst { logg, loggError } = useLogg({ label });\r\n\r\n\t\tif (!listItems || !listItems) return null;\r\n\r\n\t\tconst renderList = () => {\r\n\t\t\treturn listItems.map((listItem) => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<li key={listItem} className=\"list-item\">\r\n\t\t\t\t\t\t<Text>{listItem}</Text>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t);\r\n\t\t\t});\r\n\t\t};\r\n\r\n\t\treturn (\r\n\t\t\t<ul className={`list shadow--${shadow} textLook--${textLook}`}>\r\n\t\t\t\t{renderList()}\r\n\t\t\t</ul>\r\n\t\t);\r\n\t}\r\n);\r\n\r\nListContainer.propTypes = {\r\n\tlistItems: PropTypes.array,\r\n\tlistItems: PropTypes.array,\r\n};\r\n\r\nexport default ListContainer;\r\n","import React from \"react\";\r\nimport StyledPage from \"../Page.styles.js\";\r\nimport CenteredHeadings from \"../../SlidePageTemplates/CenteredHeadings.js\";\r\nimport BottomThirdCaption from \"../../SlidePageTemplates/BottomThirdCaption.js\";\r\nimport Text1 from \"../../SlidePageTemplates/Text1.js\";\r\nimport PAGE_TEMPLATE_NAMES from \"../pageTemplates.js\";\r\nimport List from \"../../List/List.js\";\r\nimport Heading from \"../../Heading/Heading.js\";\r\nimport Text from \"../../Text/Text.js\";\r\nimport \"./_ListMain.scss\";\r\n\r\nconst PAGE_TEMPLATES = { CenteredHeadings, Text1, BottomThirdCaption, List };\r\n\r\nconst label = \"ListMain\";\r\nconst ListMain = (props) => {\r\n\tconst { heading = \"\", bullets = [], templateName = \"\", p = [] } = props;\r\n\r\n\treturn (\r\n\t\t<StyledPage className={\"ListMain-container\"} {...props}>\r\n\t\t\t<Heading>{heading}</Heading>\r\n\r\n\t\t\t{p &&\r\n\t\t\t\tp.map &&\r\n\t\t\t\tp.map((paragraph) => {\r\n\t\t\t\t\treturn <Text>{paragraph}</Text>;\r\n\t\t\t\t})}\r\n\t\t\t<List listItems={bullets} />\r\n\t\t</StyledPage>\r\n\t);\r\n};\r\n\r\nexport default ListMain;\r\n","import React from \"react\";\r\nimport StyledPage from \"./Page.styles.js\";\r\nimport CenteredHeadings from \"../SlidePageTemplates/CenteredHeadings.js\";\r\nimport BottomThirdCaption from \"../SlidePageTemplates/BottomThirdCaption.js\";\r\nimport Text1 from \"../SlidePageTemplates/Text1.js\";\r\nimport ListMain from \"../SlidePageTemplates/ListMain/ListMain.js\";\r\n\r\nconst PAGE_TEMPLATES = {\r\n\tCenteredHeadings,\r\n\tText1,\r\n\tBottomThirdCaption,\r\n\tListMain,\r\n};\r\n\r\nconst label = \"Page\";\r\nconst Page = (props) => {\r\n\tconst { templateName = \"\" } = props;\r\n\tconst LessonPage =\r\n\t\tPAGE_TEMPLATES[templateName] || PAGE_TEMPLATES[\"CenteredHeadings\"];\r\n\r\n\treturn (\r\n\t\t<StyledPage className={\"Page-container\"}>\r\n\t\t\t<LessonPage {...props} />\r\n\t\t</StyledPage>\r\n\t);\r\n};\r\n\r\nexport default Page;\r\n","import React, {\r\n\tuseContext,\r\n\tuseEffect,\r\n\tuseRef,\r\n\tSuspense,\r\n\tuseCallback,\r\n} from \"react\";\r\nimport Heading from \"../Heading/Heading.js\";\r\nimport View from \"../../components/layout/View.jsx\";\r\nimport Page from \"./Page.js\";\r\nimport Text from \"../Text/Text.js\";\r\n//import PropTypes from \"prop-types\";\r\n// import clsx from \"clsx\";\r\n// import useLogg from \"../../../hooks/useLogg.jsx\";\r\n// import usePromiseKeeper from \"../../../hooks/usePromiseKeeper.jsx\";\r\n// import { localStorage } from \"../../../../lib/issy/index.js\";\r\nimport StyledContainer from \"./Slide.styles.js\";\r\nimport CenteredContainer from \"../CenteredContainer/CenteredContainer.js\";\r\nconst label = \"Slide\";\r\n\r\nconst Slide = (props) => {\r\n\t// const [appUtils] = useContext(AppContext);\r\n\t// const { PromiseKeeper, Logger } = appUtils;\r\n\r\n\tconst { pages = [], templateName = \"\", pageProps = [] } = props;\r\n\r\n\t// const { logg, loggError } = useLogg({ label });\r\n\t// const promiseKeeper = usePromiseKeeper({ label });\r\n\r\n\treturn (\r\n\t\t<StyledContainer className={\"Slide\"} style={{ padding: 0 }}>\r\n\t\t\t{pages &&\r\n\t\t\t\tpages.map((page, i) => {\r\n\t\t\t\t\t// const {\r\n\t\t\t\t\t// \tid,\r\n\t\t\t\t\t// \ttemplateName,\r\n\t\t\t\t\t// \theading = \"\",\r\n\t\t\t\t\t// \tsubheading = \"\",\r\n\t\t\t\t\t// \tp = [\"\"],\r\n\t\t\t\t\t// \tbgImage = \"\",\r\n\t\t\t\t\t// } = page;\r\n\r\n\t\t\t\t\t// const PageTemplate =\r\n\t\t\t\t\t// \tSLIDE_TEMPLATES[templateName] ||\r\n\t\t\t\t\t// \tSLIDE_TEMPLATES[\"CenteredHeadings\"];\r\n\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<Page className=\"Page\" {...page} {...pageProps}></Page>\r\n\t\t\t\t\t);\r\n\t\t\t\t})}\r\n\t\t</StyledContainer>\r\n\t);\r\n};\r\n\r\nexport default Slide;\r\n\r\n/*\r\n\r\nbackground={{\r\n\t\t\t\t\t\t\t\tbackgroundImage: bgImage,\r\n\t\t\t\t\t\t\t\tbackgroundAttachment: \"fixed\",\r\n\t\t\t\t\t\t\t}}\r\n*/\r\n","import React, { useState, useEffect } from \"react\";\r\nimport posed, { PoseGroup } from \"react-pose\"; //yay!:)\r\nimport SplitText from \"react-pose-text\"; //text animation\r\nimport { tween } from \"popmotion\";\r\nimport pose from \"popmotion-pose\";\r\nimport { interpolate } from \"flubber\";\r\nimport DURATIONS from \"../constants/durations.js\";\r\nimport POSES from \"../constants/poses.js\";\r\n// import THEME from \"../constants/theme.js\";\r\nimport MEDIA_QUERIES from \"../constants/mediaQueries.js\";\r\nimport BACKGROUND_CLASSES from \"../constants/backgroundClasses.js\";\r\n\r\nimport { SynthVoice, fallback } from \"../lib/SynthVoice/index.js\";\r\nimport SpeechRecognizer from \"../lib/SpeechRecognizer/index.js\";\r\nimport {\r\n    // shimme,\r\n    PromiseKeeper,\r\n    navigateTo,\r\n    loadImage,\r\n    getRandomColor,\r\n    getRandomUpTo,\r\n    capitalizeFirstLetter,\r\n    capitalizeTitle,\r\n    getUniqueString,\r\n    forAll,\r\n    handlePress,\r\n    removePressHandlers,\r\n    getFormattedTime,\r\n    alignElements,\r\n    request,\r\n    is,\r\n    isNot,\r\n    our,\r\n    climbFrom,\r\n    scrollTo,\r\n    emptyFunc,\r\n    localStorage,\r\n    shuffle,\r\n    pickRandomFrom,\r\n    setDomProperty,\r\n    // getDomProperty,\r\n    copyToClipboard,\r\n} from \"../lib/issy/index.js\";\r\nimport Logger from \"../lib/logg.js\";\r\n\r\nconst { logg, loggError } = new Logger({ label: \"AppContext\" });\r\n\r\n//polyfill\r\n//shimme(\"requestAnimationFrame\");\r\n\r\n/*Important: do NOT include media-query hooks inside Context, as screen resizing and orientation change may cause undesired re-rendering in the middle of user interaction! \r\nPass only data that, if changes, does demand re-render.\r\nAlso, you can pass utility functions and other static data.\r\n*/\r\n\r\nconst DEBUGGING = process.env.NODE_ENV === \"development\";\r\n// const DEBUGGING = false;\r\n\r\nconst initSynthVoice = () => {\r\n    if (!(typeof window !== \"undefined\")) {\r\n        //server-side rendering. Ignore\r\n        return fallback;\r\n    }\r\n    try {\r\n        const _synthVoice = new SynthVoice({\r\n            lang: \"en\",\r\n            accent: \"us\",\r\n            gender: \"female\",\r\n            custom: [\r\n                {\r\n                    name: \"zira\",\r\n                    rate: 0.55,\r\n                    pitch: 1.2,\r\n                },\r\n                { name: \"google us\", rate: 0.7, pitch: 1.1 },\r\n            ],\r\n\r\n            //volume: 1,\r\n            timeout: 4500,\r\n            DEBUGGING,\r\n            autoResolveWhenDebugging: false,\r\n        });\r\n        // appState.synthVoice = synthVoice;\r\n        //maybe set the state to trigger rerenders\r\n        return _synthVoice;\r\n    } catch (err) {\r\n        loggError(\"SynthVoice error: \", err);\r\n        return fallback;\r\n    }\r\n};\r\nconst synthVoice = initSynthVoice();\r\n\r\nconst UTILS = {\r\n    is,\r\n    isNot,\r\n    our,\r\n    PromiseKeeper,\r\n    DURATIONS,\r\n    POSES,\r\n    MEDIA_QUERIES,\r\n    // THEME,\r\n    BACKGROUND_CLASSES,\r\n    navigateTo,\r\n    loadImage,\r\n    capitalizeFirstLetter,\r\n    capitalizeTitle,\r\n    getFormattedTime,\r\n    getRandomColor,\r\n    getRandomUpTo,\r\n    alignElements,\r\n    getUniqueString,\r\n    forAll,\r\n    handlePress,\r\n    removePressHandlers,\r\n    Logger,\r\n    synthVoice,\r\n    SpeechRecognizer,\r\n    posed,\r\n    pose,\r\n    PoseGroup,\r\n    SplitText,\r\n    tween,\r\n    interpolate,\r\n    request,\r\n    climbFrom,\r\n    scrollTo,\r\n    emptyFunc,\r\n    EMPTY_FUNC: emptyFunc,\r\n    DEBUGGING,\r\n    localStorage,\r\n    shuffle,\r\n    pickRandomFrom,\r\n    //getDomProperty,\r\n    setDomProperty,\r\n    copyToClipboard,\r\n};\r\n\r\n// const initialAppState = {\r\n//  user:\r\n// };\r\n\r\nconst DEFAULTS = {\r\n    getOptionsLabel(option) {\r\n        return option.title || option.name || option.v1;\r\n    },\r\n    onSearchOptionChange(option) {\r\n        logg(\"Searchable option selected: \", option);\r\n    },\r\n    groupBy: (option) => option.groupName,\r\n};\r\n\r\n// const initialUser = DEBUGGING ? { role: \"admin\" } : {};\r\n\r\n//create a Context object.\r\n//Note: There's no need for inital value and setter for the context, as these will be set to the state and state setter in just a moment.\r\nconst AppContext = React.createContext({\r\n    user: {},\r\n    setUser: () => {},\r\n    setSearchables: (config = {}) => {\r\n        return config;\r\n    },\r\n});\r\n\r\nconst label = \"AppContextProvider\";\r\nconst localStorageKey = \"weiss-english-client\";\r\n\r\nconst getUserFromLocalStorage = () => {\r\n    const user = localStorage.getObj(localStorageKey);\r\n    if (user) {\r\n        const { first_name, last_name, email } = user;\r\n        const userSansPassword = { first_name, last_name, email };\r\n        logg(\"User from LocalStorage: \", userSansPassword);\r\n    } else {\r\n        logg(\"No user saved in LocalStorage.\");\r\n    }\r\n    return user;\r\n};\r\n\r\nconst initialUser =\r\n    typeof window !== \"undefined\" ? getUserFromLocalStorage() : null;\r\n\r\nclass Searchables {\r\n    selected;\r\n    options;\r\n    getOptionsLabel;\r\n    onChange;\r\n    constructor(config = {}) {\r\n        const {\r\n            selected,\r\n            options,\r\n            getOptionsLabel,\r\n            onChange,\r\n            groupBy,\r\n        } = config;\r\n        this.selected = selected || null;\r\n        this.options = options || [];\r\n        this.getOptionsLabel = getOptionsLabel || DEFAULTS.getOptionsLabel;\r\n        this.onChange = onChange || DEFAULTS.onSearchOptionChange;\r\n        this.groupBy = groupBy || DEFAULTS.groupBy;\r\n    }\r\n}\r\n\r\n//Give the ContextProvider some state, so that we can provide *dynamic* context (i.e. context that can be set/mutated during runtime)\r\nconst AppContextProvider = (props) => {\r\n    const [appUtils, setAppUtils] = useState(UTILS);\r\n\r\n    const { Logger } = appUtils;\r\n    const logg = new Logger({ label }).logg;\r\n\r\n    const [appState, setAppState] = useState({\r\n        user: initialUser,\r\n        setUser: (user) => {},\r\n        realtime: {},\r\n        localStorageKey,\r\n        isFirstVisit: true,\r\n        setSearchables: (searchables) => {},\r\n        searchables: new Searchables(),\r\n    });\r\n\r\n    const setUser = (user, remember) => {\r\n        //pass null to logout\r\n        if (user === null) {\r\n            localStorage.setObj(localStorageKey, null);\r\n            logg(\"User was deleted from localStorage\");\r\n        }\r\n        if (user && remember) {\r\n            localStorage.setObj(localStorageKey, user);\r\n            getUserFromLocalStorage(); // for logging purposes only\r\n        }\r\n        setAppState({ ...appState, user });\r\n    };\r\n    appState.setUser = setUser;\r\n\r\n    const setSearchables = (config = {}) => {\r\n        // const newState = { ...appState };\r\n        const searchables = new Searchables(config);\r\n\r\n        setAppState({ ...appState, searchables });\r\n    };\r\n    appState.setSearchables = setSearchables;\r\n\r\n    useEffect(() => {\r\n        //deferred props\r\n        if (appState.user) {\r\n            const { first_name, last_name, email, role } = appState.user;\r\n            appState.userSansPassword = { first_name, last_name, email };\r\n        } else {\r\n            appState.userSansPassword = null;\r\n        }\r\n\r\n        logg(\"appState updated: \", appState);\r\n    }, [appState]);\r\n\r\n    useEffect(() => {\r\n        if (!appState.user && typeof window !== \"undefined\") {\r\n            setUser(getUserFromLocalStorage());\r\n        }\r\n    }, []);\r\n\r\n    return (\r\n        <AppContext.Provider value={[appUtils, appState, setAppState]}>\r\n            {props.children}\r\n        </AppContext.Provider>\r\n    );\r\n};\r\n\r\nexport { AppContext, AppContextProvider };\r\n\r\n/* consume the state in a nested compoenent, like so:\r\n\r\nAt the top of the nested component file, import the context: \r\n\r\n    import { AppContext } from \"../contexts/AppContext\";\r\n\r\nThem, inside the function component:\r\n\r\n    const [state, setState] = useContext(AppContext);\r\n\r\n*/\r\n","import roomState from \"./room.atom.js\";\r\n\r\nimport {\r\n\tatom,\r\n\t// selector,\r\n} from \"recoil\";\r\n\r\nconst recoilState = atom({\r\n\tkey: \"currentSlideIndexState\",\r\n\tdefault: 0,\r\n});\r\n\r\nexport default recoilState;\r\n","import React, { useState, useContext, useRef, useEffect } from \"react\";\r\n// JSX\r\nimport HeroSlider, {\r\n  Slide as PresentationSlide,\r\n  Nav,\r\n  OverlayContainer,\r\n} from \"hero-slider\";\r\nimport Slide from \"../SlidePageTemplates/Slide.js\";\r\nimport CenteredHeadings from \"../SlidePageTemplates/CenteredHeadings.js\";\r\nimport Text1 from \"../SlidePageTemplates/Text1.js\";\r\nimport { AppContext } from \"../../store/AppContext.js\";\r\n\r\nimport currentSlideIndexState from \"../../store/currentSlideIndex.atom.js\";\r\n\r\nimport { useRecoilState } from \"recoil\";\r\n\r\nconst SLIDE_TEMPLATES = { CenteredHeadings, Text1 };\r\n\r\nconst Slider = ({ children, slides }) => {\r\n  const AppState = useContext(AppContext);\r\n\r\n  const navBtnsRef = useRef();\r\n\r\n  // const { getRandomUpTo, asyncForEach } = appUtils;\r\n  const [currentSlideIndex, setCurrentSlideIndex] = useRecoilState(\r\n    currentSlideIndexState\r\n  );\r\n\r\n  //these will be populated by HeroSlider\r\n  const nextSlideHandler = useRef();\r\n  const previousSlideHandler = useRef();\r\n\r\n  const goToSlide = (slideIndex) => {\r\n    const navBtnsNodeList = document.querySelectorAll(\".slide-nav-button\");\r\n    if (!navBtnsNodeList || !navBtnsNodeList.length) {\r\n      // loggError('Nav buttons were not found in the DOM')\r\n      return null;\r\n    }\r\n    const navBtns = Array.from(navBtnsNodeList);\r\n    navBtns[slideIndex - 1].click();\r\n  };\r\n\r\n  useEffect(() => {\r\n    goToSlide(currentSlideIndex);\r\n  }, [currentSlideIndex]);\r\n\r\n  // const [appUtils] = useContext(AppContext);\r\n\r\n  return (\r\n    <HeroSlider\r\n      slidingAnimation=\"left_to_right\"\r\n      orientation=\"horizontal\"\r\n      nextSlide={nextSlideHandler}\r\n      previousSlide={previousSlideHandler}\r\n      initialSlide={0}\r\n      onBeforeChange={(previousSlide, nextSlide) => {\r\n        //console.log(\"onBeforeChange\", previousSlide, nextSlide)\r\n      }}\r\n      onChange={(nextSlide) => {\r\n        console.log(\"onChange\", nextSlide);\r\n      }}\r\n      onAfterChange={(nextSlide) => console.log(\"onAfterChange\", nextSlide)}\r\n      style={{\r\n        backgroundColor: \"rgba(0, 0, 0, 0.33)\",\r\n      }}\r\n      settings={{\r\n        slidingDuration: 250,\r\n        slidingDelay: 0,\r\n        shouldAutoplay: false,\r\n        shouldSlideOnArrowKeypress: true,\r\n        shouldDisplayButtons: true,\r\n        //autoplayDuration: 5000,\r\n        height: \"calc(100 * var(--vh) - var(--appbar-height))\",\r\n      }}\r\n    >\r\n      <OverlayContainer></OverlayContainer>\r\n\r\n      {slides &&\r\n        slides.map((slide, i) => {\r\n          const { pages, id } = slide;\r\n\r\n          const bgImage = slide.bgImage || pages?.[0]?.bgImage || \"\";\r\n\r\n          return (\r\n            <PresentationSlide\r\n              background={{\r\n                backgroundImage: bgImage,\r\n                backgroundAttachment: \"fixed\",\r\n              }}\r\n            >\r\n              <Slide {...slide}></Slide>\r\n            </PresentationSlide>\r\n          );\r\n        })}\r\n\r\n      <Nav />\r\n    </HeroSlider>\r\n  );\r\n};\r\n\r\nexport default Slider;\r\n\r\n/*background={{\r\n                backgroundImage: bgImage,\r\n                backgroundAttachment: \"fixed\",\r\n              }}*/\r\n","import React, {\r\n\tuseContext,\r\n\tuseEffect,\r\n\tuseState,\r\n\tuseRef,\r\n\tSuspense,\r\n\tuseCallback,\r\n} from \"react\";\r\nimport { AppContext } from \"../../contexts/AppContext.jsx\";\r\nimport { DeviceContext } from \"../../contexts/DeviceContext.jsx\";\r\nimport Card from \"../../components/Card/Card.js\";\r\nimport WeissSpinner from \"../../components/WeissSpinner/WeissSpinner.jsx\";\r\n//import PropTypes from \"prop-types\";\r\n// import clsx from \"clsx\";\r\nimport View from \"../../components/layout/View.jsx\";\r\nimport useLogg from \"../../hooks/useLogg.jsx\";\r\nimport usePromiseKeeper from \"../../hooks/usePromiseKeeper.jsx\";\r\nimport {\r\n\t// RecoilRoot,\r\n\t// atom,\r\n\t// selector,\r\n\tuseRecoilState,\r\n\tuseRecoilValue,\r\n\tuseSetRecoilState,\r\n} from \"recoil\";\r\nimport roomsState from \"../../store/rooms.atom.js\";\r\nimport roomState from \"../../store/room.atom.js\";\r\nimport socketState from \"../../store/socket.atom.js\";\r\nimport userState from \"../../store/user.atom.js\";\r\nimport clientState from \"../../store/client.atom.js\";\r\n\r\nimport currentSlideState from \"../../store/slide.selector.js\";\r\nimport * as io from \"socket.io-client\";\r\nimport clientsTypes from \"../../constants/clientsTypes.js\";\r\n// import Swiper from \"../../../partials/Swiper.jsx\";\r\nimport SpeedDial from \"../SpeedDial/SpeedDial.js\";\r\nimport Slider from \"../Slider/Slider.js\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport clsx from \"clsx\";\r\nimport \"./_classroom.scss\";\r\n\r\nconst label = \"Classroom\";\r\n\r\nconst Classroom = (props) => {\r\n\tconst [appUtils] = useContext(AppContext);\r\n\tconst {\r\n\t\tPromiseKeeper,\r\n\t\tLogger,\r\n\t\tgetUniqueString,\r\n\t\tCLIENT_ONLY,\r\n\t\tnavigateTo,\r\n\t} = appUtils;\r\n\r\n\tconst { logg, loggError } = useLogg({ label });\r\n\tconst promiseKeeper = usePromiseKeeper({ label });\r\n\r\n\tconst refs = useRef({ viewRef: {} });\r\n\r\n\tconst user = useRecoilValue(userState);\r\n\tconst currentSlide = useRecoilValue(currentSlideState);\r\n\t// const client = useRecoilValue(clientState);\r\n\tconst room = useRecoilValue(roomState);\r\n\r\n\tconst { slides, currentSlideIndex } = room;\r\n\r\n\tconst history = useHistory();\r\n\r\n\tconst bgImage =\r\n\t\troom?.img?.uprl || room?.teachers?.clients?.[0]?.img?.url || \"\";\r\n\r\n\t// useEffect(() => {\r\n\t// \tif (!slides || !slides.length) {\r\n\t// \t\tnavigateTo(\"/classroom-select\", history);\r\n\t// \t}\r\n\t// }, []);\r\n\r\n\treturn (\r\n\t\t<View className={\"classroom\"}>\r\n\t\t\t<Slider slideIndex={2} slides={slides}></Slider>\r\n\r\n\t\t\t<SpeedDial></SpeedDial>\r\n\t\t</View>\r\n\t);\r\n};\r\n\r\nexport default Classroom;\r\n","import React, { useState, useContext, useRef, useEffect, useCallback } from \"react\";\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardActionArea from '@material-ui/core/CardActionArea';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardMedia from '@material-ui/core/CardMedia';\r\nimport Button from '@material-ui/core/Button';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nimport { AppContext } from \"../../contexts/AppContext.jsx\";\r\nimport PropTypes from \"prop-types\";\r\nimport clsx from \"clsx\";\r\nimport View from \"../layout/View.jsx\";\r\n\r\nlet animationFrame;\r\nlet logg;\r\nlet loggError;\r\nlet promiseKeeper;\r\nconst label = 'Card';\r\n\r\nconst useStyles = makeStyles({\r\n  root: {\r\n    maxWidth: 345,\r\n  },\r\n});\r\n\r\n\r\nconst SimpleCard = React.forwardRef((props, ref) => {\r\n\tconst { rounds, onCorrect } = props;\r\n\tconst [appUtils] = useContext(AppContext);\r\n\tconst { Logger, PromiseKeeper } = appUtils;\r\n\r\n\t const classes = useStyles();\r\n\r\n\tuseEffect(() => {\r\n\t\tpromiseKeeper = new PromiseKeeper({ label });\r\n\t\tconst logger = new Logger({ label });\r\n\t\tlogg = logger.logg;\r\n\t\tloggError = logger.loggError;\r\n\t\treturn () => {\r\n\t\t\twindow.cancelAnimationFrame(animationFrame);\r\n\t\t};\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<Card className={classes.root}>\r\n      <CardActionArea>\r\n        <CardMedia\r\n          component=\"img\"\r\n          alt=\"Contemplative Reptile\"\r\n          height=\"140\"\r\n          image=\"assets/characters/OldSageToTheRight\"\r\n          title=\"Contemplative Reptile\"\r\n        />\r\n        <CardContent>\r\n          <Typography gutterBottom variant=\"h5\" component=\"h2\">\r\n            Lizard\r\n          </Typography>\r\n          <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\r\n            Lizards are a widespread group of squamate reptiles, with over 6,000 species, ranging\r\n            across all continents except Antarctica\r\n          </Typography>\r\n        </CardContent>\r\n      </CardActionArea>\r\n      <CardActions>\r\n        <Button size=\"small\" color=\"primary\">\r\n          Share\r\n        </Button>\r\n        <Button size=\"small\" color=\"primary\">\r\n          Learn More\r\n        </Button>\r\n      </CardActions>\r\n    </Card>\r\n\t);\r\n});\r\n\r\nSimpleCard.propTypes = {\r\n\trounds: PropTypes.object,\r\n\tonCorrect: PropTypes.func,\r\n};\r\n\r\nexport default SimpleCard;\r\n","import React from \"react\";\r\nimport clsx from \"clsx\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport KeyboardArrowRight from \"@material-ui/icons/KeyboardArrowRight\";\r\nimport KeyboardArrowLeft from \"@material-ui/icons/KeyboardArrowLeft\";\r\nimport ParallaxSlide from \"@mui-treasury/components/slide/parallax\";\r\nimport DotIndicator from \"@mui-treasury/components/indicator/dot\";\r\nimport { useArrowDarkButtonStyles } from \"@mui-treasury/styles/button/arrowDark\";\r\n\r\nimport \"./Carousel.scss\";\r\n\r\nconst useStyles = makeStyles(({ palette, breakpoints, spacing }) => ({\r\n  root: {\r\n    // a must if you want to set arrows, indicator as absolute\r\n    position: \"relative\",\r\n    width: \"100%\",\r\n  },\r\n  slide: {\r\n    perspective: 1000, // create perspective\r\n    overflow: \"hidden\",\r\n    margin: \"0 calc(2 * var(--spacing))\",\r\n    // relative is a must if you want to create overlapping layers in children\r\n    position: \"relative\",\r\n    paddingTop: spacing(8),\r\n    [breakpoints.up(\"sm\")]: {\r\n      paddingTop: spacing(10),\r\n    },\r\n    [breakpoints.up(\"md\")]: {\r\n      paddingTop: spacing(14),\r\n    },\r\n  },\r\n  imageContainer: {\r\n    display: \"block\",\r\n    position: \"relative\",\r\n    zIndex: 4,\r\n    paddingBottom: \"56.25%\",\r\n  },\r\n  image: {\r\n    display: \"block\",\r\n    position: \"absolute\",\r\n    zIndex: 10,\r\n    width: \"100%\",\r\n    height: \"auto\",\r\n    objectFit: \"cover\",\r\n    marginLeft: \"12%\",\r\n    [breakpoints.up(\"sm\")]: {\r\n      marginLeft: \"4%\",\r\n    },\r\n    borderRadius: \"var(--spacing)\",\r\n  },\r\n  arrow: {\r\n    display: \"none\",\r\n    position: \"absolute\",\r\n    top: \"50%\",\r\n    transform: \"translateY(-50%)\",\r\n    [breakpoints.up(\"sm\")]: {\r\n      display: \"inline-flex\",\r\n    },\r\n  },\r\n  arrowLeft: {\r\n    [breakpoints.up(\"lg\")]: {\r\n      left: \"calc(-8 * var(--spacing))\",\r\n    },\r\n    left: \"calc(-8 * var(--spacing))\",\r\n  },\r\n  arrowRight: {\r\n    right: \"calc(-8 * var(--spacing))\",\r\n    [breakpoints.up(\"lg\")]: {\r\n      right: \"calc(-8 * var(--spacing))\",\r\n    },\r\n  },\r\n  text: {\r\n    // shared style for text-top and text-bottom\r\n    fontFamily: \"Poppins, san-serif\",\r\n    fontWeight: 900,\r\n    position: \"absolute\",\r\n    color: palette.common.white,\r\n    padding: \"0 8px\",\r\n    transform: \"rotateY(45deg)\",\r\n    lineHeight: 1.2,\r\n    [breakpoints.up(\"sm\")]: {\r\n      padding: \"0 16px\",\r\n    },\r\n    [breakpoints.up(\"md\")]: {\r\n      padding: \"0 24px\",\r\n    },\r\n  },\r\n  title: {\r\n    marginTop: 0,\r\n    top: 20,\r\n    left: \"20%\",\r\n    height: \"40%\",\r\n    fontSize: \"2rem\",\r\n    zIndex: 1,\r\n    background: \"linear-gradient(0deg, rgba(255,255,255,0) 0%, #9c9c9c 100%)\",\r\n    [breakpoints.up(\"sm\")]: {\r\n      top: 40,\r\n      fontSize: 72,\r\n    },\r\n    [breakpoints.up(\"md\")]: {\r\n      top: 52,\r\n      fontSize: \"3rem\",\r\n    },\r\n  },\r\n  subtitle: {\r\n    top: 60,\r\n    left: \"0%\",\r\n    height: \"52%\",\r\n    fontSize: \"2rem\",\r\n    zIndex: 2,\r\n    background: \"linear-gradient(0deg, rgba(255,255,255,0) 0%, #888888 100%)\",\r\n    [breakpoints.up(\"sm\")]: {\r\n      top: 112,\r\n      left: \"6%\",\r\n      fontSize: \"2.5rem\",\r\n    },\r\n    [breakpoints.up(\"md\")]: {\r\n      top: 128,\r\n      fontSize: \"3rem\",\r\n    },\r\n  },\r\n  indicatorContainer: {\r\n    textAlign: \"center\",\r\n    marginTop: \"calc(var(--spacing) * 4)\",\r\n  },\r\n}));\r\n\r\nconst ParallaxCarousel = (props) => {\r\n  const { items, onItemSelect, className } = props;\r\n  const classes = useStyles();\r\n  const arrowStyles = useArrowDarkButtonStyles();\r\n  const createStyle = (slideIndex, fineIndex) => {\r\n    const diff = slideIndex - fineIndex;\r\n    if (Math.abs(diff) > 1) return {};\r\n    return {\r\n      transform: `rotateY(${(-diff + 1) * 45}deg)`,\r\n    };\r\n  };\r\n  // eslint-disable-next-line react/prop-types\r\n  const renderElements = ({ index, onChangeIndex }) => (\r\n    <React.Fragment>\r\n      <Button\r\n        className={clsx(classes.arrow, classes.arrowLeft)}\r\n        classes={arrowStyles}\r\n        disabled={index === 0}\r\n        onClick={() => onChangeIndex(index - 1)}\r\n      >\r\n        <KeyboardArrowLeft />\r\n      </Button>\r\n      <Button\r\n        className={clsx(classes.arrow, classes.arrowRight)}\r\n        classes={arrowStyles}\r\n        disabled={index === items.length - 1}\r\n        onClick={() => onChangeIndex(index + 1)}\r\n      >\r\n        <KeyboardArrowRight />\r\n      </Button>\r\n      <div className={classes.indicatorContainer}>\r\n        {items.map(({ id }, i) => (\r\n          <DotIndicator\r\n            key={id}\r\n            active={i === index}\r\n            onClick={() => onChangeIndex(i)}\r\n          />\r\n        ))}\r\n      </div>\r\n    </React.Fragment>\r\n  );\r\n  const renderChildren = ({ injectStyle, fineIndex }) =>\r\n    items.map((item = {}, i) => {\r\n      const { id, title, subtitle, image } = item;\r\n      return (\r\n        <div\r\n          key={id}\r\n          className={clsx(className && className, classes.slide)}\r\n          onClick={() => onItemSelect && onItemSelect(item)}\r\n        >\r\n          <Typography\r\n            noWrap\r\n            className={clsx(classes.text, classes.title)}\r\n            style={{ ...injectStyle(i, 60), ...createStyle(i, fineIndex) }}\r\n          >\r\n            {title}\r\n          </Typography>\r\n          <Typography\r\n            noWrap\r\n            className={clsx(classes.text, classes.subtitle)}\r\n            style={{ ...injectStyle(i, 40), ...createStyle(i, fineIndex) }}\r\n          >\r\n            {subtitle}\r\n          </Typography>\r\n          <div className={clsx(\"image-container\", classes.imageContainer)}>\r\n            <img className={classes.image} src={image} alt={\"slide\"} />\r\n          </div>\r\n        </div>\r\n      );\r\n    });\r\n\r\n  return (\r\n    <div className={clsx(classes.root, \"Carousel\")}>\r\n      <ParallaxSlide\r\n        renderElements={renderElements}\r\n        className={\"carousel-slide\"}\r\n      >\r\n        {renderChildren}\r\n      </ParallaxSlide>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ParallaxCarousel;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport clsx from \"clsx\";\r\nimport styles from \"./DraggableBall.module.scss\";\r\n\r\nimport posed from \"react-pose\";\r\nconst DRAGGABLE_POSE = {\r\n\tdraggable: true,\r\n\tdragEnd: {\r\n\t\tx: 0,\r\n\t\ty: 0, //spring back to original position\r\n\t\ttransition: {\r\n\t\t\ttype: \"spring\",\r\n\t\t\tmass: 2,\r\n\t\t},\r\n\t},\r\n\r\n\t// enter: {\r\n\t// \topacity: 1,\r\n\t// \ttransition: {\r\n\t// \t\tduration: 2000,\r\n\t// \t},\r\n\t// },\r\n\tpressable: true,\r\n\tenter: {\r\n\t\tscale: 1,\r\n\t\topacity: 1,\r\n\t\ttransition: {\r\n\t\t\tduration: 700,\r\n\t\t},\r\n\t},\r\n\texit: {\r\n\t\topacity: 0,\r\n\t\ttransition: {\r\n\t\t\tduration: 700,\r\n\t\t},\r\n\t},\r\n\tvisible: { scale: 1, opacity: 1 },\r\n\r\n\tpress: {\r\n\t\tscale: 1.5,\r\n\t},\r\n\tpressEnd: {\r\n\t\tscale: 1,\r\n\t},\r\n};\r\n\r\nlet animationFrame;\r\nconst label = \"DraggableBall\";\r\n\r\nconst Draggable = posed.div(DRAGGABLE_POSE);\r\n\r\nconst DraggableBall = React.forwardRef((props, ref) => {\r\n\tconst { className, children } = props;\r\n\r\n\treturn (\r\n\t\t<div\r\n\t\t\tclassName={clsx(styles.root, label, className && className)}\r\n\t\t\tref={ref}\r\n\t\t>\r\n\t\t\t<Draggable className={styles.draggable}>{children}</Draggable>\r\n\t\t</div>\r\n\t);\r\n});\r\n\r\nDraggableBall.propTypes = {\r\n\tclassName: PropTypes.string,\r\n};\r\n\r\nexport default DraggableBall;\r\n","import React, {\r\n\tuseReducer,\r\n\tuseState,\r\n\tuseContext,\r\n\tuseRef,\r\n\tuseEffect,\r\n\tuseCallback,\r\n} from \"react\";\r\n// import { AppContext } from \"../../state/AppContext.js\";\r\nimport PropTypes from \"prop-types\";\r\nimport clsx from \"clsx\";\r\n// import useLogg from \"../../utils/useLogg.js\";\r\n// import usePromiseKeeper from \"../../utils/usePromiseKeeper.js\";\r\nimport styles from \"./GlowingLoader.module.scss\";\r\n\r\nimport DraggableBall from \"../DraggableBall/DraggableBall.jsx\";\r\n\r\nimport posed from \"react-pose\";\r\n\r\nconst PosedOpacity = posed.div({\r\n\tenter: { opacity: 1, transition: { duration: 20000 } },\r\n\texit: { opacity: 0, transition: { duration: 20000 } },\r\n});\r\n\r\n// let animationFrame;\r\n// const label = \"GlowingLoader\";\r\n\r\nconst GlowingLoader = React.forwardRef((props, ref) => {\r\n\tconst {\r\n\t\tclassName,\r\n\t\tfullpage,\r\n\t\tbackground = false,\r\n\t\tringBackground = true,\r\n\t} = props;\r\n\r\n\t// const [appUtils, appState] = useContext(AppContext);\r\n\r\n\t// const { our, request } = appUtils;\r\n\t// const { logg, loggError } = useLogg({ label });\r\n\t// const promiseKeeper = usePromiseKeeper({ label });\r\n\r\n\t// useEffect(() => {\r\n\t// \treturn () => {\r\n\t// \t\twindow.cancelAnimationFrame(animationFrame);\r\n\t// \t};\r\n\t// }, []);\r\n\r\n\treturn (\r\n\t\t<PosedOpacity\r\n\t\t\tclassName={clsx(\r\n\t\t\t\t// label,\r\n\t\t\t\tfullpage && \"page gradient--diagonal\",\r\n\t\t\t\tfullpage && styles.fullpage,\r\n\t\t\t\tstyles.root,\r\n\t\t\t\tclassName && className\r\n\t\t\t)}\r\n\t\t\tref={ref}\r\n\t\t>\r\n\t\t\t<DraggableBall>\r\n\t\t\t\t<div\r\n\t\t\t\t\tclassName={clsx(\r\n\t\t\t\t\t\tstyles.ring,\r\n\t\t\t\t\t\tringBackground && \"gradient--diagonal\"\r\n\t\t\t\t\t)}\r\n\t\t\t\t>\r\n\t\t\t\t\tLoading\r\n\t\t\t\t\t<span></span>\r\n\t\t\t\t</div>\r\n\t\t\t</DraggableBall>\r\n\t\t</PosedOpacity>\r\n\t);\r\n});\r\n\r\nGlowingLoader.propTypes = {\r\n\tclassName: PropTypes.object,\r\n\tfullpage: PropTypes.bool,\r\n};\r\n\r\nexport default GlowingLoader;\r\n","import React, {\r\n  useReducer,\r\n  useState,\r\n  useContext,\r\n  useRef,\r\n  useEffect,\r\n  useCallback,\r\n} from \"react\";\r\nimport { AppContext } from \"../../contexts/AppContext.jsx\";\r\nimport PropTypes from \"prop-types\";\r\nimport clsx from \"clsx\";\r\nimport useLogg from \"../../hooks/useLogg.jsx\";\r\nimport usePromiseKeeper from \"../../hooks/usePromiseKeeper.jsx\";\r\nimport View from \"../../components/layout/View.jsx\";\r\n\r\nimport AppBar from \"@material-ui/core/AppBar\";\r\nimport Card from \"../../components/Card/Card.jsx\";\r\nimport CardActions from \"@material-ui/core/CardActions\";\r\nimport CardContent from \"@material-ui/core/CardContent\";\r\nimport CardMedia from \"@material-ui/core/CardMedia\";\r\nimport Button from \"@material-ui/core/Button\";\r\n\r\n// import CssBaseline from \"@material-ui/core/CssBaseline\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Toolbar from \"@material-ui/core/Toolbar\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Container from \"@material-ui/core/Container\";\r\nimport Link from \"@material-ui/core/Link\";\r\nimport posed, { PoseGroup } from \"react-pose\";\r\n\r\n// import Text from \"../../partials/Text/Text.js\";\r\nimport Heading from \"../../components/Heading/Heading.js\";\r\n\r\nimport Carousel from \"../../components/Carousel/Carousel.js\";\r\nimport GlowingLoader from \"../../components/GlowingLoader/GlowingLoader.jsx\";\r\n\r\n// Import Swiper styles\r\nimport \"swiper/swiper.scss\";\r\nimport \"swiper/components/navigation/navigation.scss\";\r\nimport \"swiper/components/pagination/pagination.scss\";\r\nimport \"swiper/components/scrollbar/scrollbar.scss\";\r\n\r\nimport {\r\n  // RecoilRoot,\r\n  // atom,\r\n  // selector,\r\n  useRecoilState,\r\n  useRecoilValue,\r\n  useSetRecoilState,\r\n} from \"recoil\";\r\n\r\nimport roomsState from \"../../store/rooms.atom.js\";\r\nimport socketState from \"../../store/socket.atom.js\";\r\nimport clientState from \"../../store/client.atom.js\";\r\nimport roomState from \"../../store/room.atom.js\";\r\nimport isSoundOnState from \"../../store/isSoundOn.selector.js\";\r\nimport refsState from \"../../store/refs.atom.js\";\r\nimport * as io from \"socket.io-client\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { Swiper, SwiperSlide } from \"swiper/react\";\r\n\r\nimport { mainClickSound } from \"../../constants/sounds.js\";\r\nimport SwiperCore, { Navigation, Pagination, Scrollbar, A11y } from \"swiper\";\r\n\r\nimport \"./CLassroomSelect.scss\";\r\n\r\nconst scaleInPoses = {\r\n  enter: {\r\n    scale: 1,\r\n    rotateZ: \"0deg\",\r\n    opacity: 1,\r\n    transition: { duration: 400 },\r\n  },\r\n  exit: {\r\n    scale: 0,\r\n    rotateZ: \"12deg\",\r\n    opacity: 0,\r\n    transition: { duration: 400 },\r\n  },\r\n  large: {\r\n    scale: 1.5,\r\n    rotateZ: \"2.5deg\",\r\n    opacity: 0,\r\n    transition: { duration: 400 },\r\n  },\r\n};\r\nconst ScaleIn = posed.div(scaleInPoses);\r\n\r\nlet animationFrame;\r\nconst label = \"ClassroomSelect\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    overflow: \"auto\",\r\n  },\r\n  icon: {\r\n    marginRight: theme.spacing(2),\r\n  },\r\n  heroContent: {\r\n    //backgroundColor: theme.palette.background.paper,\r\n    padding: theme.spacing(3),\r\n    paddingBottom: 0,\r\n    fontSize: \"1.5rem\",\r\n  },\r\n  heroButtons: {\r\n    marginTop: theme.spacing(4),\r\n  },\r\n  cardGrid: {\r\n    paddingTop: theme.spacing(8),\r\n    paddingBottom: theme.spacing(8),\r\n  },\r\n  card: {\r\n    height: \"100%\",\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n  },\r\n  cardMedia: {\r\n    paddingTop: \"56.25%\", // 16:9s\r\n  },\r\n  cardContent: {\r\n    flexGrow: 1,\r\n  },\r\n}));\r\n\r\nconst SWIPER_PARAMS = {\r\n  effect: \"coverflow\",\r\n  grabCursor: true,\r\n  centeredSlides: true,\r\n  slidesPerView: \"auto\",\r\n  coverflowEffect: {\r\n    rotate: 50,\r\n    stretch: 0,\r\n    depth: 100,\r\n    modifier: 1,\r\n    slideShadows: true,\r\n  },\r\n  pagination: {\r\n    el: \".swiper-pagination\",\r\n    clickable: true,\r\n    dynamicBullets: true,\r\n  },\r\n};\r\n\r\n// install Swiper components\r\nSwiperCore.use([Navigation, Pagination, Scrollbar, A11y]);\r\n\r\nexport default function ClassroomSelect(props) {\r\n  const [appUtils, appState, setAppState] = useContext(AppContext);\r\n\r\n  const { capitalizeFirstLetter, pickRandomFrom, is, navigateTo } = appUtils;\r\n  const { logg, loggError } = useLogg({ label });\r\n  const promiseKeeper = usePromiseKeeper({ label });\r\n\r\n  const classes = useStyles();\r\n  const refs = useRecoilValue(refsState);\r\n\r\n  const [rooms, setRooms] = useRecoilState(roomsState);\r\n  const room = useRecoilValue(roomState);\r\n  const setRoom = useSetRecoilState(roomState);\r\n\r\n  const socket = useRecoilValue(socketState);\r\n  const client = useRecoilValue(clientState);\r\n\r\n  const history = useHistory();\r\n\r\n  const isSoundOn = useRecoilValue(isSoundOnState);\r\n\r\n  const [showCarousel, setShowCarousel] = useState(false);\r\n\r\n  const [isLarge, setIsLarge] = useState(false);\r\n\r\n  const roomsInfo = rooms.map((room) => {\r\n    return {\r\n      ...room,\r\n      subtitle: room.subject || room.subtitle || \"\",\r\n      image: room?.image?.url ?? room?.teachers?.clients?.[0]?.img?.url ?? \"\",\r\n    };\r\n  });\r\n\r\n  const onRoomSelect = (room) => {\r\n    if (is(socket).aString) {\r\n      loggError(\"socket is inactive\");\r\n      debugger;\r\n      return null;\r\n    }\r\n    isSoundOn && mainClickSound.play();\r\n\r\n    const { id, type } = client;\r\n    const roomKey = room.roomKey;\r\n\r\n    socket.emit(\"client__selectsRoom\", {\r\n      roomKey,\r\n      clientId: client.id,\r\n      clientType: client.type,\r\n    });\r\n\r\n    setRoom({ roomKey });\r\n    setShowCarousel(false);\r\n    setIsLarge(true);\r\n\r\n    promiseKeeper.stall(300 * 1, \"nav to classroom\").then(() => {\r\n      navigateTo(`/classroom`, history);\r\n    });\r\n  };\r\n\r\n  const renderCarousel = () => {\r\n    return (\r\n      <Carousel\r\n        className={\"glass\"}\r\n        onItemSelect={onRoomSelect}\r\n        items={roomsInfo}\r\n      />\r\n    );\r\n  };\r\n\r\n  useEffect(() => {\r\n    promiseKeeper.stall(0.5 * 1000, \"show carousel\").then(() => {\r\n      setShowCarousel(true);\r\n    });\r\n  }, []);\r\n\r\n  return (\r\n    <View className={clsx(\"classroom-select\", classes.root)}>\r\n      <main>\r\n        <div className={classes.heroContent}>\r\n          <Container maxWidth=\"sm\">\r\n            <ScaleIn initialPose=\"exit\" pose={isLarge ? \"exit\" : \"enter\"}>\r\n              <Heading h=\"2\" className=\"title\">\r\n                Join a class\r\n              </Heading>\r\n            </ScaleIn>\r\n          </Container>\r\n        </div>\r\n\r\n        {!rooms ||\r\n          (!rooms.length ? (\r\n            <GlowingLoader className=\"centered\" />\r\n          ) : (\r\n            <Container\r\n              className={clsx(\"centered\", classes.cardGrid)}\r\n              maxWidth=\"md\"\r\n            >\r\n              <ScaleIn\r\n                initialPose=\"exit\"\r\n                pose={isLarge ? \"large\" : showCarousel ? \"enter\" : \"exit\"}\r\n              >\r\n                {renderCarousel()}\r\n              </ScaleIn>\r\n            </Container>\r\n          ))}\r\n      </main>\r\n    </View>\r\n  );\r\n}\r\n\r\nClassroomSelect.propTypes = {\r\n  rounds: PropTypes.object,\r\n  onCorrect: PropTypes.func,\r\n};\r\n","import React, { Suspense, lazy, useEffect, useState } from \"react\";\r\nimport {\r\n\tRoute,\r\n\tBrowserRouter as Router,\r\n\tSwitch,\r\n\tRedirect,\r\n\tFragment,\r\n} from \"react-router-dom\";\r\n\r\nimport View from \"./components/layout/View.jsx\";\r\nimport EntireView from \"./components/layout/EntireView.jsx\";\r\nimport ErrorBoundary from \"./pages/ErrorPage/ErrorPage.jsx\";\r\nimport ClientTypeSelect from \"./pages/ClientTypeSelect/Realtime.entrance.jsx\";\r\nimport Classroom from \"./components/Classroom/Classroom.js\";\r\nimport Card from \"./components/Card/Card.js\";\r\nimport ClassroomSelect from \"./pages/ClassroomSelect/ClassroomSelect.page.jsx\";\r\nimport LogoScreen from \"./pages/LogoScreen/LogoScreen.jsx\";\r\nimport GlowingLoader from \"./components/GlowingLoader/GlowingLoader.jsx\";\r\n\r\n// import roomsState from \"../../store/rooms.atom.js\";\r\n// import roomState from \"../../store/room.atom.js\";\r\n// import socketState from \"../../store/socket.atom.js\";\r\n// import userState from \"../../store/user.atom.js\";\r\n// import clientState from \"../../store/client.atom.js\";\r\n// import lessonState from \"../../store/lesson.atom.js\";\r\n// import refsState from \"../../store/refs.atom.js\";\r\n// import socketConnectionState from \"../../store/socketConnection.atom.js\";\r\n// import { CONNECTION_STATES } from \"../../store/CONNECTION_STATES.js\";\r\n// import * as io from \"socket.io-client\";\r\n// import { localStorage } from \"../../lib/issy/index.js\";\r\n\r\n// import LOCAL_STORAGE_KEY from \"../../constants/localStorageKey.js\";\r\n// import { ParallaxProvider } from \"react-scroll-parallax\";\r\n\r\n// import ErrorBoundary from \"../../pages/ErrorPage/ErrorPage.jsx\";\r\n// import \"./_RealtimeManager.scss\";\r\n\r\nconst SageAdvice = lazy(() =>\r\n\timport(\r\n\t\t/* webpackPrefetch: true, webpackChunkName: \"SageAdvice\" */ \"./pages/SageAdvice/SageAdvice.jsx\"\r\n\t)\r\n);\r\n\r\nconst LazyLogin = lazy(() =>\r\n\timport(/* webpackChunkName: \"Login\" */ \"./pages/Login/Login.jsx\")\r\n);\r\n\r\nconst LazySignup = lazy(() =>\r\n\timport(/* webpackChunkName: \"Signup\" */ \"./pages/Signup/Signup.js\")\r\n);\r\n\r\nconst baseRoute = \"/\";\r\n\r\nconst AppRoutes = (props) => {\r\n\tconst { route } = props;\r\n\tconst { match, location } = route;\r\n\r\n\treturn (\r\n\t\t<Suspense fallback={<GlowingLoader />}>\r\n\t\t\t<Switch location={location}>\r\n\t\t\t\t<Route\r\n\t\t\t\t\tpath={`${match.path}client-type-select`}\r\n\t\t\t\t\trender={(route) => <ClientTypeSelect route={route} />}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<Route\r\n\t\t\t\t\tpath={`${match.path}classroom-select`}\r\n\t\t\t\t\trender={(route) => <ClassroomSelect route={route} />}\r\n\t\t\t\t/>\r\n\t\t\t\t<Route\r\n\t\t\t\t\tpath={`${match.path}classroom`}\r\n\t\t\t\t\trender={(route) => <Classroom route={route} />}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<Route path={`${baseRoute}advice`}>\r\n\t\t\t\t\t<SageAdvice />\r\n\t\t\t\t</Route>\r\n\r\n\t\t\t\t<Route\r\n\t\t\t\t\tpath={`${baseRoute}login`}\r\n\t\t\t\t\trender={(route) => <LazyLogin route={route} />}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<Route\r\n\t\t\t\t\tpath={`${baseRoute}signup`}\r\n\t\t\t\t\trender={(route) => <LazySignup route={route} />}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<Route path={`${baseRoute}loading`}>\r\n\t\t\t\t\t<GlowingLoader route={route} />\r\n\t\t\t\t</Route>\r\n\t\t\t\t<Route path={`${baseRoute}error`}>\r\n\t\t\t\t\t<ErrorBoundary debug={true} route={route} />\r\n\t\t\t\t</Route>\r\n\t\t\t\t<Route path={`${baseRoute}`}>\r\n\t\t\t\t\t<LogoScreen route={route}></LogoScreen>\r\n\t\t\t\t</Route>\r\n\t\t\t\t<Redirect to={`${match.path}client-type-select`} />\r\n\t\t\t</Switch>\r\n\t\t</Suspense>\r\n\t);\r\n};\r\n\r\nexport default AppRoutes;\r\n","const bgVideos = [\r\n\t{\r\n\t\toriginalTitle: \"Flying into clouds, above clouds and around clouds\",\r\n\t\turl: \"https://www.youtube.com/watch?v=VmMYfAR21KY\",\r\n\t\tstartSecond: 60 * 1 + 38,\r\n\t\tstopSecond: 60 * 2 + 16,\r\n\t\tgroupName: \"Clouds\",\r\n\t\topacity: 0.3,\r\n\t},\r\n\t{\r\n\t\toriginalTitle: \"Flying Above the Clouds\",\r\n\t\turl: \"https://www.youtube.com/watch?v=6AJl7DsL-1Y\",\r\n\t\tstartSecond: 15,\r\n\t\tstopSecond: 60 * 5 + 50,\r\n\t\tgroupName: \"Clouds\",\r\n\t},\r\n\r\n\t{\r\n\t\toriginalTitle:\r\n\t\t\t\"Softest Beach Sounds from the Tropics - Ocean Wave Sounds for Sleeping, Yoga, Meditation, Study\",\r\n\t\ttitle: \"Softest Beach Sounds from the Tropics\",\r\n\t\turl: \"https://www.youtube.com/watch?v=B1T06UhcX0Q\",\r\n\t\tgroupName: \"Beach\",\r\n\t},\r\n\r\n\t{\r\n\t\toriginalTitle: \"Relajarse: Sonidos del Mar, Playa HD - Relajación\",\r\n\t\ttitle: \"Relajarse\",\r\n\t\turl: \"https://www.youtube.com/watch?v=xkUyIYfmTmg\",\r\n\t\tgroupName: \"Beach\",\r\n\t\topacity: 0.9,\r\n\t},\r\n\r\n\t{\r\n\t\toriginalTitle:\r\n\t\t\t\"Tropical Island Beach Ambience Sound - Thailand Ocean Sounds For Relaxation And Holiday Feeling\",\r\n\t\ttitle: \"Tropical Island Beach, Thailand\",\r\n\t\turl: \"https://www.youtube.com/watch?v=DGIXT7ce3vQ\",\r\n\t\tstartSecond: 5,\r\n\t\tgroupName: \"Beach\",\r\n\t},\r\n\t{\r\n\t\toriginalTitle: \"Relaxar - Som do Mar e Praia Linda - Para Relaxar\",\r\n\t\ttitle: \"Relaxar\",\r\n\t\turl: \"https://www.youtube.com/watch?v=NKDhjZQFdS0\",\r\n\t\tstartSecond: 5,\r\n\t\tgroupName: \"Beach\",\r\n\t},\r\n\r\n\t{\r\n\t\toriginalTitle:\r\n\t\t\t\"Onda Beach Relaxing Waves - Dominican Ocean Sounds Will Help You Unwind\",\r\n\t\ttitle: \"Dominican Ocean Beach\",\r\n\t\turl: \"https://www.youtube.com/watch?v=Xn8tufsbSz0\",\r\n\t\tgroupName: \"Beach\",\r\n\t},\r\n\t{\r\n\t\toriginalTitle:\r\n\t\t\t\"Olas del Paraíso - Playa Hermosa con Sonidos Relajantes del Mar sin Música\",\r\n\t\ttitle: \"Olas del Paraíso\",\r\n\t\turl: \"https://www.youtube.com/watch?v=2IcdEJ4Jhs0\",\r\n\t\tgroupName: \"Beach\",\r\n\t},\r\n\t{\r\n\t\toriginalTitle:\r\n\t\t\t\"Relaxing 3 Hour Video of A Tropical Beach with Blue Sky White Sand and Palm Tree\",\r\n\t\ttitle: \"Tropical Beach with Palm Tree\",\r\n\t\turl: \"https://www.youtube.com/watch?v=qREKP9oijWI\",\r\n\t\tgroupName: \"Beach\",\r\n\t\topacity: 0.95,\r\n\t},\r\n\r\n\t{\r\n\t\toriginalTitle: \"Relaxing Music with Nature Sounds - Waterfall HD\",\r\n\t\ttitle: \"Waterfall\",\r\n\t\turl: \"https://www.youtube.com/watch?v=lE6RYpe9IT0\",\r\n\t\tgroupName: \"Waterfall\",\r\n\t},\r\n\t{\r\n\t\toriginalTitle:\r\n\t\t\t\"Relaxing Concentration Music: Study, Work – Focus – Soothing HD Nature Video\",\r\n\t\ttitle: \"Gorgeous Waterfall\",\r\n\t\turl: \"https://www.youtube.com/watch?v=SDZJElr9gFs\",\r\n\t\tgroupName: \"Waterfall\",\r\n\t\tstartSecond: 33,\r\n\t\tstopSecond: 60 * 3,\r\n\t},\r\n\t{\r\n\t\toriginalTitle:\r\n\t\t\t\"Relaxing River Sounds - Gentle River, Nature Sounds, Singing Birds Ambience\",\r\n\t\ttitle: \"Running River Next to Mountains\",\r\n\t\turl: \"https://www.youtube.com/watch?v=LiiYMEWKVnY\",\r\n\t\tgroupName: \"River\",\r\n\t},\r\n\t{\r\n\t\toriginalTitle:\r\n\t\t\t\"Relaxing Music & Campfire - Relaxing Guitar Music, Soothing Music, Calm Music\",\r\n\t\ttitle: \"Campfire\",\r\n\t\turl: \"https://www.youtube.com/watch?v=EqqpcFj8G-s\",\r\n\t\tstartSecond: 11,\r\n\t\tgroupName: \"Campfire\",\r\n\t},\r\n\t{\r\n\t\toriginalTitle:\r\n\t\t\t\"Crackling Mountain Campfire with Relaxing River, Wind and Fire Sounds (HD)\",\r\n\t\ttitle: \"Mountain Campfire\",\r\n\t\turl: \"https://www.youtube.com/watch?v=5gBJrZmbGLo\",\r\n\t\tstartSecond: 30,\r\n\t\t//stopSecond: 60 * 2 + 16,\r\n\t\tgroupName: \"Campfire\",\r\n\t},\r\n\r\n\t{\r\n\t\toriginalTitle:\r\n\t\t\t\"Calmsound Antarctic Wind - 10 Hour Katabatic Wind Sounds for Sleep and Relaxation\",\r\n\t\ttitle: \"Anarctic Wind\",\r\n\t\turl: \"https://www.youtube.com/watch?v=9NmeAQruCgs\",\r\n\t\tstartSecond: 2 * 60,\r\n\t\tgroupName: \"Snow\",\r\n\t},\r\n\t{\r\n\t\toriginalTitle:\r\n\t\t\t\"3 HOURS of Relaxing Snowfall: Beautiful Falling Heavy Snow - The Best Relax Music 1080p HD\",\r\n\t\ttitle: \"Falling Snow In a Forest\",\r\n\t\turl: \"https://www.youtube.com/watch?v=eS2ssUROF5o\",\r\n\t\tstartSecond: 6,\r\n\t\tgroupName: \"Snow\",\r\n\t},\r\n\t{\r\n\t\toriginalTitle:\r\n\t\t\t\"Driving in Switzerland 6: From Grindelwald to Lauterbrunnen | 4K 60fps\",\r\n\t\ttitle: \"Switzerland Drive\",\r\n\t\turl: \"https://www.youtube.com/watch?v=b-WViLMs_4c\",\r\n\t\tstartSecond: 4 * 60 + 51,\r\n\t\tgroupName: \"Driving\",\r\n\t},\r\n\t{\r\n\t\toriginalTitle:\r\n\t\t\t\"Zion Nationalpark - Scenic Drive, Utah - Full Ride - Onboard Front View\",\r\n\t\ttitle: \"Zion Nationalpark Drive\",\r\n\t\turl: \"https://www.youtube.com/watch?v=rXKt0qhFN-Y\",\r\n\t\tstartSecond: 60 * 1.5,\r\n\t\tstopSecond: 60 * 23,\r\n\t\tgroupName: \"Driving\",\r\n\t},\r\n\r\n\t{\r\n\t\toriginalTitle:\r\n\t\t\t\"We bit off MUCH more than we could pedal | Mountain Biking Downieville\",\r\n\t\ttitle: \"Cycling Down a Mountain\",\r\n\t\turl: \"https://www.youtube.com/watch?v=xQTsfbUvWc4\",\r\n\t\tstartSecond: 60 * 4 + 28,\r\n\t\tstopSecond: 60 * 12 + 25,\r\n\t\tgroupName: \"Driving\",\r\n\t},\r\n\r\n\t{\r\n\t\toriginalTitle:\r\n\t\t\t\"Full Race Replay: 2020 Daytona 500 | NASCAR at Daytona International Speedway\",\r\n\t\ttitle: \"Daytona Beach NASCAR race\",\r\n\t\turl: \"youtube.com/watch?v=tmfKfEZGxH4\",\r\n\t\tstartSecond: 60 * 32 + 47,\r\n\t\tstopSecond: 60 * 56 + 30,\r\n\t\tgroupName: \"Racing\",\r\n\t},\r\n\r\n\t{\r\n\t\toriginalTitle: \"The Best Surfing Clips of 2019\",\r\n\t\ttitle: \"The Best Surfing Clips of 2019\",\r\n\t\turl: \"https://www.youtube.com/watch?v=hwLo7aU1Aas\",\r\n\t\tstartSecond: 18,\r\n\t\tgroupName: \"Surfing\",\r\n\t},\r\n\r\n\t{\r\n\t\toriginalTitle:\r\n\t\t\t\"Sleep Music in Underwater Paradise: Deep Relaxing Music, Sleeping Music, Meditation Music 147\",\r\n\t\ttitle: \"Underwater Paradise\",\r\n\t\turl: \"https://www.youtube.com/watch?v=OVct34NUk3U\",\r\n\t\tstartSecond: 60 * 8,\r\n\t\tgroupName: \"Underwater\",\r\n\t},\r\n\t{\r\n\t\toriginalTitle: \"Michael Jordan Top 50 All Time Plays\",\r\n\t\ttitle: \"Michael Jordan's Best Plays\",\r\n\t\turl: \"https://www.youtube.com/watch?v=LAr6oAKieHk\",\r\n\t\tstartSecond: 23,\r\n\t\tgroupName: \"Sports\",\r\n\t},\r\n];\r\n\r\nexport default bgVideos;\r\n","import React, { Suspense, lazy, useEffect, useState } from \"react\";\nimport {\n\tRoute,\n\tBrowserRouter as Router,\n\tSwitch,\n\tRedirect,\n} from \"react-router-dom\";\nimport { ThemeProvider } from \"@material-ui/styles\";\n\nimport View from \"./components/layout/View.jsx\";\nimport EntireView from \"./components/layout/EntireView.jsx\";\nimport ErrorBoundary from \"./pages/ErrorPage/ErrorPage.jsx\";\nimport RealtimeManager from \"./components/RealtimeManager/RealtimeManager.jsx\";\nimport \"./index.scss\";\n\n//The Apollo client is what is interacting with our GraphQL server on the backend. It's what is making requests for data and storing it locally when the data comes back. It doesn't know/care that we working with React.\nimport { ApolloClient, ApolloProvider, InMemoryCache } from \"@apollo/client\"; //the glue layer between the ApolloClient and the React app. It's a React component, similar to the Redux provider\n\nimport { AppContextProvider } from \"./contexts/AppContext.jsx\";\nimport { DeviceContextProvider } from \"./contexts/DeviceContext.jsx\";\nimport theme from \"./constants/theme.js\";\n\nimport AppRoutes from \"./AppRoutes.js\";\nimport VideoPlayer from \"./components/VideoPlayer/VideoPlayer.jsx\";\nimport bgVideos from \"./constants/bgVideos.js\";\n\nimport {\n\tRecoilRoot,\n\t// atom,\n\t// selector,\n\t// useRecoilState,\n\t// useRecoilValue,\n\t//useSetRecoilState,\n} from \"recoil\";\n// import { RecoilRoot } from \"recoil/dist/recoil.production\";\n\nconst client = new ApolloClient({\n\t// uri: \"http://localhost:5000/graphql\",\n\t// uri: DEBUGGING\n\t// \t? \"http://localhost:5000/graphql\" :\n\turi: \"https://weiss-class.herokuapp.com/graphql\",\n\n\tcache: new InMemoryCache(),\n\n\t//by default, ApolloClient makes the assumption that our graphQL server is running on /graphql route\n\t//for the vast majority of use cases, there is no need to pass in any specific configurations\n\tdataIdFromObject: (obj) => obj.id, //every piece of data will run through this function. Whatever is returned from the function will be used to identify the piece of data inside of the Apollo client/store\n\t//The ramification of this line here, is that we have to ask for an id property to be returned from every single query we do\n});\n\nconst App = (props) => {\n\tconst [video, setVideo] = useState(bgVideos[0]);\n\tconst [isPlaying, setIsPlaying] = useState(false);\n\n\treturn (\n\t\t<ApolloProvider client={client}>\n\t\t\t<RecoilRoot>\n\t\t\t\t<ThemeProvider theme={theme}>\n\t\t\t\t\t<AppContextProvider>\n\t\t\t\t\t\t<DeviceContextProvider>\n\t\t\t\t\t\t\t<Router>\n\t\t\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\t\t\trender={(route) => {\n\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t<RealtimeManager>\n\t\t\t\t\t\t\t\t\t\t\t\t<EntireView animate=\"false\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<ErrorBoundary>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<View\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tresponsive={true}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tanimateChildren={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfalse\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey=\"innerView\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<VideoPlayer\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tposition:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"absolute\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tzIndex: -1,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvideo={video}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontrols={false}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tnoInteraction={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttrue\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlight={false}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaying={true}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmuted={true}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvolume={0}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tscaleToFitViewport={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttrue\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstartSecond={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvideo.startSecond ||\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t0\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstopSecond={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvideo.stopSecond\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonPlay={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetIsPlaying(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttrue\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t></VideoPlayer>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<AppRoutes\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\toverflow:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"auto\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\troute={route}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</View>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</ErrorBoundary>\n\t\t\t\t\t\t\t\t\t\t\t\t</EntireView>\n\t\t\t\t\t\t\t\t\t\t\t</RealtimeManager>\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t></Route>\n\t\t\t\t\t\t\t</Router>\n\t\t\t\t\t\t</DeviceContextProvider>\n\t\t\t\t\t</AppContextProvider>\n\t\t\t\t</ThemeProvider>\n\t\t\t</RecoilRoot>\n\t\t</ApolloProvider>\n\t);\n};\n\nexport default App;\n","// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport default function register() {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Lets check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://goo.gl/SC7cgQ'\n          );\n        });\n      } else {\n        // Is not local host. Just register service worker\n        registerValidSW(swUrl);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the old content will have been purged and\n              // the fresh content will have been added to the cache.\n              // It's the perfect time to display a \"New content is\n              // available; please refresh.\" message in your web app.\n              console.log('New content is available; please refresh.');\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App.jsx\";\nimport registerServiceWorker from \"./PWA/registerServiceWorker\";\nimport \"./index.scss\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\nregisterServiceWorker();\n","//* Safely log messages to the console only in DEVELOPMENT mode\r\n// * If needed, log while in production, too\r\n// logg.js -->> L.O. double G., the real OG of logging, meng\r\n// ===================================\r\n// Features:\r\n// * Keeps the original line reference!\r\n// * Supports printing a complimentary label to the data\r\n// * Alternatively, pass in \"this\" to use the name of the component as the label!\r\n// * Logg errors as well\r\n// * Built-in style presets\r\n// * Zero dependencies, itsy-bitsy in size 8-)\r\n\r\n// Usage\r\n// ----------\r\n// // const {logg, loggError} = new Logger({label:\"homepage\"});\r\n//logg(data);\r\n\r\n//or:\r\n\r\n/// const {logg, loggError} = new Logger({context:this});\r\n//logg(data);{}\r\n\r\nconst isString = arg => {\r\n\tif (!arg && arg !== \"\") return false;\r\n\treturn typeof arg === \"string\" || arg instanceof String;\r\n};\r\nconst isObject = arg => typeof arg === \"object\" && arg !== null;\r\n\r\nconst styles = {\r\n\tred: \"background-color: red; font-size: 150%; padding: 2px;\",\r\n\tpurple: \"color: #9575cd;\", //default\r\n\tblue: \"color: #4dd0e1;\",\r\n\torange: \"background-color: ##e0e0e0; color: orange\",\r\n\tsilver: \"color: #A5FF7FFF; background-color: #80808080\",\r\n\tsuccess:\r\n\t\t\"background-color: rgb(153, 204, 255); color: white; font-size: 125%;\",\r\n\terror: \"background: red; color: white; font-size: 125%;\",\r\n\terror2: \"background: darkgray; color: red; font-size: 125%;\",\r\n\twarning: \"background: yellow; color: white; font-size: 125%;\",\r\n\tspecial: \"background-color: rgb(204, 153, 255); font-size: 125%;\"\r\n};\r\n\r\nconst isDevelopmentMode = process.env.NODE_ENV === \"development\";\r\n\r\nconst LoggFactory = (preface = \"\", styles = \"\", logInProduction = false) => {\r\n\tif (isDevelopmentMode || logInProduction) {\r\n\t\treturn console.log.bind(null, preface, styles);\r\n\t}\r\n\t//do nothing (without causing errors :) )\r\n\treturn () => null;\r\n};\r\n\r\nclass Logger {\r\n\tlabel = \"\";\r\n\tcontext;\r\n\tpreface;\r\n\tstylePreset;\r\n\tconstructor(config = {}) {\r\n\t\tconst {\r\n\t\t\tlabel = \"\",\r\n\t\t\tcontext,\r\n\t\t\tstylePreset,\r\n\t\t\tlogInProduction = false\r\n\t\t} = config;\r\n\t\tif (label && isString(label)) {\r\n\t\t\tconst spacedoutLabel = ` ${label} `;\r\n\t\t\tthis.label = spacedoutLabel;\r\n\t\t\tthis.preface = \"%c\" + spacedoutLabel;\r\n\t\t} else if (context && isObject(context)) {\r\n\t\t\tthis.context = context.__proto__.constructor.name;\r\n\t\t\tthis.preface = \"%c\" + this.context;\r\n\t\t} else {\r\n\t\t\tthis.preface = \"_\";\r\n\t\t}\r\n\t\tthis.stylePreset =\r\n\t\t\tstylePreset && isString(stylePreset) && styles[stylePreset]\r\n\t\t\t\t? stylePreset\r\n\t\t\t\t: \"purple\";\r\n\r\n\t\tthis.logg = LoggFactory(\r\n\t\t\tthis.preface,\r\n\t\t\tstyles[this.stylePreset],\r\n\t\t\tlogInProduction\r\n\t\t);\r\n\t\tthis.loggError = LoggFactory(\r\n\t\t\tthis.preface,\r\n\t\t\tstyles.error,\r\n\t\t\tlogInProduction\r\n\t\t);\r\n\t\tthis.loggWarning = LoggFactory(\r\n\t\t\tthis.preface,\r\n\t\t\tstyles.warning,\r\n\t\t\tlogInProduction\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default Logger;\r\n","import React from \"react\";\r\nimport Logger from \"../lib/logg.js\";\r\n\r\nconst useLogg = (config) => {\r\n\tconst { logg, loggError } = new Logger(config);\r\n\treturn { logg, loggError };\r\n};\r\n\r\nexport default useLogg;\r\n","import DURATIONS from \"./durations.js\";\r\n\r\nconst COLORS = {\r\n\tprimary: \"rgba(148, 116, 204, 1)\",\r\n\tsecondary: \"rgba(68, 221, 238, 1)\",\r\n\tblack: \"rgba(0, 0, 0, 1)\",\r\n\twhite: \"rgba(255, 255, 255, 1)\",\r\n\tcanvas: \"rgba(224, 224, 224, 1)\",\r\n};\r\n\r\nconst BASE_POSES = {\r\n\t//NOTE: By itself, BASE_POSES won't animate anything. Spread Its objects AND THEN add a property to animate, such as opacity, x, rotateX, and so on.\r\n\tenter: {\r\n\t\tafterChildren: true,\r\n\t\t// delayChildren: 0,\r\n\t\t// delay: 0,\r\n\t\ttransition: { duration: DURATIONS.enter }, //used to be 200}\r\n\r\n\t\tdelay: 0,\r\n\t},\r\n\texit: {\r\n\t\tafterChildren: true,\r\n\t\t// delay: DURATIONS.exit * 0.5,\r\n\t\t// delayChildren: 0,\r\n\t\ttransition: { duration: DURATIONS.exit }, //used to be 200\r\n\t},\r\n};\r\nconst POSES = {\r\n\tdraggable: {\r\n\t\tdraggable: true,\r\n\t\tdragEnd: { x: 0, y: 0, transition: \"spring\" }, //spring back to original position\r\n\t},\r\n\tword__draggable: {\r\n\t\tdraggable: true,\r\n\t\tdragEnd: { x: 0, y: 0, transition: \"spring\" }, //spring back to original position,\r\n\t},\r\n\tword__draggable__remain: {\r\n\t\tdraggable: true,\r\n\t\t// dragEnd: { x: 0, y: 0, transition: \"spring\" }\r\n\t},\r\n\tchar__draggable: {\r\n\t\tdrag: {\r\n\t\t\ty: 0,\r\n\t\t\ttransition: ({ charInWordIndex }) => ({\r\n\t\t\t\ttype: \"spring\",\r\n\t\t\t\tvelocity: 100 * Math.sin(1 + charInWordIndex),\r\n\t\t\t\tdamping: 0,\r\n\t\t\t}),\r\n\t\t},\r\n\t\tdragEnd: {\r\n\t\t\ty: 0,\r\n\t\t\tx: 0,\r\n\t\t\ttransition: {\r\n\t\t\t\ttype: \"spring\",\r\n\t\t\t\tdamping: 10,\r\n\t\t\t\tstiffness: 1000,\r\n\t\t\t},\r\n\t\t},\r\n\t},\r\n\tchar__draggable__appear: {\r\n\t\texit: {\r\n\t\t\topacity: 0,\r\n\r\n\t\t\tcolor: COLORS.white,\r\n\t\t\ttransition: ({\r\n\t\t\t\twordIndex,\r\n\t\t\t\tnumWords,\r\n\t\t\t\tcharIndex,\r\n\t\t\t\tnumChars,\r\n\t\t\t\tcharInWordIndex,\r\n\t\t\t\tnumCharsInWord,\r\n\t\t\t}) => ({\r\n\t\t\t\tduration: DURATIONS.enter * 0.25,\r\n\t\t\t}),\r\n\t\t},\r\n\r\n\t\tenter: {\r\n\t\t\topacity: 1,\r\n\r\n\t\t\tcolor: COLORS.black,\r\n\t\t\tbackgroundColor: ({ wordIndex, numWords }) =>\r\n\t\t\t\t`rgba(255,255,255,${wordIndex === numWords - 1 ? 1 : 0})`,\r\n\t\t\tdelay: ({ wordIndex, numWords, charIndex, speechRate }) =>\r\n\t\t\t\t(wordIndex === 0 ? 1.25 : numWords === wordIndex + 1 ? 1 : 1) *\r\n\t\t\t\t(450 * (1 - speechRate) +\r\n\t\t\t\t\twordIndex * 8 * 30 * (wordIndex >= numWords - 1 ? 1.1 : 1)),\r\n\t\t\ttransition: ({\r\n\t\t\t\twordIndex,\r\n\t\t\t\tnumWords,\r\n\t\t\t\tcharIndex,\r\n\t\t\t\tnumChars,\r\n\t\t\t\tcharInWordIndex,\r\n\t\t\t\tnumCharsInWord,\r\n\t\t\t}) => ({\r\n\t\t\t\tduration: DURATIONS.enter,\r\n\t\t\t}),\r\n\t\t},\r\n\t\tdrag: {\r\n\t\t\ty: 0,\r\n\t\t\topacity: 1,\r\n\t\t\ttransition: ({ charInWordIndex }) => ({\r\n\t\t\t\ttype: \"spring\",\r\n\t\t\t\tvelocity: 100 * Math.sin(1 + charInWordIndex),\r\n\t\t\t\tdamping: 0,\r\n\t\t\t}),\r\n\t\t},\r\n\t\tdragEnd: {\r\n\t\t\ty: 0,\r\n\t\t\tx: 0,\r\n\t\t\topacity: 1,\r\n\t\t\ttransition: {\r\n\t\t\t\ttype: \"spring\",\r\n\t\t\t\tdamping: 10,\r\n\t\t\t\tstiffness: 1000,\r\n\t\t\t},\r\n\t\t},\r\n\t},\r\n\tchar__wobbling: {\r\n\t\tenter: {\r\n\t\t\ty: 0,\r\n\t\t\ttransition: ({ charInWordIndex }) => ({\r\n\t\t\t\ttype: \"spring\",\r\n\t\t\t\tvelocity: 100 * Math.sin(1 + charInWordIndex),\r\n\t\t\t\tdamping: 0,\r\n\t\t\t}),\r\n\t\t},\r\n\t\tdrag: {\r\n\t\t\ty: 0,\r\n\t\t\ttransition: ({ charInWordIndex }) => ({\r\n\t\t\t\ttype: \"spring\",\r\n\t\t\t\tvelocity: 100 * Math.sin(1 + charInWordIndex),\r\n\t\t\t\tdamping: 0,\r\n\t\t\t}),\r\n\t\t},\r\n\t\tdragEnd: {\r\n\t\t\ty: 0,\r\n\t\t\ttransition: ({ charInWordIndex }) => ({\r\n\t\t\t\ttype: \"spring\",\r\n\t\t\t\tvelocity: 100 * Math.sin(1 + charInWordIndex),\r\n\t\t\t\tdamping: 0,\r\n\t\t\t}),\r\n\t\t},\r\n\t},\r\n\tchar: {\r\n\t\texit: {\r\n\t\t\topacity: 0,\r\n\t\t\tcolor: COLORS.secondary,\r\n\t\t\ttransition: ({\r\n\t\t\t\twordIndex,\r\n\t\t\t\tnumWords,\r\n\t\t\t\tcharIndex,\r\n\t\t\t\tnumChars,\r\n\t\t\t\tcharInWordIndex,\r\n\t\t\t\tnumCharsInWord,\r\n\t\t\t}) => ({\r\n\t\t\t\tduration: DURATIONS.enter,\r\n\t\t\t}),\r\n\t\t},\r\n\r\n\t\tenter: {\r\n\t\t\topacity: 1,\r\n\t\t\tcolor: COLORS.black,\r\n\t\t\tbackgroundColor: ({ wordIndex, numWords }) =>\r\n\t\t\t\t`rgba(255,255,255,${wordIndex === numWords - 1 ? 1 : 0})`,\r\n\t\t\tdelay: ({ wordIndex, numWords, charIndex }) =>\r\n\t\t\t\twordIndex * 220 * (wordIndex >= numWords - 1 ? 1.1 : 1) +\r\n\t\t\t\tcharIndex * 30,\r\n\t\t\ttransition: ({\r\n\t\t\t\twordIndex,\r\n\t\t\t\tnumWords,\r\n\t\t\t\tcharIndex,\r\n\t\t\t\tnumChars,\r\n\t\t\t\tcharInWordIndex,\r\n\t\t\t\tnumCharsInWord,\r\n\t\t\t}) => ({\r\n\t\t\t\tduration: DURATIONS.enter,\r\n\t\t\t}),\r\n\t\t},\r\n\t},\r\n\tchar__stagger: {\r\n\t\texit: {\r\n\t\t\t// opacity: 0,\r\n\t\t\tcolor: COLORS.primary,\r\n\t\t\ttransition: ({\r\n\t\t\t\twordIndex,\r\n\t\t\t\tnumWords,\r\n\t\t\t\tcharIndex,\r\n\t\t\t\tnumChars,\r\n\t\t\t\tcharInWordIndex,\r\n\t\t\t\tnumCharsInWord,\r\n\t\t\t}) => ({\r\n\t\t\t\tduration: DURATIONS.enter,\r\n\t\t\t}),\r\n\t\t},\r\n\r\n\t\tenter: {\r\n\t\t\t// opacity: 1,\r\n\t\t\tcolor: COLORS.black,\r\n\t\t\tdelay: ({ wordIndex, numWords, charIndex }) =>\r\n\t\t\t\tcharIndex * DURATIONS.enter * 0.25,\r\n\t\t\ttransition: ({\r\n\t\t\t\twordIndex,\r\n\t\t\t\tnumWords,\r\n\t\t\t\tcharIndex,\r\n\t\t\t\tnumChars,\r\n\t\t\t\tcharInWordIndex,\r\n\t\t\t\tnumCharsInWord,\r\n\t\t\t}) => ({\r\n\t\t\t\tduration: DURATIONS.enter,\r\n\t\t\t}),\r\n\t\t},\r\n\t},\r\n\tchar_fadeIn__old: {\r\n\t\texit: {\r\n\t\t\topacity: 0,\r\n\t\t\t// scale: ({ wordIndex, numWords, charIndex, speechRate }) =>\r\n\t\t\t// \twordIndex + 1 === numWords ? 4 : 0,\r\n\t\t\t// color: COLORS.white,\r\n\t\t\ttransition: ({\r\n\t\t\t\twordIndex,\r\n\t\t\t\tnumWords,\r\n\t\t\t\tcharIndex,\r\n\t\t\t\tnumChars,\r\n\t\t\t\tcharInWordIndex,\r\n\t\t\t\tnumCharsInWord,\r\n\t\t\t}) => ({\r\n\t\t\t\tduration: DURATIONS.enter * 0.5,\r\n\t\t\t}),\r\n\t\t},\r\n\r\n\t\tenter: {\r\n\t\t\topacity: 1,\r\n\t\t\t// scale: 1,\r\n\t\t\t// color: COLORS.black,\r\n\t\t\t// backgroundColor: ({ wordIndex, numWords }) =>\r\n\t\t\t// \t`rgba(255,255,255,0})`,\r\n\t\t\tdelay: 0,\r\n\t\t\ttransition: ({\r\n\t\t\t\twordIndex,\r\n\t\t\t\tnumWords,\r\n\t\t\t\tcharIndex,\r\n\t\t\t\tnumChars,\r\n\t\t\t\tcharInWordIndex,\r\n\t\t\t\tnumCharsInWord,\r\n\t\t\t\tspeechRate = 0.75,\r\n\t\t\t}) => ({\r\n\t\t\t\tduration: DURATIONS.enter,\r\n\t\t\t}),\r\n\t\t},\r\n\t},\r\n\tchar_fadeIn: {\r\n\t\texit: {\r\n\t\t\topacity: 0,\r\n\t\t\tscale: ({ wordIndex, numWords, charIndex, speechRate }) =>\r\n\t\t\t\twordIndex + 1 === numWords ? 4 : 0,\r\n\t\t\t// color: COLORS.white,\r\n\t\t\ttransition: ({\r\n\t\t\t\twordIndex,\r\n\t\t\t\tnumWords,\r\n\t\t\t\tcharIndex,\r\n\t\t\t\tnumChars,\r\n\t\t\t\tcharInWordIndex,\r\n\t\t\t\tnumCharsInWord,\r\n\t\t\t}) => ({\r\n\t\t\t\tduration: DURATIONS.enter * 0.5,\r\n\t\t\t}),\r\n\t\t},\r\n\r\n\t\tenter: {\r\n\t\t\topacity: 1,\r\n\t\t\tscale: 1,\r\n\t\t\t// color: COLORS.black,\r\n\t\t\t// backgroundColor: ({ wordIndex, numWords }) =>\r\n\t\t\t// \t`rgba(255,255,255,0})`,\r\n\t\t\tdelay: ({ wordIndex, numWords, charIndex, speechRate }) =>\r\n\t\t\t\t(wordIndex === 0 ? 1 : numWords === wordIndex + 1 ? 1 : 1) *\r\n\t\t\t\t(DURATIONS.enter * (1 - speechRate) +\r\n\t\t\t\t\twordIndex *\r\n\t\t\t\t\t8 * //9.25 for google uk female\r\n\t\t\t\t\t\t30 *\r\n\t\t\t\t\t\t(wordIndex >= numWords - 1 ? 1.05 : 1)),\r\n\t\t\ttransition: ({\r\n\t\t\t\twordIndex,\r\n\t\t\t\tnumWords,\r\n\t\t\t\tcharIndex,\r\n\t\t\t\tnumChars,\r\n\t\t\t\tcharInWordIndex,\r\n\t\t\t\tnumCharsInWord,\r\n\t\t\t\tspeechRate = 0.75,\r\n\t\t\t}) => ({\r\n\t\t\t\tduration:\r\n\t\t\t\t\tDURATIONS.enter * (1 - speechRate) +\r\n\t\t\t\t\t60 * (numWords === wordIndex + 1 ? 1.5 : 1),\r\n\t\t\t}),\r\n\t\t},\r\n\t},\r\n\r\n\tchar_fadeIn_sentence: {\r\n\t\texit: {\r\n\t\t\topacity: 0,\r\n\t\t\tx: \"-2rem\",\r\n\t\t\tskew: \"45deg\",\r\n\t\t\t// color: ({ exitColor = COLORS.black }) => exitColor,\r\n\t\t\ttransition: ({\r\n\t\t\t\twordIndex,\r\n\t\t\t\tnumWords,\r\n\t\t\t\tcharIndex,\r\n\t\t\t\tnumChars,\r\n\t\t\t\tcharInWordIndex,\r\n\t\t\t\tnumCharsInWord,\r\n\t\t\t}) => ({\r\n\t\t\t\tduration: DURATIONS.exit,\r\n\t\t\t}),\r\n\t\t},\r\n\r\n\t\tenter: {\r\n\t\t\topacity: 1,\r\n\t\t\tx: \"0rem\",\r\n\t\t\tskew: \"0deg\",\r\n\t\t\t// color: ({ enterColor = COLORS.white }) => enterColor,\r\n\t\t\tdelay: ({\r\n\t\t\t\twordIndex,\r\n\t\t\t\tnumWords,\r\n\t\t\t\tcharIndex,\r\n\t\t\t\tspeechRate,\r\n\t\t\t\tdelayPerWord = DURATIONS.enter * 0.1,\r\n\t\t\t}) => wordIndex * delayPerWord,\r\n\t\t\ttransition: ({\r\n\t\t\t\twordIndex,\r\n\t\t\t\tnumWords,\r\n\t\t\t\tcharIndex,\r\n\t\t\t\tnumChars,\r\n\t\t\t\tcharInWordIndex,\r\n\t\t\t\tnumCharsInWord,\r\n\t\t\t\tappearDuration = DURATIONS.enter,\r\n\t\t\t}) => ({\r\n\t\t\t\tduration: appearDuration,\r\n\t\t\t\ttype: \"spring\",\r\n\t\t\t\tmass: 0.5,\r\n\t\t\t}),\r\n\t\t},\r\n\t\tdrag: {\r\n\t\t\ty: 0,\r\n\t\t\ttransition: ({ charInWordIndex }) => ({\r\n\t\t\t\ttype: \"spring\",\r\n\t\t\t\tvelocity: 75 * Math.sin(1 + charInWordIndex),\r\n\t\t\t\tdamping: 0,\r\n\t\t\t}),\r\n\t\t\t// background: \"rgba(257, 20, 0, 0)\"\r\n\t\t},\r\n\t\tdragEnd: {\r\n\t\t\ty: 0,\r\n\t\t\tx: 0,\r\n\t\t\ttransition: {\r\n\t\t\t\ttype: \"spring\",\r\n\t\t\t\tdamping: 10,\r\n\t\t\t\tstiffness: 1000,\r\n\t\t\t},\r\n\t\t},\r\n\t},\r\n\r\n\tlist: {\r\n\t\tvisible: {\r\n\t\t\tnothing: \"0%\", //to animate children\r\n\t\t\tstaggerChildren: ({ round = 0, numAnswers = 4, overallStep = 0 }) =>\r\n\t\t\t\tround === 0\r\n\t\t\t\t\t? DURATIONS.enter + DURATIONS.freeze\r\n\t\t\t\t\t: Math.max(\r\n\t\t\t\t\t\t\t50,\r\n\t\t\t\t\t\t\tDURATIONS.enter -\r\n\t\t\t\t\t\t\t\t(overallStep + 1) * 30 * numAnswers\r\n\t\t\t\t\t  ),\r\n\t\t\tstaggerDirection: -1,\r\n\t\t},\r\n\t\thidden: {\r\n\t\t\tnothing: \"100%\",\r\n\t\t\tstaggerChildren: ({ round = 0, overallStep = 0, numAnswers = 2 }) =>\r\n\t\t\t\t100 ||\r\n\t\t\t\tMath.max(100, DURATIONS.exit - overallStep * numAnswers * 5),\r\n\t\t\tstaggerDirection: 1,\r\n\t\t},\r\n\t\tprops: { step: 0, round: 0, numAnswers: 4 },\r\n\t},\r\n\tlist__grid: {\r\n\t\tvisible: {\r\n\t\t\tnothing: \"0%\", //to animate children\r\n\t\t\tstaggerChildren: ({ round = 0, numAnswers = 4, overallStep = 0 }) =>\r\n\t\t\t\tround === 0\r\n\t\t\t\t\t? DURATIONS.enter + DURATIONS.freeze\r\n\t\t\t\t\t: Math.max(\r\n\t\t\t\t\t\t\t50,\r\n\t\t\t\t\t\t\tDURATIONS.enter -\r\n\t\t\t\t\t\t\t\t(overallStep + 1) * 30 * numAnswers\r\n\t\t\t\t\t  ),\r\n\t\t\tstaggerDirection: -1,\r\n\t\t},\r\n\t\thidden: {\r\n\t\t\tnothing: \"100%\",\r\n\t\t\tstaggerChildren: ({ round = 0, overallStep = 0, numAnswers = 2 }) =>\r\n\t\t\t\tMath.max(100, DURATIONS.exit - overallStep * numAnswers * 5),\r\n\t\t\tstaggerDirection: 1,\r\n\t\t},\r\n\t\tprops: { step: 0, round: 0, numAnswers: 4 },\r\n\t},\r\n\tview_main: {\r\n\t\tenter: {\r\n\t\t\tbeforeChildren: true,\r\n\t\t\tdelay: 0,\r\n\t\t\ttransition: { duration: 1 },\r\n\t\t},\r\n\t\texit: {\r\n\t\t\tafterChildren: false,\r\n\t\t\tdelay: 0,\r\n\t\t\ttransition: { duration: 1 },\r\n\t\t},\r\n\t},\r\n\tview: {\r\n\t\t// init: { rotateY: \"180deg\" },\r\n\t\tenter: {\r\n\t\t\t// rotateY: \"0deg\",\r\n\t\t\t// rotateX: \"0deg\",\r\n\t\t\t// scale: 1,\r\n\t\t\t// applyAtStart: { opacity: 0 },\r\n\t\t\topacity: 1,\r\n\t\t\t// x: \"0%\",\r\n\t\t\tbeforeChildren: true,\r\n\t\t\t// delay: DURATIONS.enter,\r\n\t\t\tdelay: 0,\r\n\t\t\tdelayChildren: DURATIONS.enter,\r\n\t\t\tflip: true,\r\n\t\t\ttransition: { duration: DURATIONS.exit },\r\n\t\t\t//y: \"0%\"\r\n\t\t},\r\n\t\texit: {\r\n\t\t\topacity: 0,\r\n\t\t\t// scale: 0.9,\r\n\t\t\t// applyAtStart: { opacity: 0 },\r\n\t\t\t// rotateY: \"90deg\",\r\n\t\t\t// rotateX: \"90deg\",\r\n\t\t\t// x: \"-100%\",\r\n\t\t\tdelay: 0,\r\n\t\t\tafterChildren: true,\r\n\t\t\t// flip: true,\r\n\t\t\ttransition: { duration: DURATIONS.enter },\r\n\t\t\t// transition: { duration: DURATIONS.enter * 0.5},\r\n\t\t\t// beforeChildren: true\r\n\r\n\t\t\t//y: \"100%\"\r\n\t\t},\r\n\t},\r\n\topacity: {\r\n\t\tenter: {\r\n\t\t\t...BASE_POSES.enter,\r\n\t\t\topacity: 1,\r\n\t\t},\r\n\t\texit: {\r\n\t\t\t...BASE_POSES.exit,\r\n\t\t\topacity: 0,\r\n\t\t},\r\n\t},\r\n\tcard: {\r\n\t\thidden: {\r\n\t\t\topacity: 0,\r\n\t\t\tscale: ({ i, step = 0, quizIsDone = false, round = 0 }) =>\r\n\t\t\t\tstep === 0 ? 2.5 : 2,\r\n\r\n\t\t\tboxShadow: ({ i, step = 0, round = 0 }) =>\r\n\t\t\t\t//assuming 2 rows with 2 items in each\r\n\t\t\t\t`${i % 2 === 0 ? \"32\" : \"-32\"}px ${-24 *\r\n\t\t\t\t\t(step === 0 ? 1 : 0.2)}px ${\r\n\t\t\t\t\ti < 2 ? \"24\" : \"24\"\r\n\t\t\t\t}px rgba(${\"68, 221, 238, 1\"})`,\r\n\t\t\tx: ({ i, step = 0, round = 0 }) =>\r\n\t\t\t\twindow.innerWidth *\r\n\t\t\t\t(i % 2 === 0 ? 1 : -1) *\r\n\t\t\t\t(step === 0 && round === 0 ? 0.75 : 2),\r\n\r\n\t\t\ty: ({ i, step = 0, round = 0 }) =>\r\n\t\t\t\tstep === 0 && round === 0\r\n\t\t\t\t\t? window.innerHeight * -1 * (i < 2 ? 1.25 : 1.5)\r\n\t\t\t\t\t: 1,\r\n\t\t\ttransition: ({ step = 0, round = 0 }) => ({\r\n\t\t\t\tdelay: 0,\r\n\t\t\t\tduration:\r\n\t\t\t\t\tround === 0 && step === 0\r\n\t\t\t\t\t\t? DURATIONS.enter\r\n\t\t\t\t\t\t: DURATIONS.enter * 0.5,\r\n\t\t\t\ttype: \"spring\",\r\n\t\t\t\tstiffness: step === 0 ? 15 : 10,\r\n\t\t\t\tmass: step === 0 ? 1 : 0.8,\r\n\t\t\t\tdamping: step === 0 ? 20 : 5,\r\n\t\t\t}),\r\n\t\t},\r\n\t\tvisible: {\r\n\t\t\t//enter and re-enter\r\n\t\t\topacity: 1,\r\n\t\t\tscale: 1,\r\n\t\t\tboxShadow: ({ i, step = 0, round = 0 }) =>\r\n\t\t\t\t//assuming 2 rows with 2 items in each\r\n\t\t\t\t`${(step === 0 ? 8 : 1) *\r\n\t\t\t\t\t(i % 2 === 0 ? \"1\" : \"-1\")}px ${(step === 0 ? 1 : 0.2) *\r\n\t\t\t\t\t-4}px ${i < 2 ? \"4\" : \"4\"}px rgba(${\"148, 116, 204, 0\"})`,\r\n\t\t\tx: 0,\r\n\t\t\ty: 0,\r\n\t\t\ttransition: ({\r\n\t\t\t\ti,\r\n\t\t\t\tdelay = DURATIONS.enter,\r\n\t\t\t\tactive,\r\n\t\t\t\tstep = 0,\r\n\t\t\t\tround = 0,\r\n\t\t\t}) => ({\r\n\t\t\t\tdelay: 0,\r\n\t\t\t\tduration:\r\n\t\t\t\t\tstep > 0\r\n\t\t\t\t\t\t? 0\r\n\t\t\t\t\t\t: round === 0\r\n\t\t\t\t\t\t? DURATIONS.enter\r\n\t\t\t\t\t\t: DURATIONS.enter * 0.75,\r\n\t\t\t\ttype: \"spring\",\r\n\t\t\t\tstiffness: step === 0 ? 30 : 25,\r\n\t\t\t\tmass: step === 0 ? 0.8 : 1,\r\n\t\t\t\tdamping: step === 0 ? 12 : 100,\r\n\t\t\t}),\r\n\t\t},\r\n\t\tpressable: ({ active }) => active,\r\n\t\tpress: {\r\n\t\t\tscale: ({ active }) => (active ? 0.9 : 1),\r\n\t\t\ttransition: ({ i, active }) => ({\r\n\t\t\t\t//         delay: 800 + i * 1000,\r\n\t\t\t\tduration: active ? 25 : 0,\r\n\t\t\t\tdelay: 0,\r\n\t\t\t\t//         type: \"spring\",\r\n\t\t\t\t//         stiffness: 70,\r\n\t\t\t\tmass: 1.5,\r\n\t\t\t\t//         damping: 12\r\n\t\t\t}),\r\n\t\t},\r\n\t\tprops: {\r\n\t\t\ti: 0,\r\n\t\t\tstep: 0,\r\n\t\t\tround: 0,\r\n\t\t\tquizIsDone: false,\r\n\t\t\tactive: false,\r\n\t\t\tnumAnswers: 2,\r\n\t\t},\r\n\t},\r\n\tcard__grid: {\r\n\t\thidden: {\r\n\t\t\topacity: 0,\r\n\t\t\ttransition: ({ i = 0 }) => ({\r\n\t\t\t\tdelay: i * 100,\r\n\t\t\t\tduration: DURATIONS.exit,\r\n\t\t\t\ttype: \"spring\",\r\n\t\t\t\tstiffness: 150,\r\n\t\t\t\tmass: 1,\r\n\t\t\t\tdamping: 20,\r\n\t\t\t}),\r\n\t\t},\r\n\t\tvisible: {\r\n\t\t\t//enter and re-enter\r\n\t\t\topacity: 1,\r\n\t\t\ttransition: ({ i = 0, numItems = 0 }) => ({\r\n\t\t\t\tdelay: (numItems - i) * 100,\r\n\t\t\t\tduration: DURATIONS.enter,\r\n\t\t\t\ttype: \"spring\",\r\n\t\t\t\tstiffness: 200,\r\n\t\t\t\tdamping: 5,\r\n\t\t\t}),\r\n\t\t},\r\n\t\tpressable: ({ active }) => true,\r\n\t\tpress: {\r\n\t\t\tscale: ({ active }) => (active ? 0.9 : 0.8),\r\n\t\t\ttransition: ({ i, active }) => ({\r\n\t\t\t\t//         delay: 800 + i * 1000,\r\n\t\t\t\tduration: active ? 25 : 20,\r\n\t\t\t\tdelay: 0,\r\n\t\t\t\t//         type: \"spring\",\r\n\t\t\t\t//         stiffness: 70,\r\n\t\t\t\tmass: 1.5,\r\n\t\t\t\t//         damping: 12\r\n\t\t\t}),\r\n\t\t},\r\n\t},\r\n\tcard__pressable___sans_shadow: {\r\n\t\thidden: {\r\n\t\t\topacity: 0,\r\n\t\t\tscale: ({ i, step = 0, quizIsDone = false, round = 0 }) =>\r\n\t\t\t\tstep === 0 ? 2.5 : 2,\r\n\t\t\tx: ({ i, step = 0, round = 0 }) =>\r\n\t\t\t\twindow.innerWidth *\r\n\t\t\t\t(i % 2 === 0 ? 1 : -1) *\r\n\t\t\t\t(step === 0 && round === 0 ? 0.75 : 2),\r\n\r\n\t\t\ty: ({ i, step = 0, round = 0 }) =>\r\n\t\t\t\tstep === 0 && round === 0\r\n\t\t\t\t\t? window.innerHeight * -1 * (i < 2 ? 1.25 : 1.5)\r\n\t\t\t\t\t: 1,\r\n\t\t\ttransition: ({ step = 0, round = 0 }) => ({\r\n\t\t\t\tdelay: 0,\r\n\t\t\t\tduration:\r\n\t\t\t\t\tround === 0 && step === 0\r\n\t\t\t\t\t\t? DURATIONS.enter\r\n\t\t\t\t\t\t: DURATIONS.enter * 0.5,\r\n\t\t\t\ttype: \"spring\",\r\n\t\t\t\tstiffness: step === 0 ? 15 : 10,\r\n\t\t\t\tmass: step === 0 ? 1 : 0.8,\r\n\t\t\t\tdamping: step === 0 ? 20 : 5,\r\n\t\t\t}),\r\n\t\t},\r\n\t\tvisible: {\r\n\t\t\t//enter and re-enter\r\n\t\t\topacity: 1,\r\n\t\t\tscale: 1,\r\n\t\t\tx: 0,\r\n\t\t\ty: 0,\r\n\t\t\ttransition: ({\r\n\t\t\t\ti,\r\n\t\t\t\tdelay = DURATIONS.enter,\r\n\t\t\t\tactive,\r\n\t\t\t\tstep = 0,\r\n\t\t\t\tround = 0,\r\n\t\t\t}) => ({\r\n\t\t\t\tdelay: 0,\r\n\t\t\t\tduration:\r\n\t\t\t\t\tstep > 0\r\n\t\t\t\t\t\t? 0\r\n\t\t\t\t\t\t: round === 0\r\n\t\t\t\t\t\t? DURATIONS.enter\r\n\t\t\t\t\t\t: DURATIONS.enter * 0.75,\r\n\t\t\t\ttype: \"spring\",\r\n\t\t\t\tstiffness: step === 0 ? 30 : 25,\r\n\t\t\t\tmass: step === 0 ? 0.8 : 1,\r\n\t\t\t\tdamping: step === 0 ? 12 : 100,\r\n\t\t\t}),\r\n\t\t},\r\n\t\tpressable: ({ active }) => active,\r\n\t\tpress: {\r\n\t\t\tscale: ({ active }) => (active ? 0.9 : 1),\r\n\t\t\ttransition: ({ i, active }) => ({\r\n\t\t\t\t//         delay: 800 + i * 1000,\r\n\t\t\t\tduration: active ? 50 : 0,\r\n\t\t\t\tdelay: 0,\r\n\t\t\t\t//         type: \"spring\",\r\n\t\t\t\tstiffness: 25,\r\n\t\t\t\tmass: 1,\r\n\t\t\t\tdamping: 100,\r\n\t\t\t}),\r\n\t\t},\r\n\t\tprops: {\r\n\t\t\ti: 0,\r\n\t\t\tstep: 0,\r\n\t\t\tround: 0,\r\n\t\t\tquizIsDone: false,\r\n\t\t\tactive: false,\r\n\t\t\tnumAnswers: 2,\r\n\t\t},\r\n\t},\r\n\tcard__pressable: {\r\n\t\thidden: {\r\n\t\t\topacity: 0,\r\n\t\t\tscale: ({ i, step = 0, quizIsDone = false, round = 0 }) =>\r\n\t\t\t\tstep === 0 ? 2.5 : 2,\r\n\r\n\t\t\tboxShadow: ({ i, step = 0, round = 0 }) =>\r\n\t\t\t\t//assuming 2 rows with 2 items in each\r\n\t\t\t\t`${i % 2 === 0 ? \"32\" : \"-32\"}px ${-24 *\r\n\t\t\t\t\t(step === 0 ? 1 : 0.2)}px ${\r\n\t\t\t\t\ti < 2 ? \"24\" : \"24\"\r\n\t\t\t\t}px rgba(${\"68, 221, 238, 1\"})`,\r\n\t\t\tx: ({ i, step = 0, round = 0 }) =>\r\n\t\t\t\twindow.innerWidth *\r\n\t\t\t\t(i % 2 === 0 ? 1 : -1) *\r\n\t\t\t\t(step === 0 && round === 0 ? 0.75 : 2),\r\n\r\n\t\t\ty: ({ i, step = 0, round = 0 }) =>\r\n\t\t\t\tstep === 0 && round === 0\r\n\t\t\t\t\t? window.innerHeight * -1 * (i < 2 ? 1.25 : 1.5)\r\n\t\t\t\t\t: 1,\r\n\t\t\ttransition: ({ step = 0, round = 0 }) => ({\r\n\t\t\t\tdelay: 0,\r\n\t\t\t\tduration:\r\n\t\t\t\t\tround === 0 && step === 0\r\n\t\t\t\t\t\t? DURATIONS.enter\r\n\t\t\t\t\t\t: DURATIONS.enter * 0.5,\r\n\t\t\t\ttype: \"spring\",\r\n\t\t\t\tstiffness: step === 0 ? 15 : 10,\r\n\t\t\t\tmass: step === 0 ? 1 : 0.8,\r\n\t\t\t\tdamping: step === 0 ? 20 : 5,\r\n\t\t\t}),\r\n\t\t},\r\n\t\tvisible: {\r\n\t\t\t//enter and re-enter\r\n\t\t\topacity: 1,\r\n\t\t\tscale: 1,\r\n\t\t\tboxShadow: ({ i, step = 0, round = 0 }) =>\r\n\t\t\t\t//assuming 2 rows with 2 items in each\r\n\t\t\t\t`${(step === 0 ? 8 : 1) *\r\n\t\t\t\t\t(i % 2 === 0 ? \"1\" : \"-1\")}px ${(step === 0 ? 1 : 0.2) *\r\n\t\t\t\t\t-4}px ${i < 2 ? \"4\" : \"4\"}px rgba(${\"148, 116, 204, 0\"})`,\r\n\t\t\tx: 0,\r\n\t\t\ty: 0,\r\n\t\t\ttransition: ({\r\n\t\t\t\ti,\r\n\t\t\t\tdelay = DURATIONS.enter,\r\n\t\t\t\tactive,\r\n\t\t\t\tstep = 0,\r\n\t\t\t\tround = 0,\r\n\t\t\t}) => ({\r\n\t\t\t\tdelay: 0,\r\n\t\t\t\tduration:\r\n\t\t\t\t\tstep > 0\r\n\t\t\t\t\t\t? 0\r\n\t\t\t\t\t\t: round === 0\r\n\t\t\t\t\t\t? DURATIONS.enter\r\n\t\t\t\t\t\t: DURATIONS.enter * 0.75,\r\n\t\t\t\ttype: \"spring\",\r\n\t\t\t\tstiffness: step === 0 ? 30 : 25,\r\n\t\t\t\tmass: step === 0 ? 0.8 : 1,\r\n\t\t\t\tdamping: step === 0 ? 12 : 100,\r\n\t\t\t}),\r\n\t\t},\r\n\t\tpressable: ({ active }) => active,\r\n\t\tpress: {\r\n\t\t\tscale: ({ active }) => (active ? 0.9 : 1),\r\n\t\t\ttransition: ({ i, active }) => ({\r\n\t\t\t\t//         delay: 800 + i * 1000,\r\n\t\t\t\tduration: active ? 50 : 0,\r\n\t\t\t\tdelay: 0,\r\n\t\t\t\t//         type: \"spring\",\r\n\t\t\t\tstiffness: 25,\r\n\t\t\t\tmass: 1,\r\n\t\t\t\tdamping: 100,\r\n\t\t\t}),\r\n\t\t},\r\n\t\tprops: {\r\n\t\t\ti: 0,\r\n\t\t\tstep: 0,\r\n\t\t\tround: 0,\r\n\t\t\tquizIsDone: false,\r\n\t\t\tactive: false,\r\n\t\t\tnumAnswers: 2,\r\n\t\t},\r\n\t},\r\n\r\n\t/*older poses*/\r\n\tfadeIn: {\r\n\t\tenter: {\r\n\t\t\topacity: 1,\r\n\t\t\tdelay: DURATIONS.exit,\r\n\t\t\tafterChildren: true,\r\n\t\t\t//delayChildren: 50,\r\n\t\t\t//staggerChildren: 300\r\n\t\t\tduration: DURATIONS.enter,\r\n\t\t\t// z: \"0%\",\r\n\t\t\t//scale: 1,\r\n\t\t},\r\n\t\texit: {\r\n\t\t\topacity: 0,\r\n\t\t\t// z: ({ isEntering }) => (isEntering ? \"200%\" : \"-200%\"),\r\n\t\t\tdelay: 0,\r\n\t\t\tduration: DURATIONS.exit,\r\n\t\t\tafterChildren: true,\r\n\t\t\t//scale: 0,\r\n\t\t},\r\n\t},\r\n\tconfig1: {\r\n\t\tenter: {\r\n\t\t\tdelay: 300,\r\n\t\t\tbeforeChildren: 400,\r\n\t\t\topacity: 1,\r\n\t\t\tduration: 400,\r\n\t\t\t// z: \"0%\",\r\n\t\t\trotateY: \"0deg\",\r\n\t\t\t//scale: 1,\r\n\t\t},\r\n\t\texit: {\r\n\t\t\t// z: ({ isEntering }) => (isEntering ? \"200%\" : \"-200%\"),\r\n\t\t\tdelay: 300,\r\n\t\t\topacity: 0,\r\n\t\t\tduration: 400,\r\n\t\t\trotateY: \"90deg\",\r\n\t\t\t//scale: 0,\r\n\t\t},\r\n\t\tprops: { isEntering: true },\r\n\t},\r\n\r\n\tbargingIn: {\r\n\t\tenter: {\r\n\t\t\tdelay: 500,\r\n\t\t\tbeforeChildren: 400,\r\n\t\t\topacity: 1,\r\n\t\t\tduration: 400,\r\n\t\t\t// z: \"0%\",\r\n\t\t\tx: \"0vw\",\r\n\t\t\t//scale: 1,\r\n\t\t},\r\n\t\texit: {\r\n\t\t\t// z: ({ isEntering }) => (isEntering ? \"200%\" : \"-200%\"),\r\n\t\t\tdelay: 300,\r\n\t\t\topacity: 0,\r\n\t\t\tduration: 400,\r\n\t\t\tx: \"100vw\",\r\n\t\t\t//scale: 0,\r\n\t\t},\r\n\t\tprops: { isEntering: true },\r\n\t},\r\n\r\n\twhiteOut: {\r\n\t\tenter: {\r\n\t\t\tdelay: 300,\r\n\t\t\topacity: 1,\r\n\t\t\tduration: 300,\r\n\t\t\tbeforeChildren: true,\r\n\t\t\t// z: \"0%\",\r\n\t\t\t//scale: 1,\r\n\t\t},\r\n\t\texit: {\r\n\t\t\t// z: ({ isEntering }) => (isEntering ? \"200%\" : \"-200%\"),\r\n\t\t\tdelay: 300,\r\n\t\t\topacity: 0,\r\n\t\t\tduration: 300,\r\n\t\t\t//backgroundColor: \"#e0e0e0\"\r\n\r\n\t\t\t//scale: 0,\r\n\t\t},\r\n\t},\r\n\tzoom: {\r\n\t\tenter: {\r\n\t\t\tdelay: 150,\r\n\t\t\topacity: 1,\r\n\t\t\tduration: 200,\r\n\t\t\tbeforeChildren: true,\r\n\t\t\tzoom: 1,\r\n\t\t\t// z: \"0%\",\r\n\t\t\t//scale: 1,\r\n\t\t\tx: \"0%\",\r\n\t\t},\r\n\t\texit: {\r\n\t\t\t// z: ({ isEntering }) => (isEntering ? \"200%\" : \"-200%\"),\r\n\t\t\tdelay: 0,\r\n\t\t\topacity: 0,\r\n\t\t\tduration: 300,\r\n\t\t\tzoom: 0.1,\r\n\t\t\tx: \"50%\",\r\n\t\t\t//backgroundColor: \"#e0e0e0\"\r\n\r\n\t\t\t//scale: 0,\r\n\t\t},\r\n\t},\r\n};\r\nexport default POSES;\r\nexport { POSES, BASE_POSES };\r\n","const XS = 0;\r\nconst SM = 500;\r\nconst MD = 960;\r\nconst LG = 1280;\r\nconst XL = 1920;\r\n\r\nconst phone = {\r\n\tportrait: {\r\n\t\tminWidth: XS,\r\n\t\tmaxWidth: SM\r\n\t},\r\n\tlandscape: {\r\n\t\tminWidth: XS,\r\n\t\tmaxWidth: MD\r\n\t}\r\n};\r\n\r\nconst tablet = {\r\n\tportrait: {\r\n\t\tminWidth: SM + 1,\r\n\t\tmaxWidth: MD\r\n\t},\r\n\tlandscape: {\r\n\t\tminWidth: MD + 1,\r\n\t\tmaxWidth: LG\r\n\t}\r\n};\r\n\r\nconst largeScreen = {\r\n\tportrait: {\r\n\t\tminWidth: MD + 1,\r\n\t\tmaxWidth: LG\r\n\t},\r\n\tlandscape: {\r\n\t\tminWidth: LG + 1,\r\n\t\tmaxWidth: XL\r\n\t}\r\n};\r\nconst xlScreen = {\r\n\tportrait: {\r\n\t\tminWidth: LG + 1,\r\n\t\tmaxWidth: Infinity\r\n\t},\r\n\tlandscape: {\r\n\t\tminWidth: XL + 1,\r\n\t\tmaxWidth: Infinity\r\n\t}\r\n};\r\n\r\nconst screenSizes = {\r\n\tphone,\r\n\ttablet,\r\n\tlargeScreen,\r\n\txlScreen\r\n};\r\n\r\nexport default screenSizes;\r\n","import React, { useEffect, useContext, useCallback, useState } from \"react\";\r\nimport { useTheme } from \"@material-ui/styles\";\r\n//import useMediaQuery from \"@material-ui/core/useMediaQuery\";\r\n//import MEDIA_QUERIES from \"../constants/mediaQueries.js\";\r\nimport SCREEN_SIZES from \"../constants/screenSizes.js\";\r\nimport { AppContext } from \"./AppContext.jsx\";\r\n\r\nconst initialScreenData = { phone: { portrait: true } };\r\n\r\nconst label = \"DeviceContext\";\r\nlet logg;\r\nlet loggError;\r\n\r\nconst isInFullScreen = () => {\r\n\treturn Boolean(\r\n\t\t(!window.screenTop && !window.screenY) ||\r\n\t\t\tdocument.isFullScreen ||\r\n\t\t\tdocument.fullscreenElement ||\r\n\t\t\tdocument.webkitFullscreenElement ||\r\n\t\t\tdocument.mozFullScreenElement ||\r\n\t\t\tdocument.msFullscreenElement\r\n\t);\r\n};\r\n\r\nconst setAppbarHeight = (cssValueString = \"\") => {\r\n\tdocument.documentElement.style.setProperty(\r\n\t\t\"--appbar-height\",\r\n\t\tcssValueString\r\n\t);\r\n};\r\n\r\nconst setAppbarSize = (ev) => {\r\n\tconst appbar = document.querySelector(\".appbar-container\");\r\n\tdebugger;\r\n\tif (!appbar) {\r\n\t\tloggError(\r\n\t\t\t`Did not find the appbar element, so can't toggle its opacity when entering/exiting fullscreen mode`\r\n\t\t);\r\n\t\treturn null;\r\n\t}\r\n};\r\n\r\nconst isPhoneOrTablet = () => {\r\n\tlet indeedMobile = false;\r\n\t(function(a) {\r\n\t\tif (\r\n\t\t\t/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(\r\n\t\t\t\ta\r\n\t\t\t) ||\r\n\t\t\t/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(\r\n\t\t\t\ta.substr(0, 4)\r\n\t\t\t)\r\n\t\t)\r\n\t\t\tindeedMobile = true;\r\n\t})(navigator.userAgent || navigator.vendor || window.opera);\r\n\treturn indeedMobile;\r\n};\r\nconst isMobile = isPhoneOrTablet();\r\n\r\n//max size units in portrait-only mode\r\nlet vw_max__portrait;\r\nlet vw_max__portraitPx;\r\nlet vh_max__portrait;\r\nlet vh_max__portraitPx;\r\nlet vh_max__portrait___minus_appbar;\r\nlet vh_max__portrait___minus_appbarPx;\r\n\r\n//max size units in landscape-only mode\r\nlet vw_max__landscape;\r\nlet vw_max__landscapePx;\r\nlet vh_max__landscape;\r\nlet vh_max__landscapePx;\r\nlet vh_max__landscape___minus_appbar;\r\nlet vh_max__landscape___minus_appbarPx;\r\n\r\nconst getDecimalString = (num, withPx = true) => {\r\n\t//with 2 digits after the decimal point\r\n\treturn (num * 0.01).toString().slice(0, 6);\r\n};\r\nconst addPxSuffix = (str) => str + \"px\";\r\n\r\n/*Important: this Context should be consumed only by components that do not mind re-render on orientation change or screen resizing (which may cause orientation change, at least insofar as orientation detection goes).\r\n */\r\n\r\n//create a Context object.\r\n//Note: There's no need for inital value and setter for the context, as these will be set to the state and state setter in just a moment.\r\nconst DeviceContext = React.createContext([{}, () => {}]);\r\n\r\n//wrap the context in a stateful component, so that we can provide *dynamic* context (i.e. data and functionality that can be changed during application runtime)\r\nconst DeviceContextProvider = (props) => {\r\n\tconst [appUtils] = useContext(AppContext);\r\n\tconst { Logger } = appUtils;\r\n\tif (!logg || !loggError) {\r\n\t\tconst logger = new Logger({ label });\r\n\t\tlogg = logger.logg;\r\n\t\tloggError = logger.loggError;\r\n\t}\r\n\tconst theme = useTheme();\r\n\tconst [responsiveData, setResponsiveData] = useState(initialScreenData);\r\n\r\n\tconst setDimensionVars = useCallback(\r\n\t\t(ev, setMaxValues = false) => {\r\n\t\t\t//current dimensions\r\n\t\t\tconst { innerHeight: height, innerWidth: width } = window;\r\n\r\n\t\t\tconst screen = {};\r\n\r\n\t\t\t//check orientation\r\n\t\t\tconst orientation = height > width ? \"portrait\" : \"landscape\";\r\n\r\n\t\t\t//check screen type, e.g. : PHONE, TABLET, LARGE_SCREEN, XL_SCREEN\r\n\t\t\tlet screenType;\r\n\t\t\tfor (let [_screenType, screenOrientations] of Object.entries(\r\n\t\t\t\tSCREEN_SIZES\r\n\t\t\t)) {\r\n\t\t\t\tscreen[_screenType] = screen[_screenType] || {};\r\n\t\t\t\tif (!screenType) {\r\n\t\t\t\t\tconst dimensions = screenOrientations[orientation]; //e.g: phone.portrait or phone.landscape\r\n\t\t\t\t\tconst { minWidth, maxWidth } = dimensions;\r\n\r\n\t\t\t\t\tif (width >= minWidth && width <= maxWidth) {\r\n\t\t\t\t\t\tscreenType = _screenType;\r\n\t\t\t\t\t\tscreen[_screenType][orientation] = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (!screenType) {\r\n\t\t\t\tdebugger;\r\n\t\t\t}\r\n\t\t\tscreenType = screenType || \"xl-screen\";\r\n\t\t\t// screenType = screenType || \"phone\"; //mobile-first\r\n\r\n\t\t\tconst { phone, tablet, largeScreen, xlScreen } = screen;\r\n\r\n\t\t\t//for more concise styling\r\n\t\t\tconst size =\r\n\t\t\t\tscreenType === \"phone\"\r\n\t\t\t\t\t? \"small\"\r\n\t\t\t\t\t: tablet.portrait\r\n\t\t\t\t\t? \"medium\"\r\n\t\t\t\t\t: \"large\";\r\n\r\n\t\t\t//there is no cross-browser mechanism to detect fullscreen :( (Chrome treats maximzed window as full screen, which is not good for us if we want to hide the appbar when in fullscreen mode)\r\n\t\t\t// let fullscreen = isInFullScreen();\r\n\t\t\tlet fullscreen = false;\r\n\r\n\t\t\tconst {\r\n\t\t\t\t//appbarHeightXs,\r\n\t\t\t\tappbarHeightSm,\r\n\t\t\t\tappbarHeightMd,\r\n\t\t\t\tappbarHeightLg,\r\n\t\t\t\tdrawerWidth,\r\n\t\t\t} = theme.layout;\r\n\r\n\t\t\tconst appbarHeight = fullscreen\r\n\t\t\t\t? 0\r\n\t\t\t\t: screenType === \"phone\"\r\n\t\t\t\t? appbarHeightSm\r\n\t\t\t\t: screenType === \"tablet\"\r\n\t\t\t\t? appbarHeightMd\r\n\t\t\t\t: screenType === \"largeScreen\" || screenType === \"xlScreen\"\r\n\t\t\t\t? appbarHeightMd\r\n\t\t\t\t: appbarHeightSm; //mobile-first design\r\n\t\t\tconst appmenuWidth = drawerWidth;\r\n\t\t\tconst isAppbarVisible = Boolean(appbarHeight);\r\n\t\t\tconst appbarHeightValue = addPxSuffix(appbarHeight);\r\n\t\t\tconst appbarWidthValue = addPxSuffix(appmenuWidth);\r\n\t\t\t// setAppbarHeight(appbarHeightValue);\r\n\r\n\t\t\tconst docElemStyle = document.documentElement.style;\r\n\t\t\tdocElemStyle.setProperty(\"--appbar-height\", appbarHeightValue);\r\n\t\t\tdocElemStyle.setProperty(\"--drawer-width\", appbarWidthValue);\r\n\r\n\t\t\tconst responsiveData = {\r\n\t\t\t\tisMobile,\r\n\t\t\t\tdevice: screenType,\r\n\t\t\t\torientation,\r\n\t\t\t\tphone,\r\n\t\t\t\ttablet,\r\n\t\t\t\tlargeScreen,\r\n\t\t\t\txlScreen,\r\n\t\t\t\tappbarHeight,\r\n\t\t\t\tisAppbarVisible,\r\n\t\t\t\tsize, //legacy\r\n\t\t\t\tscreenSize: size,\r\n\t\t\t\t//fullscreen\r\n\t\t\t};\r\n\r\n\t\t\tconst vh = getDecimalString(height);\r\n\t\t\tconst vhPx = addPxSuffix(vh);\r\n\t\t\tconst vw = getDecimalString(width);\r\n\t\t\tconst vwPx = addPxSuffix(vw);\r\n\r\n\t\t\t//update current viewport height & width\r\n\t\t\tdocElemStyle.setProperty(\"--vh\", vhPx);\r\n\t\t\tdocElemStyle.setProperty(\"--vw\", vwPx);\r\n\r\n\t\t\tif (!setMaxValues) {\r\n\t\t\t\t//use the pre-existing max units along with the updated vh and mw\r\n\t\t\t\tresponsiveData.sizeUnits = {\r\n\t\t\t\t\t//current units (0.01) of viewport width & height\r\n\t\t\t\t\tvw: vwPx,\r\n\t\t\t\t\tvh: vhPx,\r\n\t\t\t\t\t//the following will have the values that were already set (they are stored as a closure, above)\r\n\t\t\t\t\t//full viewport sizes for portrait-only\r\n\t\t\t\t\tvw_max__portrait: vw_max__portraitPx,\r\n\t\t\t\t\tvh_max__portrait: vh_max__portraitPx,\r\n\t\t\t\t\tvh_max__portrait___minus_appbar: vh_max__portrait___minus_appbarPx,\r\n\t\t\t\t\t//full viewport sizes for landscape-only\r\n\t\t\t\t\tvw_max__landscape: vw_max__landscapePx,\r\n\t\t\t\t\tvh_max__landscape: vh_max__landscapePx,\r\n\t\t\t\t\tvh_max__landscape___minus_appbar: vh_max__landscape___minus_appbarPx,\r\n\t\t\t\t};\r\n\t\t\t\treturn setResponsiveData(responsiveData);\r\n\t\t\t}\r\n\r\n\t\t\t//on first render, set the initial height and width to serve as the MAXIMUM height and width (assuming that the screen size itself (not its inner viewport) never changes. (viewport height might change when the mobile keyboard opens up)\r\n\t\t\tconst greaterLength = Math.max(height, width);\r\n\t\t\t// const greaterLengthDecimal = getDecimalString(greaterLength);\r\n\t\t\tconst lesserLength = greaterLength === height ? width : height;\r\n\t\t\t// const lesserLengthDecimal = getDecimalString(lesserLength);\r\n\r\n\t\t\t// const greaterLengthPx = greaterLengthDecimal + \"px\";\r\n\t\t\t// const lesserLengthPx = lesserLengthDecimal + \"px\";\r\n\r\n\t\t\t//portrait-only mode\r\n\t\t\t//in portrait mode, the width is smaller than the height\r\n\t\t\tvw_max__portrait = lesserLength;\r\n\t\t\tvw_max__portraitPx = addPxSuffix(\r\n\t\t\t\tgetDecimalString(vw_max__portrait)\r\n\t\t\t);\r\n\t\t\tdocElemStyle.setProperty(\"--vw-max--portrait\", vw_max__portraitPx);\r\n\r\n\t\t\tvh_max__portrait = greaterLength;\r\n\t\t\tvh_max__portraitPx = addPxSuffix(\r\n\t\t\t\tgetDecimalString(vh_max__portrait)\r\n\t\t\t);\r\n\t\t\tdocElemStyle.setProperty(\"--vh-max--portrait\", vh_max__portraitPx);\r\n\r\n\t\t\tvh_max__portrait___minus_appbar = getDecimalString(\r\n\t\t\t\tgreaterLength - appbarHeight\r\n\t\t\t);\r\n\t\t\tvh_max__portrait___minus_appbarPx = addPxSuffix(\r\n\t\t\t\tvh_max__portrait___minus_appbar\r\n\t\t\t);\r\n\t\t\tdocElemStyle.setProperty(\r\n\t\t\t\t\"--vh-max--portrait---minus-appbar\",\r\n\t\t\t\tvh_max__portrait___minus_appbarPx\r\n\t\t\t);\r\n\r\n\t\t\t//landscape-only mode\r\n\t\t\t//In landscape mode, the width is larger than the height\r\n\t\t\tvw_max__landscape = greaterLength;\r\n\t\t\tvw_max__landscapePx = addPxSuffix(getDecimalString(greaterLength));\r\n\t\t\tdocElemStyle.setProperty(\r\n\t\t\t\t\"--vw-max--landscape\",\r\n\t\t\t\tvw_max__landscapePx\r\n\t\t\t);\r\n\r\n\t\t\tvh_max__landscape = getDecimalString(lesserLength);\r\n\t\t\tvh_max__landscapePx = addPxSuffix(vh_max__landscape);\r\n\t\t\tdocElemStyle.setProperty(\r\n\t\t\t\t\"--vh-max--landscape\",\r\n\t\t\t\tvh_max__landscapePx\r\n\t\t\t);\r\n\t\t\tvh_max__landscape___minus_appbar = getDecimalString(\r\n\t\t\t\tlesserLength - appbarHeight\r\n\t\t\t);\r\n\t\t\tvh_max__landscape___minus_appbarPx = addPxSuffix(\r\n\t\t\t\tvh_max__landscape___minus_appbar\r\n\t\t\t);\r\n\t\t\tdocElemStyle.setProperty(\r\n\t\t\t\t\"--vh-max--landscape---minus-appbar\",\r\n\t\t\t\tvh_max__landscape___minus_appbarPx\r\n\t\t\t);\r\n\r\n\t\t\t// vh_max__landscape___minus_appbar = addPxSuffix(\r\n\t\t\t// \tgetDecimalString(lesserLength - appbarHeight)\r\n\t\t\t// );\r\n\t\t\t// \tvh_max__landscape___minus_appbarPx = addPxSuffix(\r\n\t\t\t// \tvh_max__landscape___minus_appbar)\r\n\t\t\t// );\r\n\r\n\t\t\tresponsiveData.sizeUnits = {\r\n\t\t\t\t//current units (0.01) of viewport width & height\r\n\t\t\t\tvw: vwPx,\r\n\t\t\t\tvh: vhPx,\r\n\t\t\t\t//the following will have the values that were already set (they are stored as a closure, above)\r\n\t\t\t\t//full viewport sizes for portrait-only\r\n\t\t\t\tvw_max__portrait: vw_max__portraitPx,\r\n\t\t\t\tvh_max__portrait: vh_max__portraitPx,\r\n\t\t\t\tvh_max__portrait___minus_appbar: vh_max__portrait___minus_appbarPx,\r\n\t\t\t\t//full viewport sizes for landscape-only\r\n\t\t\t\tvw_max__landscape: vw_max__landscapePx,\r\n\t\t\t\tvh_max__landscape: vh_max__landscapePx,\r\n\t\t\t\tvh_max__landscape___minus_appbar: vh_max__landscape___minus_appbarPx,\r\n\t\t\t};\r\n\r\n\t\t\treturn setResponsiveData(responsiveData);\r\n\t\t},\r\n\t\t[theme.layout]\r\n\t);\r\n\r\n\tuseEffect(() => {\r\n\t\tlogg(\"Responsive data : \", responsiveData);\r\n\t}, [responsiveData]);\r\n\r\n\tuseEffect(() => {\r\n\t\t//Just once, set initial viewport height and width to serve as the max values (for mobile devices, which unlike a desktop/laptop browser, have a fixed max screen height and width)\r\n\t\tsetDimensionVars(null, \"set max values\");\r\n\t\twindow.addEventListener(\"resize\", setDimensionVars);\r\n\r\n\t\t// //listen for entering/exiting fullscreen mode. In fullscreen, hide the appbar\r\n\t\tdocument.addEventListener(\"mozfullscreenchange\", setAppbarSize, false);\r\n\t\tdocument.addEventListener(\r\n\t\t\t\"webkitfullscreenchange\",\r\n\t\t\tsetAppbarSize,\r\n\t\t\tfalse\r\n\t\t);\r\n\t\tdocument.addEventListener(\"fullscreenchange\", setAppbarSize, false);\r\n\t\t// setAppbarSize();\r\n\r\n\t\treturn () => {\r\n\t\t\twindow.removeEventListener(\"resize\", setDimensionVars, false);\r\n\t\t};\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<DeviceContext.Provider value={responsiveData}>\r\n\t\t\t{props.children}\r\n\t\t</DeviceContext.Provider>\r\n\t);\r\n};\r\n\r\nexport { DeviceContext, DeviceContextProvider };\r\n\r\n/* consume the state in a nested component, like so:\r\n\r\nAt the top of the nested component file, import the context: \r\n\r\n\timport { AppContext } from \"../contexts/AppContext\";\r\n\r\nThem, inside the function component:\r\n\r\n\tconst responsiveData = useContext(DeviceContext);\r\n\r\n*/\r\n","import {\r\n\tatom,\r\n\t// selector,\r\n} from \"recoil\";\r\n\r\nconst recoilState = atom({\r\n\tkey: \"authenticatedUser\",\r\n\tdefault: null,\r\n});\r\n\r\nexport default recoilState;\r\n","import Logger from \"../logg.js\";\r\n\r\nconst logger = new Logger({ label: \"SynthVoice\", stylePreset: \"purple\" });\r\nconst { logg, loggError } = logger;\r\n\r\nclass Param {\r\n    constructor(defaultValue) {\r\n        this.defaultValue = defaultValue;\r\n    }\r\n}\r\nclass BooleanParam extends Param {\r\n    constructor(defaultValue = false) {\r\n        super(defaultValue);\r\n    }\r\n}\r\nclass RangeParam extends Param {\r\n    constructor([min = 0, max = 2], defaultValue = 1) {\r\n        super(defaultValue);\r\n        this.min = min;\r\n        this.max = max;\r\n    }\r\n}\r\nclass EnumParam extends Param {\r\n    constructor(acceptedValues, defaultValue) {\r\n        super(defaultValue || acceptedValues[0]);\r\n        this.acceptedValues = acceptedValues;\r\n    }\r\n}\r\nclass EventParam extends Param {\r\n    constructor(eventHandler = \"\") {\r\n        super(eventHandler);\r\n    }\r\n}\r\n\r\nconst getRandomUpTo = (max, numGenerations = 1, min = 0) => {\r\n    //returns an integer that is >= 0 and <= max\r\n    let rand;\r\n    for (let i = 0; i < numGenerations; i++) {\r\n        rand = Math.random();\r\n    }\r\n    const randInt = Math.floor(rand * (max + 1));\r\n    return randInt;\r\n};\r\n\r\nconst pickRandomFrom = (arr = []) => {\r\n    if (!arr || !arr.length) {\r\n        return null;\r\n    }\r\n    return arr[getRandomUpTo(arr.length - 1, 3)];\r\n};\r\n\r\nconst VOICE_PARAMS = {\r\n    lang: new EnumParam([\"en\", \"he\"]),\r\n    accent: new EnumParam([\"gb\", \"us\", \"il\"]),\r\n\r\n    pitch: new RangeParam([0, 2], 1.2),\r\n    rate: new RangeParam([0.1, 2], 0.55),\r\n    volume: new RangeParam([0, 1], 1),\r\n};\r\nconst EXTRA_PARAMS = {\r\n    timeout: new RangeParam([0, 1000000], 5000),\r\n    gender: new EnumParam([\"female\", \"male\"]),\r\n    autoResolveWhenDebugging: new BooleanParam(false),\r\n    DEBUGGING: new BooleanParam(false),\r\n    onStart: new EventParam((e) => {\r\n        const _utterance = e.target; //target is an instance of SpeetchSynthesisUtterance\r\n        // logg(`${_utterance.voice.name} says: \"${_utterance.text}\"`);\r\n    }),\r\n\r\n    onPause: new EventParam((e) => {\r\n        logg(\"utterance.onpause event fired!\");\r\n    }),\r\n    onResume: new EventParam((e) => {\r\n        logg(\"utterance.onresume event fired!\");\r\n    }),\r\n    onMark: new EventParam((e) => {\r\n        logg(\"utterance.on MARK event fired!\", e.name);\r\n    }),\r\n    onBoundary: new EventParam(function(ev) {\r\n        const { numWords, onFinalWordStart } = this;\r\n        let { wordIndex } = this;\r\n\r\n        // logg(\r\n        //     `${ev.name} (index ${wordIndex})) boundary reached after ${(\r\n        //         ev.elapsedTime / 1000\r\n        //     )\r\n        //         .toString()\r\n        //         .slice(0, 4)} seconds.`\r\n        // );\r\n        if (wordIndex === numWords) {\r\n            //last word has has started being emitted\r\n            // logg(\r\n            //     `Final word (\"${\r\n            //         ev.target.text.split(\" \").slice(-1)[0]\r\n            //     }\") has started being emitted. `\r\n            // );\r\n            if (onFinalWordStart) {\r\n                onFinalWordStart({ utterance: ev.target });\r\n            }\r\n        }\r\n\r\n        this.wordIndex++;\r\n    }),\r\n    onEnd: new EventParam(\r\n        ({\r\n            text = \"\",\r\n            voice,\r\n            config,\r\n            elapsedTime,\r\n            utterance,\r\n            resolveSpeak,\r\n            rejectSpeak,\r\n        }) => {\r\n            // logg(`Finished saying \"${text}\"`);\r\n            return resolveSpeak({\r\n                text,\r\n                voice,\r\n                config,\r\n                elapsedTime,\r\n                utterance,\r\n            });\r\n        }\r\n    ),\r\n    onError: new EventParam((ev, reject) => {\r\n        loggError(\"Synth speech threw an error: \", ev);\r\n        // reject(ev);\r\n        return ev;\r\n    }),\r\n};\r\nconst PARAMS = { voice: VOICE_PARAMS, extra: EXTRA_PARAMS };\r\n\r\nconst isChrome = () => {\r\n    const isChromium = window.chrome;\r\n    const winNav = window.navigator;\r\n    const vendorName = winNav.vendor;\r\n    const isOpera = typeof window.opr !== \"undefined\";\r\n    const isIEedge = winNav.userAgent.indexOf(\"Edge\") > -1;\r\n    const isIOSChrome = winNav.userAgent.match(\"CriOS\");\r\n    return (\r\n        isIOSChrome ||\r\n        (isChromium !== null &&\r\n            typeof isChromium !== \"undefined\" &&\r\n            vendorName === \"Google Inc.\" &&\r\n            isOpera === false &&\r\n            isIEedge === false)\r\n    );\r\n};\r\n\r\nconst fallback = {\r\n    say: () =>\r\n        new Promise((resolve) => {\r\n            setTimeout(() => {\r\n                const msg = \"No Synth voice available.\";\r\n                logg(msg);\r\n                resolve(msg);\r\n            }, 50);\r\n        }),\r\n};\r\n\r\nconst getLang = (langAndAccent) => {\r\n    if (!langAndAccent) {\r\n        logg(\"getLang() error: missing paramter \");\r\n        return null;\r\n    }\r\n    let lang;\r\n    const underscoreSplit = langAndAccent.split(\"_\");\r\n    lang = underscoreSplit[1]\r\n        ? underscoreSplit[0]\r\n        : langAndAccent.split(\"-\")[0];\r\n    return lang.toLowerCase();\r\n};\r\n\r\nconst getAccent = (langAndAccent) => {\r\n    if (!langAndAccent) {\r\n        logg(\"getAccent() error: missing paramter \");\r\n        return null;\r\n    }\r\n    let accent;\r\n    const underscoreSplit = langAndAccent.split(\"_\");\r\n    accent = underscoreSplit[1] || langAndAccent.split(\"-\")[1];\r\n    return accent.toLowerCase();\r\n};\r\n\r\nclass SynthVoice {\r\n    PARAMS = PARAMS;\r\n    speechSynthesisInstance = null;\r\n    config = {};\r\n    voice = null;\r\n    autoResolveTimer = null;\r\n    active = true;\r\n\r\n    setAutoResolveTimer = (timer) => (this.autoResolveTimer = timer);\r\n    cancelAutoResolveTimer = () =>\r\n        this.autoResolveTimer && clearTimeout(this.autoResolveTimer);\r\n\r\n    turnOff = () => {\r\n        this.active = false;\r\n        logg(\"SynthVoice is now OFF\");\r\n    };\r\n\r\n    turnOn = () => {\r\n        this.active = true;\r\n        logg(\"SynthVoice is now ACTIVE\");\r\n    };\r\n    shutUp = () => {\r\n        logg(\"SynthVoice is shutting up :X \");\r\n        window.speechSynthesis.cancel();\r\n    };\r\n    shutUpAndTurnOff = () => {\r\n        this.shutUp();\r\n        this.turnOff();\r\n    };\r\n    getConfig = (desiredParams = []) => {\r\n        const { config } = this;\r\n        const report = {};\r\n        if (desiredParams && desiredParams.length && desiredParams.length > 0) {\r\n            for (let paramName of desiredParams) {\r\n                report[paramName] = config[paramName];\r\n            }\r\n            return report;\r\n        }\r\n        return config;\r\n    };\r\n\r\n    constructor(config = {}) {\r\n        const speechSynthesis = window.speechSynthesis;\r\n\r\n        if (!speechSynthesis) {\r\n            const msg =\r\n                \"The SpeechSynthesis API is not supported in current browser. Consider using a modern browser to enjoy the latest technological offferings :)\";\r\n            loggError(msg);\r\n            return fallback;\r\n        }\r\n\r\n        window.addEventListener(\"unload\", (event) => {\r\n            this.shutUp();\r\n        });\r\n\r\n        const normalizedConfig = {};\r\n        const allParams = { ...PARAMS.voice, ...PARAMS.extra };\r\n        for (let [paramName, value] of Object.entries(allParams)) {\r\n            const val =\r\n                config[paramName] || config[paramName] === 0\r\n                    ? config[paramName]\r\n                    : allParams[paramName].defaultValue;\r\n\r\n            const paramType =\r\n                paramName in this.PARAMS.voice ? \"voice\" : \"extra\";\r\n            normalizedConfig[paramName] = this.normalize(\r\n                paramName,\r\n                val,\r\n                paramType\r\n            );\r\n        }\r\n\r\n        this.config = normalizedConfig;\r\n\r\n        //for Chrome support\r\n        window.speechSynthesis.onvoiceschanged = this.populateVoice;\r\n\r\n        if (isChrome()) return this;\r\n\r\n        //for other browsers\r\n        this.populateVoice(null)\r\n            .then((voice) => {\r\n                logg(\"populated the following synthetic voice: \", voice);\r\n                return this;\r\n            })\r\n            .catch((e) => {\r\n                const msg = \"could not populate synthetic voice.\";\r\n                logg(msg);\r\n                return this;\r\n            });\r\n\r\n        return;\r\n    }\r\n\r\n    populateVoice = async (ev, self = this) => {\r\n        try {\r\n            const allVoices = await this.getVoices();\r\n            //const { lang, accent, gender } = this.config;\r\n            const appropriateVoices = this.filterVoices(allVoices, this.config);\r\n\r\n            /*todo: add support for selecting a voice*/\r\n            const numVoices = appropriateVoices.length;\r\n            if (numVoices <= 0) {\r\n                const errMsg =\r\n                    \"No synthetic voices passed the filtering process. Consider requiring less parameters.\";\r\n                return Promise.reject(errMsg);\r\n            }\r\n            logg(`Available voices: `, appropriateVoices);\r\n\r\n            //give precedence to some voices\r\n            const preferredVoiceNames = [\r\n                \"microsoft zira desktop - english (united states)\",\r\n                \"google us english\",\r\n            ];\r\n\r\n            const preferredVoices = appropriateVoices.filter((voice) => {\r\n                return preferredVoiceNames.includes(voice.name.toLowerCase());\r\n            });\r\n\r\n            // const voice = preferredVoice || appropriateVoices[0];\r\n            // const voice = preferredVoice || pickRandomFrom(appropriateVoices);\r\n            const voice = preferredVoices.length\r\n                ? preferredVoices[0]\r\n                : pickRandomFrom(appropriateVoices);\r\n\r\n            if (voice.name.toLowerCase().includes(\"zira\")) {\r\n                self.config.rate = 0.55;\r\n                self.config.pitch = 1.2;\r\n            }\r\n            if (voice.name.toLowerCase().includes(\"google\")) {\r\n                self.config.rate = 0.7;\r\n                self.config.pitch = 1.1;\r\n            }\r\n\r\n            this.voice = voice;\r\n            logg(`Successfully loaded voice: `, voice);\r\n            return Promise.resolve(voice);\r\n        } catch (err) {\r\n            logg(err);\r\n            return Promise.reject(err.message);\r\n        }\r\n    };\r\n\r\n    getVoices = () => {\r\n        return new Promise((resolve, reject) => {\r\n            if (typeof window.speechSynthesis === \"undefined\") {\r\n                return reject({\r\n                    message: \"window.speechSynthesis is not available.\",\r\n                });\r\n            }\r\n\r\n            //try to load voices both synchronously and asynchronously\r\n\r\n            let voicesSync;\r\n            try {\r\n                voicesSync = window.speechSynthesis.getVoices((voices) => {\r\n                    //async, callback-based loading (implemented in most browsers)\r\n                    if (voices && voices.length && voices.length > 0) {\r\n                        return resolve(voices);\r\n                    } else {\r\n                        return reject(\"No synth voices found. \");\r\n                    }\r\n                });\r\n            } catch (err) {\r\n                return reject(\"window.speechSynthesis.getVoices() failed.\");\r\n            }\r\n\r\n            if (voicesSync) {\r\n                //voices were loaded synchoronously (implemented in Chrome)\r\n                if (voicesSync.length && voicesSync.length > 0) {\r\n                    return resolve(voicesSync);\r\n                } else {\r\n                    return reject(\"No synth voices found. \");\r\n                }\r\n            }\r\n        });\r\n    };\r\n\r\n    filterVoices = (voices, requiredParams) => {\r\n        if (!voices) {\r\n            return null;\r\n        }\r\n        if (!requiredParams) {\r\n            return voices;\r\n        }\r\n\r\n        let filteredVoices = voices.filter((voice) => {\r\n            //go over the required voice-parameter values. If a requirement is not met, the voice will be filtered out.\r\n            const voiceName = voice.name.toLowerCase();\r\n            // if (voiceName.includes(\"microsoft\")) {\r\n            //     return false; //cause they suck\r\n            // }\r\n\r\n            const requiredParamsIterator = Object.entries(requiredParams);\r\n            let noConflicts = true;\r\n            // if (voiceName === \"Google US English\".toLowerCase()) {\r\n            //     debugger;\r\n            // }\r\n\r\n            for (let [requiredParam, requiredValue] of requiredParamsIterator) {\r\n                requiredParam = requiredParam.toLowerCase();\r\n\r\n                switch (requiredParam) {\r\n                    case \"lang\":\r\n                        // en_US / en_GB / en_AU\r\n                        // const underscored = voice.lang\r\n                        //     .split(\"_\")[0]\r\n                        //     .toLowerCase();\r\n                        // if (requiredValue !== underscored) {\r\n                        //     const dashed = voice.lang\r\n                        //         .split(\"-\")[0]\r\n                        //         .toLowerCase();\r\n                        const lang = getLang(voice.lang);\r\n\r\n                        if (lang !== requiredValue) {\r\n                            noConflicts = false;\r\n                        }\r\n                        break;\r\n                    case \"accent\":\r\n                        // gb\r\n                        const accent = getAccent(voice.lang);\r\n                        if (accent !== requiredValue) {\r\n                            noConflicts = false;\r\n                        }\r\n                        break;\r\n                    case \"gender\":\r\n                        // male/female\r\n                        const voiceGender =\r\n                            voiceName.includes(\"female\") ||\r\n                            voiceName.includes(\"anna\") ||\r\n                            voiceName.includes(\"zira\") ||\r\n                            voiceName.includes(\"google us english\")\r\n                                ? \"female\"\r\n                                : \"male\";\r\n\r\n                        if (requiredValue !== voiceGender) {\r\n                            noConflicts = false;\r\n                        }\r\n                        break;\r\n                    default:\r\n                        //The rest of the parameters can be adjusted dynamically, so we don't filter according to them\r\n                        break;\r\n                } //switch\r\n                if (noConflicts) {\r\n                    //so far so good\r\n                    continue;\r\n                } else {\r\n                    //no point in continuing to check the current voice\r\n                    break;\r\n                }\r\n            } //for-loop on required parameters\r\n\r\n            //keep the voice only if all requirements were met\r\n            return noConflicts;\r\n        }); //filter function\r\n\r\n        if (filteredVoices.length <= 0) {\r\n            logg(\"No synthetic voice with specified requirements was found.\");\r\n            return voices;\r\n        }\r\n        return filteredVoices;\r\n    };\r\n\r\n    normalize = (paramName, val, propertyType = \"voice\") => {\r\n        //use the config object, if available, to get a fallback value. If an argument wasn't not passed in to config, use the parameter's default value.\r\n        const config = this.config || {};\r\n        const param = this.PARAMS[propertyType][paramName];\r\n        try {\r\n            if (!(param instanceof Param)) {\r\n                return val; //Unsupported parameter. Leave it unchanged.\r\n            }\r\n\r\n            let isNormal = false;\r\n\r\n            if (param instanceof RangeParam) {\r\n                isNormal = val >= param.min && val <= param.max;\r\n                if (!isNormal)\r\n                    throw new Error(\r\n                        `argument for paramater value is not a number`\r\n                    );\r\n            } else if (param instanceof EnumParam) {\r\n                isNormal = param.acceptedValues.includes(val);\r\n                if (!isNormal)\r\n                    throw new Error(\r\n                        `argument for paramater value is not an accepted enum value`\r\n                    );\r\n            } else if (param instanceof BooleanParam) {\r\n                return Boolean(val);\r\n            }\r\n            //param value is valid\r\n            return val;\r\n        } catch (err) {\r\n            loggError(err.message);\r\n            return param.defaultValue;\r\n        }\r\n    };\r\n\r\n    say = async (text, newConfig = {}, usePersistently = false) => {\r\n        //This is a wrapper function. It normalizes the passed voice parameters, executes the speech (by calling the private method _say()), awaits its results and finally returns it.\r\n        const self = this;\r\n        return new Promise(async (resolve, reject) => {\r\n            try {\r\n                if (\r\n                    self.config.DEBUGGING &&\r\n                    self.config.autoResolveWhenDebugging\r\n                )\r\n                    return resolve(\"autoResolveWhenDebugging\");\r\n                if (!text) {\r\n                    return reject(\"missing text parameter\");\r\n                }\r\n                if (!self.active) {\r\n                    return reject(\r\n                        `SynthVoice did NOT say \"${text}\", because SynthVoice instance is currently turned OFF. To turn it on, invoke synthVoice.turnOn()\r\n                    `\r\n                    );\r\n                }\r\n                const speechSynthesis = window.speechSynthesis || null;\r\n                if (!speechSynthesis) {\r\n                    return reject(\r\n                        \"speechSynthesis could not be found inside the window object.\"\r\n                    );\r\n                }\r\n                if (!self) {\r\n                    debugger;\r\n                }\r\n                if (!self.voice) {\r\n                    logg(\r\n                        `No synthetic voice is currently populated. Populating voice...`\r\n                    );\r\n\r\n                    logg(self);\r\n\r\n                    const newVoice = await self.populateVoice(null, self);\r\n\r\n                    if (!newVoice) {\r\n                        return null;\r\n                    }\r\n                    logg(`newVoice.name: ${newVoice.name}`);\r\n                }\r\n\r\n                const { speaking, pending, paused } = speechSynthesis;\r\n                if (paused || pending) {\r\n                    logg(\"speechSynthesis is busy!\");\r\n                    //return null;\r\n                }\r\n                if (speaking) {\r\n                    // Stop current utterance and cancel queued ones\r\n                    speechSynthesis.cancel();\r\n                }\r\n\r\n                //Normalize the arguments that were passed in\r\n                const normalizedConfig = {};\r\n                for (let [paramName, value] of Object.entries(newConfig)) {\r\n                    const paramType =\r\n                        paramName in self.PARAMS.voice ? \"voice\" : \"extra\";\r\n                    normalizedConfig[paramName] = self.normalize(\r\n                        paramName,\r\n                        value,\r\n                        paramType\r\n                    );\r\n                }\r\n\r\n                //override the previous configuration with the new values that were just passed in (any property that wasn't passed a new value will retain its original value)\r\n                const oldConfig = self.config;\r\n                const mergedConfig = Object.assign(\r\n                    {},\r\n                    oldConfig,\r\n                    normalizedConfig\r\n                );\r\n\r\n                if (usePersistently) {\r\n                    self.config = mergedConfig;\r\n                }\r\n\r\n                if (!mergedConfig) {\r\n                    debugger;\r\n                }\r\n\r\n                const speechResult = await self._speak(\r\n                    text,\r\n                    self.voice,\r\n                    mergedConfig\r\n                );\r\n\r\n                // const { onFinish, onError, onPause } = mergedConfig;\r\n                // if (onFinish) {\r\n                //     debugger;\r\n                //     await onFinish({\r\n                //         text,\r\n                //         config: mergedConfig,\r\n                //         voice: self.voice\r\n                //     });\r\n                // }\r\n\r\n                resolve(speechResult);\r\n            } catch (err) {\r\n                loggError(\"say() threw an error.\");\r\n                return reject(err);\r\n            }\r\n        });\r\n    };\r\n\r\n    wakeUp = () => {\r\n        try {\r\n            this._speak(\"\", this.voice);\r\n        } catch (err) {\r\n            if (err instanceof ReferenceError) {\r\n                logg(err + \"\\nCheck for relocation in master document.\");\r\n            }\r\n            if (err instanceof TypeError) {\r\n                logg(err + \"\\nCheck for a disaterous overwrite!\");\r\n            }\r\n        }\r\n    };\r\n\r\n    _speak(text = \"\", voice, config) {\r\n        //interfaces directly with the SpeechSynthesis API\r\n\r\n        const instance = this;\r\n\r\n        return new Promise(async (resolve, reject) => {\r\n            try {\r\n                if (!config) {\r\n                    const msg = \"no text\";\r\n                    logg(msg);\r\n                    return resolve(msg);\r\n                }\r\n\r\n                const utterance = new SpeechSynthesisUtterance();\r\n                utterance.voice = voice;\r\n                utterance.text = text;\r\n                utterance.onerror = (ev) => {\r\n                    //dont let a failed utterance ruin entire processes\r\n                    this.errored = true;\r\n                    if (config && config.onError) config.onError(ev, reject);\r\n                    loggError(\"error\");\r\n                    resolve(\"error\");\r\n                    // return reject(ev);\r\n                };\r\n                // logg(`finished saying \"${text}\"`);\r\n                utterance.onend = async (ev) => {\r\n                    this.cancelAutoResolveTimer();\r\n                    this.ended = true;\r\n                    const { elapsedTime, utterance } = ev;\r\n                    try {\r\n                        if (!config.onEnd)\r\n                            resolve({\r\n                                text,\r\n                                voice,\r\n                                config,\r\n                                elapsedTime,\r\n                                utterance,\r\n                            });\r\n                        await config.onEnd({\r\n                            //it's the responsibility of onEnd to call resolveSpeak and complete the call to say().\r\n                            resolveSpeak: resolve,\r\n                            rejectSpeak: reject,\r\n                            // the default onEnd() function logs a message and resolves with the following data\r\n                            text,\r\n                            voice,\r\n                            config,\r\n                            elapsedTime,\r\n                            utterance,\r\n                        });\r\n                    } catch (err) {\r\n                        loggError(err.message);\r\n                        reject(err.message);\r\n                    }\r\n\r\n                    // return this.errored ? reject(ev) : resolve(ev);\r\n                };\r\n\r\n                if (!text) {\r\n                    //wake up the native SpeechSynthesis API (it tends to sleep)\r\n                    window.speechSynthesis.speak(utterance);\r\n                    return resolve(\r\n                        \"Fired off and empty utterance to wake up the native SpeechSynthesis browser API\"\r\n                    );\r\n                }\r\n\r\n                let {\r\n                    lang,\r\n                    accent,\r\n                    pitch,\r\n                    rate,\r\n                    volume = 1,\r\n                    onStart,\r\n                    onPause,\r\n                    onResume,\r\n                    onMark,\r\n                    onBoundary,\r\n                } = config;\r\n\r\n                lang = lang && lang.toLowerCase() + \"-\" + accent.toUpperCase();\r\n\r\n                Object.assign(utterance, { lang, pitch, rate, volume });\r\n\r\n                const timeTillAutoResolve = 5000;\r\n                this.setAutoResolveTimer(\r\n                    setTimeout(() => {\r\n                        if (!instance.ended && !instance.errored) {\r\n                            const msg = `SpeechSynthesis Utterance of the text \" ${text} \" has timed out (${timeTillAutoResolve} milli seconds after starting). Resolving.`;\r\n                            logg(msg);\r\n\r\n                            return resolve(msg);\r\n                        }\r\n                    }, timeTillAutoResolve)\r\n                );\r\n\r\n                utterance.onstart = onStart;\r\n                utterance.onmark = onMark;\r\n                utterance.onpause = onPause;\r\n                utterance.onresume = onResume;\r\n                utterance.onboundary = onBoundary.bind({\r\n                    numWords: text.split(\" \").length,\r\n                    wordIndex: 0,\r\n                });\r\n                //\r\n\r\n                window.speechSynthesis.speak(utterance);\r\n                return;\r\n            } catch (err) {\r\n                logg(\r\n                    \"Error within speak(). SpeechSynthesis utterance has failed.\" +\r\n                        err\r\n                );\r\n                return resolve(err);\r\n                //TODO: reject instead\r\n            }\r\n        }); //promise\r\n    }\r\n\r\n    getConfig = () => this.config;\r\n}\r\n\r\nexport default SynthVoice;\r\nexport { SynthVoice, fallback };\r\n"],"sourceRoot":""}